function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep(o,n,a,i,s,"next",e)}function s(e){asyncGeneratorStep(o,n,a,i,s,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function asyncGeneratorStep$1(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator$1(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep$1(o,n,a,i,s,"next",e)}function s(e){asyncGeneratorStep$1(o,n,a,i,s,"throw",e)}i(void 0)})}}function getJSON(e,t,r){return _getJSON.apply(this,arguments)}function _getJSON(){return(_getJSON=_asyncToGenerator$1(regeneratorRuntime.mark(function e(t,r,n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Array.isArray(t)){e.next=7;break}return e.next=4,Promise.all(t.map(function(e){return getJSON(e)}));case 4:return a=e.sent,r&&r.apply(null,a),e.abrupt("return",a);case 7:return e.next=9,fetch(t).then(function(e){return e.json()});case 9:return o=e.sent,e.abrupt("return","function"==typeof r?r(o):o);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.message+=" (File: ".concat(t,")"),!n){e.next=18;break}return e.abrupt("return",n(e.t0,t));case 18:throw e.t0;case 19:case"end":return e.stop()}},e,this,[[0,13]])}))).apply(this,arguments)}"undefined"==typeof fetch&&(global.fetch=function(e){return new Promise(function(t,r){var n=new(require("local-xmlhttprequest")({basePath:__dirname}));n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState)if(200!==n.status)r(new SyntaxError("Failed to fetch URL: "+e+"state: "+n.readyState+"; status: "+n.status));else{var a=n.responseText;t({json:function(){return JSON.parse(a)}})}},n.send()})});var hop=Object.prototype.hasOwnProperty;function extend(e){var t,r,n,a,o=Array.prototype.slice.call(arguments,1);for(t=0,r=o.length;t<r;t+=1)if(n=o[t])for(a in n)hop.call(n,a)&&(e[a]=n[a]);return e}var realDefineProp=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),defineProperty=realDefineProp?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!hop.call(e,t)||"value"in r)&&(e[t]=r.value)},objCreate=Object.create||function(e,t){var r,n;function a(){}for(n in a.prototype=e,r=new a,t)hop.call(t,n)&&defineProperty(r,n,t[n]);return r};function Compiler(e,t,r){this.locales=e,this.formats=t,this.pluralFn=r}function StringFormat(e){this.id=e}function PluralFormat(e,t,r,n,a){this.id=e,this.useOrdinal=t,this.offset=r,this.options=n,this.pluralFn=a}function PluralOffsetString(e,t,r,n){this.id=e,this.offset=t,this.numberFormat=r,this.string=n}function SelectFormat(e,t){this.id=e,this.options=t}Compiler.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},Compiler.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,r,n,a=e.elements,o=[];for(t=0,r=a.length;t<r;t+=1)switch((n=a[t]).type){case"messageTextElement":o.push(this.compileMessageText(n));break;case"argumentElement":o.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return o},Compiler.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new PluralOffsetString(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},Compiler.prototype.compileArgument=function(e){var t=e.format;if(!t)return new StringFormat(e.id);var r,n=this.formats,a=this.locales,o=this.pluralFn;switch(t.type){case"numberFormat":return r=n.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,r).format};case"dateFormat":return r=n.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,r).format};case"timeFormat":return r=n.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,r).format};case"pluralFormat":return r=this.compileOptions(e),new PluralFormat(e.id,t.ordinal,t.offset,r,o);case"selectFormat":return r=this.compileOptions(e),new SelectFormat(e.id,r);default:throw new Error("Message element does not have a valid format type")}},Compiler.prototype.compileOptions=function(e){var t,r,n,a=e.format,o=a.options,i={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===a.type?e:null,t=0,r=o.length;t<r;t+=1)i[(n=o[t]).selector]=this.compileMessage(n.value);return this.currentPlural=this.pluralStack.pop(),i},StringFormat.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},PluralFormat.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},PluralOffsetString.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},SelectFormat.prototype.getOption=function(e){var t=this.options;return t[e]||t.other};var parser=function(){function e(t,r,n,a){this.message=t,this.expected=r,this.found=n,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},a={},o={start:Te},i=Te,s=function(e){return{type:"messageFormatPattern",elements:e,location:Ae()}},u=function(e){var t,r,n,a,o,i="";for(t=0,n=e.length;t<n;t+=1)for(r=0,o=(a=e[t]).length;r<o;r+=1)i+=a[r];return i},l=function(e){return{type:"messageTextElement",value:e,location:Ae()}},c=/^[^ \t\n\r,.+={}#]/,f={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},p="{",d={type:"literal",value:"{",description:'"{"'},h=",",g={type:"literal",value:",",description:'","'},m="}",v={type:"literal",value:"}",description:'"}"'},y=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Ae()}},b="number",_={type:"literal",value:"number",description:'"number"'},w="date",x={type:"literal",value:"date",description:'"date"'},k="time",S={type:"literal",value:"time",description:'"time"'},A=function(e,t){return{type:e+"Format",style:t&&t[2],location:Ae()}},O="plural",E={type:"literal",value:"plural",description:'"plural"'},C=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Ae()}},T="selectordinal",j={type:"literal",value:"selectordinal",description:'"selectordinal"'},P=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Ae()}},F="select",$={type:"literal",value:"select",description:'"select"'},N=function(e){return{type:"selectFormat",options:e,location:Ae()}},D="=",L={type:"literal",value:"=",description:'"="'},R=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Ae()}},I="offset:",M={type:"literal",value:"offset:",description:'"offset:"'},U=function(e){return e},z=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Ae()}},q={type:"other",description:"whitespace"},W=/^[ \t\n\r]/,B={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},H={type:"other",description:"optionalWhitespace"},V=/^[0-9]/,G={type:"class",value:"[0-9]",description:"[0-9]"},J=/^[0-9a-f]/i,X={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Y="0",K={type:"literal",value:"0",description:'"0"'},Z=/^[1-9]/,Q={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,re={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ne="\\\\",ae={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ie="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},ue=function(){return"\\#"},le="\\{",ce={type:"literal",value:"\\{",description:'"\\\\{"'},fe=function(){return"{"},pe="\\}",de={type:"literal",value:"\\}",description:'"\\\\}"'},he=function(){return"}"},ge="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ve=function(e){return String.fromCharCode(parseInt(e,16))},ye=function(e){return e.join("")},be=0,_e=0,we=[{line:1,column:1,seenCR:!1}],xe=0,ke=[],Se=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');i=o[n.startRule]}function Ae(){return Ee(_e,be)}function Oe(e){var r,n,a=we[e];if(a)return a;for(r=e-1;!we[r];)r--;for(a={line:(a=we[r]).line,column:a.column,seenCR:a.seenCR};r<e;)"\n"===(n=t.charAt(r))?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1),r++;return we[e]=a,a}function Ee(e,t){var r=Oe(e),n=Oe(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Ce(e){be<xe||(be>xe&&(xe=be,ke=[]),ke.push(e))}function Te(){return je()}function je(){var e,t,r;for(e=be,t=[],r=Pe();r!==a;)t.push(r),r=Pe();return t!==a&&(_e=e,t=s(t)),e=t}function Pe(){var e;return(e=function(){var e,r;return e=be,(r=function(){var e,r,n,o,i,s;if(e=be,r=[],n=be,(o=De())!==a&&(i=Ue())!==a&&(s=De())!==a?n=o=[o,i,s]:(be=n,n=a),n!==a)for(;n!==a;)r.push(n),n=be,(o=De())!==a&&(i=Ue())!==a&&(s=De())!==a?n=o=[o,i,s]:(be=n,n=a);else r=a;return r!==a&&(_e=e,r=u(r)),(e=r)===a&&(e=be,r=Ne(),e=r!==a?t.substring(e,be):r),e}())!==a&&(_e=e,r=l(r)),e=r}())===a&&(e=function(){var e,r,n,o,i,s,u;return e=be,123===t.charCodeAt(be)?(r=p,be++):(r=a,0===Se&&Ce(d)),r!==a&&De()!==a&&(n=function(){var e,r,n;if((e=Ie())===a){if(e=be,r=[],c.test(t.charAt(be))?(n=t.charAt(be),be++):(n=a,0===Se&&Ce(f)),n!==a)for(;n!==a;)r.push(n),c.test(t.charAt(be))?(n=t.charAt(be),be++):(n=a,0===Se&&Ce(f));else r=a;e=r!==a?t.substring(e,be):r}return e}())!==a&&De()!==a?(o=be,44===t.charCodeAt(be)?(i=h,be++):(i=a,0===Se&&Ce(g)),i!==a&&(s=De())!==a&&(u=function(){var e;return(e=function(){var e,r,n,o,i,s;return e=be,t.substr(be,6)===b?(r=b,be+=6):(r=a,0===Se&&Ce(_)),r===a&&(t.substr(be,4)===w?(r=w,be+=4):(r=a,0===Se&&Ce(x)),r===a&&(t.substr(be,4)===k?(r=k,be+=4):(r=a,0===Se&&Ce(S)))),r!==a&&De()!==a?(n=be,44===t.charCodeAt(be)?(o=h,be++):(o=a,0===Se&&Ce(g)),o!==a&&(i=De())!==a&&(s=Ue())!==a?n=o=[o,i,s]:(be=n,n=a),n===a&&(n=null),n!==a?(_e=e,r=A(r,n),e=r):(be=e,e=a)):(be=e,e=a),e}())===a&&(e=function(){var e,r,n,o;return e=be,t.substr(be,6)===O?(r=O,be+=6):(r=a,0===Se&&Ce(E)),r!==a&&De()!==a?(44===t.charCodeAt(be)?(n=h,be++):(n=a,0===Se&&Ce(g)),n!==a&&De()!==a&&(o=$e())!==a?(_e=e,r=C(o),e=r):(be=e,e=a)):(be=e,e=a),e}())===a&&(e=function(){var e,r,n,o;return e=be,t.substr(be,13)===T?(r=T,be+=13):(r=a,0===Se&&Ce(j)),r!==a&&De()!==a?(44===t.charCodeAt(be)?(n=h,be++):(n=a,0===Se&&Ce(g)),n!==a&&De()!==a&&(o=$e())!==a?(_e=e,r=P(o),e=r):(be=e,e=a)):(be=e,e=a),e}())===a&&(e=function(){var e,r,n,o,i;if(e=be,t.substr(be,6)===F?(r=F,be+=6):(r=a,0===Se&&Ce($)),r!==a)if(De()!==a)if(44===t.charCodeAt(be)?(n=h,be++):(n=a,0===Se&&Ce(g)),n!==a)if(De()!==a){if(o=[],(i=Fe())!==a)for(;i!==a;)o.push(i),i=Fe();else o=a;o!==a?(_e=e,r=N(o),e=r):(be=e,e=a)}else be=e,e=a;else be=e,e=a;else be=e,e=a;else be=e,e=a;return e}()),e}())!==a?o=i=[i,s,u]:(be=o,o=a),o===a&&(o=null),o!==a&&(i=De())!==a?(125===t.charCodeAt(be)?(s=m,be++):(s=a,0===Se&&Ce(v)),s!==a?(_e=e,r=y(n,o),e=r):(be=e,e=a)):(be=e,e=a)):(be=e,e=a),e}()),e}function Fe(){var e,r,n,o,i;return e=be,De()!==a&&(r=function(){var e,r,n,o;return e=be,r=be,61===t.charCodeAt(be)?(n=D,be++):(n=a,0===Se&&Ce(L)),n!==a&&(o=Ie())!==a?r=n=[n,o]:(be=r,r=a),(e=r!==a?t.substring(e,be):r)===a&&(e=Ue()),e}())!==a&&De()!==a?(123===t.charCodeAt(be)?(n=p,be++):(n=a,0===Se&&Ce(d)),n!==a&&De()!==a&&(o=je())!==a&&De()!==a?(125===t.charCodeAt(be)?(i=m,be++):(i=a,0===Se&&Ce(v)),i!==a?(_e=e,e=R(r,o)):(be=e,e=a)):(be=e,e=a)):(be=e,e=a),e}function $e(){var e,r,n,o;if(e=be,(r=function(){var e,r,n;return e=be,t.substr(be,7)===I?(r=I,be+=7):(r=a,0===Se&&Ce(M)),r!==a&&De()!==a&&(n=Ie())!==a?(_e=e,e=r=U(n)):(be=e,e=a),e}())===a&&(r=null),r!==a)if(De()!==a){if(n=[],(o=Fe())!==a)for(;o!==a;)n.push(o),o=Fe();else n=a;n!==a?(_e=e,e=r=z(r,n)):(be=e,e=a)}else be=e,e=a;else be=e,e=a;return e}function Ne(){var e,r;if(Se++,e=[],W.test(t.charAt(be))?(r=t.charAt(be),be++):(r=a,0===Se&&Ce(B)),r!==a)for(;r!==a;)e.push(r),W.test(t.charAt(be))?(r=t.charAt(be),be++):(r=a,0===Se&&Ce(B));else e=a;return Se--,e===a&&(r=a,0===Se&&Ce(q)),e}function De(){var e,r,n;for(Se++,e=be,r=[],n=Ne();n!==a;)r.push(n),n=Ne();return e=r!==a?t.substring(e,be):r,Se--,e===a&&(r=a,0===Se&&Ce(H)),e}function Le(){var e;return V.test(t.charAt(be))?(e=t.charAt(be),be++):(e=a,0===Se&&Ce(G)),e}function Re(){var e;return J.test(t.charAt(be))?(e=t.charAt(be),be++):(e=a,0===Se&&Ce(X)),e}function Ie(){var e,r,n,o,i,s;if(e=be,48===t.charCodeAt(be)?(r=Y,be++):(r=a,0===Se&&Ce(K)),r===a){if(r=be,n=be,Z.test(t.charAt(be))?(o=t.charAt(be),be++):(o=a,0===Se&&Ce(Q)),o!==a){for(i=[],s=Le();s!==a;)i.push(s),s=Le();i!==a?n=o=[o,i]:(be=n,n=a)}else be=n,n=a;r=n!==a?t.substring(r,be):n}return r!==a&&(_e=e,r=ee(r)),e=r}function Me(){var e,r,n,o,i,s,u,l;return te.test(t.charAt(be))?(e=t.charAt(be),be++):(e=a,0===Se&&Ce(re)),e===a&&(e=be,t.substr(be,2)===ne?(r=ne,be+=2):(r=a,0===Se&&Ce(ae)),r!==a&&(_e=e,r=oe()),(e=r)===a&&(e=be,t.substr(be,2)===ie?(r=ie,be+=2):(r=a,0===Se&&Ce(se)),r!==a&&(_e=e,r=ue()),(e=r)===a&&(e=be,t.substr(be,2)===le?(r=le,be+=2):(r=a,0===Se&&Ce(ce)),r!==a&&(_e=e,r=fe()),(e=r)===a&&(e=be,t.substr(be,2)===pe?(r=pe,be+=2):(r=a,0===Se&&Ce(de)),r!==a&&(_e=e,r=he()),(e=r)===a&&(e=be,t.substr(be,2)===ge?(r=ge,be+=2):(r=a,0===Se&&Ce(me)),r!==a?(n=be,o=be,(i=Re())!==a&&(s=Re())!==a&&(u=Re())!==a&&(l=Re())!==a?o=i=[i,s,u,l]:(be=o,o=a),(n=o!==a?t.substring(n,be):o)!==a?(_e=e,e=r=ve(n)):(be=e,e=a)):(be=e,e=a)))))),e}function Ue(){var e,t,r;if(e=be,t=[],(r=Me())!==a)for(;r!==a;)t.push(r),r=Me();else t=a;return t!==a&&(_e=e,t=ye(t)),e=t}if((r=i())!==a&&be===t.length)return r;throw r!==a&&be<t.length&&Ce({type:"end",description:"end of input"}),function(t,r,n,a){return null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==t?t:function(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(r,n),r,n,a)}(null,ke,xe<t.length?t.charAt(xe):null,xe<t.length?Ee(xe,xe+1):Ee(xe,xe))}}}();function MessageFormat(e,t,r){var n="string"==typeof e?MessageFormat.__parse(e):e;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");r=this._mergeFormats(MessageFormat.formats,r),defineProperty(this,"_locale",{value:this._resolveLocale(t)});var a=this._findPluralRuleFunction(this._locale),o=this._compilePattern(n,t,r,a),i=this;this.format=function(t){try{return i._format(o,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}defineProperty(MessageFormat,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),defineProperty(MessageFormat,"__localeData__",{value:objCreate(null)}),defineProperty(MessageFormat,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");MessageFormat.__localeData__[e.locale.toLowerCase()]=e}}),defineProperty(MessageFormat,"__parse",{value:parser.parse}),defineProperty(MessageFormat,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),MessageFormat.prototype.resolvedOptions=function(){return{locale:this._locale}},MessageFormat.prototype._compilePattern=function(e,t,r,n){return new Compiler(t,r,n).compile(e)},MessageFormat.prototype._findPluralRuleFunction=function(e){for(var t=MessageFormat.__localeData__,r=t[e.toLowerCase()];r;){if(r.pluralRuleFunction)return r.pluralRuleFunction;r=r.parentLocale&&t[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},MessageFormat.prototype._format=function(e,t){var r,n,a,o,i,s,u="";for(r=0,n=e.length;r<n;r+=1)if("string"!=typeof(a=e[r])){if(o=a.id,!t||!hop.call(t,o))throw(s=new Error("A value must be provided for: "+o)).variableId=o,s;i=t[o],a.options?u+=this._format(a.getOption(i),t):u+=a.format(i)}else u+=a;return u},MessageFormat.prototype._mergeFormats=function(e,t){var r,n,a={};for(r in e)hop.call(e,r)&&(a[r]=n=objCreate(e[r]),t&&hop.call(t,r)&&extend(n,t[r]));return a},MessageFormat.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(MessageFormat.defaultLocale);var t,r,n,a,o=MessageFormat.__localeData__;for(t=0,r=e.length;t<r;t+=1)for(n=e[t].toLowerCase().split("-");n.length;){if(a=o[n.join("-")])return a.locale;n.pop()}var i=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+i)};var defaultLocale={locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),n=!r[1],a=Number(r[0])==e,o=a&&r[0].slice(-1),i=a&&r[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&n?"one":"other"}};function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep$1$1(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator$1$1(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep$1$1(o,n,a,i,s,"next",e)}function s(e){asyncGeneratorStep$1$1(o,n,a,i,s,"throw",e)}i(void 0)})}}function getJSON$1(e,t,r){return _getJSON$1.apply(this,arguments)}function _getJSON$1(){return(_getJSON$1=_asyncToGenerator$1$1(regeneratorRuntime.mark(function e(t,r,n){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Array.isArray(t)){e.next=7;break}return e.next=4,Promise.all(t.map(function(e){return getJSON$1(e)}));case 4:return a=e.sent,r&&r.apply(null,a),e.abrupt("return",a);case 7:return e.next=9,fetch(t).then(function(e){return e.json()});case 9:return o=e.sent,e.abrupt("return","function"==typeof r?r(o):o);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0.message+=" (File: ".concat(t,")"),!n){e.next=18;break}return e.abrupt("return",n(e.t0,t));case 18:throw e.t0;case 19:case"end":return e.stop()}},e,this,[[0,13]])}))).apply(this,arguments)}function IMFClass(e){var t=this,r=arguments;if(!(this instanceof IMFClass))return new IMFClass(e);e=e||{},this.defaultNamespace=e.defaultNamespace||"",this.defaultSeparator=void 0===e.defaultSeparator?".":e.defaultSeparator,this.basePath=e.basePath||"locales/",this.fallbackLanguages=e.fallbackLanguages,this.localeFileResolver=e.localeFileResolver||function(e){return this.basePath+e+".json"},this.locales=e.locales||[],this.langs=e.langs,this.fallbackLocales=e.fallbackLocales||[];var n=function(e){t.loadLocales(t.fallbackLanguages,function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if((t=this.fallbackLocales).push.apply(t,n),e)return e(n)},!0)};e.languages||e.callback?this.loadLocales(e.languages,function(){var a=Array.from(r),o=function(r){e.callback&&e.callback.apply(t,[t.getFormatter(e.namespace),t.getFormatter.bind(t),a,r])};e.hasOwnProperty("fallbackLanguages")?n(o):o()}):e.hasOwnProperty("fallbackLanguages")&&n()}function loadStylesheets(e,{before:t,after:r,favicon:n,canvas:a,image:o=!0,acceptErrors:i}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){let s={};Array.isArray(e)&&([e,s={}]=e);let{favicon:u=n}=s;const{before:l=t,after:c=r,canvas:f=a,image:p=o}=s;function d(){l?l.before(h):c?c.after(h):document.head.appendChild(h)}const h=document.createElement("link");return new Promise((t,r)=>{let n=r;if(i&&(n="function"==typeof i?n=>{i({error:n,stylesheetURL:e,options:s,resolve:t,reject:r})}:t),e.endsWith(".css")?u=!1:e.endsWith(".ico")&&(u=!0),u){if(h.rel="shortcut icon",h.type="image/x-icon",!1===p)return h.href=e,d(),void t(h);const n=document.createElement("canvas");n.width=16,n.height=16;const a=n.getContext("2d"),o=document.createElement("img");return o.addEventListener("error",e=>{r(e)}),o.addEventListener("load",()=>{a.drawImage(o,0,0),h.href=f?n.toDataURL("image/x-icon"):e,d(),t(h)}),void(o.src=e)}h.rel="stylesheet",h.type="text/css",h.href=e,d(),h.addEventListener("error",e=>{n(e)}),h.addEventListener("load",()=>{t(h)})})}))}function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray$1(e,t){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,t)||_nonIterableRest$1()}function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function _iterableToArray$1(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit$1(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}MessageFormat.__addLocaleData(defaultLocale),MessageFormat.defaultLocale="en","undefined"==typeof fetch&&(global.fetch=function(e){return new Promise(function(t,r){var n=new(require("local-xmlhttprequest")({basePath:__dirname}));n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState)if(200!==n.status)r(new SyntaxError("Failed to fetch URL: "+e+"state: "+n.readyState+"; status: "+n.status));else{var a=n.responseText;t({json:function(){return JSON.parse(a)}})}},n.send()})}),IMFClass.prototype.getFormatter=function(e,t){var r=this;var n=Array.isArray;return e=void 0===e?this.defaultNamespace:e,t=void 0===t?this.defaultSeparator:t,e=n(e)?e.join(t):e,function(a,o,i,s){var u,l=e;if(a&&!n(a)&&"object"===_typeof$1(a)&&(o=a.values,i=a.formats,s=a.fallback,a=a.key),n(a)){var c=a.pop();l=a.join(t),a=c}else{var f=a.indexOf(t);!l&&f>-1&&(l=a.slice(0,f),a=a.slice(f+1))}function p(e){return e.some(function(e){return u=e[(l?l+t:"")+a]||function(e,t,r,n){var a=e;return t.split(r).every(function(e){return(a=a[e])&&"object"===_typeof$1(a)})&&a[n]?a[n]:""}(e,l,t,a)}),u}if(p(r.locales),!u){if("function"==typeof s)return s({message:r.fallbackLocales.length&&p(r.fallbackLocales),langs:r.langs,namespace:l,separator:t,key:a,values:o,formats:i});if(!1!==s)return r.fallbackLocales.length&&p(r.fallbackLocales);throw new Error("Message not found for locales "+r.langs+(r.fallbackLanguages?" (with fallback languages "+r.fallbackLanguages+")":"")+" with key "+a+", namespace "+l+", and namespace separator "+t)}return o||i?new MessageFormat(u,r.langs,i).format(o):u}},IMFClass.prototype.loadLocales=function(e,t,r){var n=this;return e=e||navigator.language||"en-US",e=Array.isArray(e)?e:[e],r||(this.langs=e),getJSON$1(e.map(this.localeFileResolver,this),function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var i;r||(i=n.locales).push.apply(i,a);t&&t.apply(n,a)})},"undefined"!=typeof global&&(global.IntlMessageFormat=MessageFormat);var kRSubmitter=/^(?:submit|button|image|reset|file)$/i,kRSuccessContrls=/^(?:input|select|textarea|keygen)/i,brackets=/(\[[^[\]]*\])/g;function serialize(e,t){"object"!==_typeof$2(t)?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);var r=t.hash?{}:"",n=t.serializer||(t.hash?hashSerializer:strSerialize),a=e&&e.elements?_toConsumableArray$1(e.elements):[],o=Object.create(null);return a.forEach(function(e){if((t.disabled||!e.disabled)&&e.name&&kRSuccessContrls.test(e.nodeName)&&!kRSubmitter.test(e.type)){var a=e.name,i=e.type,s=e.name,u=e.checked,l=e.value;if("checkbox"!==i&&"radio"!==i||u||(l=void 0),t.empty){if("checkbox"!==i||u||(l=""),"radio"===i&&(o[s]||u?u&&(o[s]=!0):o[s]=!1,void 0===l))return}else if(!l)return;if("select-multiple"===i){l=[];var c=!1;return _toConsumableArray$1(e.options).forEach(function(e){var o=t.empty&&!e.value,i=e.value||o;e.selected&&i&&(c=!0,r=t.hash&&"[]"!==a.slice(a.length-2)?n(r,a+"[]",e.value):n(r,a,e.value))}),void(!c&&t.empty&&(r=n(r,a,"")))}r=n(r,a,l)}}),t.empty&&Object.entries(o).forEach(function(e){var t=_slicedToArray$1(e,2),a=t[0];t[1]||(r=n(r,a,""))}),r}function parseKeys(e){var t=[],r=new RegExp(brackets),n=/^([^[\]]*)/.exec(e);for(n[1]&&t.push(n[1]);null!==(n=r.exec(e));)t.push(n[1]);return t}function hashAssign(e,t,r){if(0===t.length)return r;var n=t.shift(),a=n.match(/^\[(.+?)\]$/);if("[]"===n)return e=e||[],Array.isArray(e)?e.push(hashAssign(null,t,r)):(e._values=e._values||[],e._values.push(hashAssign(null,t,r))),e;if(a){var o=a[1],i=+o;isNaN(i)?(e=e||{})[o]=hashAssign(e[o],t,r):(e=e||[])[i]=hashAssign(e[i],t,r)}else e[n]=hashAssign(e[n],t,r);return e}function hashSerializer(e,t,r){if(t.match(brackets)){hashAssign(e,parseKeys(t),r)}else{var n=e[t];n?(Array.isArray(n)||(e[t]=[n]),e[t].push(r)):e[t]=r}return e}function strSerialize(e,t,r){return r=r.replace(/(\r)?\n/g,"\r\n"),r=(r=encodeURIComponent(r)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+r}function deserialize(e,t){Object.entries(t).forEach(function(t){var r=_slicedToArray$1(t,2),n=r[0],a=r[1],o=e[n];e[n]||"length"in(o=e[n+"[]"])||(o=e.querySelectorAll('[name="'.concat(n,'[]"]')));var i=o.type;if("checkbox"===i&&(o.checked=""!==a),Array.isArray(a)){if("select-multiple"===i)return void _toConsumableArray$1(o.options).forEach(function(e){a.includes(e.value)&&(e.selected=!0)});a.forEach(function(e,t){var r=o[t];if("checkbox"!==r.type)r.value=e;else{var n=r.value===e||"on"===e;r.checked=n}})}else o.value=a})}function getIMFFallbackResults(e){var t=e.$p,r=e.lang,n=e.langs,a=e.langData,o=e.fallbackLanguages,i=e.resultsDisplay,s=e.basePath,u=void 0===s?"":s,l=e.localeCallback,c=void 0!==l&&l;return new Promise(function(e,s){var l=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=n[0];return t.l10n||(t.l10n=s),i.apply(void 0,[{l:s,lang:r,fallbackLanguages:o,imfLocales:f.locales,$p:t,basePath:u}].concat(n))},f=IMFClass({languages:r,fallbackLanguages:o,localeFileResolver:function(e){return u+a.localeFileBasePath+n.find(function(t){return t.code===e}).locale.$ref},callback:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!c||!c.apply(void 0,r)){t.next=3;break}return e(),t.abrupt("return");case 3:return t.next=5,l.apply(void 0,r);case 5:e();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})})}function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),e}function _inherits$1(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf$1(e,t)}function _getPrototypeOf$1(e){return(_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf$1(e,t){return(_setPrototypeOf$1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct$1(e,t,r){return(_construct$1=isNativeReflectConstruct$1()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&_setPrototypeOf$1(a,r.prototype),a}).apply(null,arguments)}function _isNativeFunction$1(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper$1(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper$1=function(e){if(null===e||!_isNativeFunction$1(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct$1(e,arguments,_getPrototypeOf$1(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(r,e)})(e)}function _assertThisInitialized$1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn$1(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized$1(e):t}function _superPropBase$1(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf$1(e)););return e}function _get$1(e,t,r){return(_get$1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase$1(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function _slicedToArray$2(e,t){return _arrayWithHoles$2(e)||_iterableToArrayLimit$2(e,t)||_nonIterableRest$2()}function _toConsumableArray$2(e){return _arrayWithoutHoles$2(e)||_iterableToArray$2(e)||_nonIterableSpread$2()}function _arrayWithoutHoles$2(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _arrayWithHoles$2(e){if(Array.isArray(e))return e}function _iterableToArray$2(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit$2(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest$2(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var win="undefined"!=typeof window&&window,doc="undefined"!=typeof document&&document,XmlSerializer="undefined"!=typeof XMLSerializer&&XMLSerializer,possibleOptions=["$plugins","$map"],NS_HTML="http://www.w3.org/1999/xhtml",hyphenForCamelCase=/-([a-z])/g,ATTR_MAP={readonly:"readOnly"},BOOL_ATTS=["checked","defaultChecked","defaultSelected","disabled","indeterminate","open","readOnly","selected"],ATTR_DOM=BOOL_ATTS.concat(["accessKey","async","autocapitalize","autofocus","contentEditable","defaultValue","defer","draggable","formnovalidate","hidden","innerText","inputMode","ismap","multiple","novalidate","pattern","required","spellcheck","translate","value","willvalidate"]),NULLABLES=["dir","lang","max","min","title"],$=function(e){return doc.querySelector(e)},$$=function(e){return _toConsumableArray$2(doc.querySelectorAll(e))};function _getHTMLNodeName(e){return e.nodeName&&e.nodeName.toLowerCase()}function _applyAnyStylesheet(e){doc.createStyleSheet&&("style"===_getHTMLNodeName(e)&&(doc.createStyleSheet().cssText=e.cssText))}function _appendNode(e,t){var r=_getHTMLNodeName(e),n=_getHTMLNodeName(t);if(doc.createStyleSheet){if("script"===r)return void(e.text=t.nodeValue);if("style"===r)return void(e.cssText=t.nodeValue)}if("template"!==r)try{e.appendChild(t)}catch(a){if("select"===r&&"option"===n){try{e.add(t)}catch(r){e.add(t,null)}return}throw a}else e.content.appendChild(t)}function _addEvent(e,t,r,n){e.addEventListener(t,r,!!n)}function _createSafeReference(e,t,r){if(!r.match(/^\w+$/))throw new TypeError("Bad "+e);var n=doc.createElement("div");return n.innerHTML="&"+t+r+";",doc.createTextNode(n.innerHTML)}function _upperCase(e,t){return t.toUpperCase()}function _getType(e){if("string"==typeof e)return"string";if("object"===_typeof$3(e)){if(null===e)return"null";if(Array.isArray(e))return"array";if("nodeType"in e){if(1===e.nodeType)return"element";if(11===e.nodeType)return"fragment"}return"object"}}function _fragReducer(e,t){return e.appendChild(t),e}function _replaceDefiner(e){return function(t){var r=e[""]?' xmlns="'+e[""]+'"':t||"";for(var n in e)e.hasOwnProperty(n)&&""!==n&&(r+=" xmlns:"+n+'="'+e[n]+'"');return r}}function _optsOrUndefinedJML(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jml.apply(void 0,_toConsumableArray$2(void 0===t[0]?t.slice(1):t))}function _jmlSingleArg(e){return jml(e)}function _copyOrderedAtts(e){var t={};return t[e[0]]=e[1],t}function _childrenToJML(e){return function(t,r){var n=e.childNodes[r],a=Array.isArray(t)?jml.apply(void 0,_toConsumableArray$2(t)):jml(t);n.parentNode.replaceChild(a,n)}}function _appendJML(e){return function(t){e.appendChild(jml.apply(void 0,_toConsumableArray$2(t)))}}function _appendJMLOrText(e){return function(t){"string"==typeof t?e.appendChild(doc.createTextNode(t)):e.appendChild(jml.apply(void 0,_toConsumableArray$2(t)))}}var jml=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=doc.createDocumentFragment();function o(t){var r;for(r in t)if(t.hasOwnProperty(r)){var n=t[r];if(r=r in ATTR_MAP?ATTR_MAP[r]:r,NULLABLES.includes(r))null!=n&&(a[r]=n);else if(ATTR_DOM.includes(r))a[r]=n;else switch(r){case"#":u[u.length]=_optsOrUndefinedJML(s,n);break;case"$shadow":var o=n.open,l=n.closed,c=n.content,f=n.template,d=a.attachShadow({mode:l||!1===o?"closed":"open"});f?(Array.isArray(f)?f="object"===_getType(f[0])?e.apply(void 0,["template"].concat(_toConsumableArray$2(f),[doc.body])):e("template",f,doc.body):"string"==typeof f&&(f=$(f)),e(f.content.cloneNode(!0),d)):(c||(c=o||l),c&&"boolean"!=typeof c&&(Array.isArray(c)?e({"#":c},d):e(c,d)));break;case"is":break;case"$custom":Object.assign(a,n);break;case"$define":if("break"===function(){var e=a.localName.toLowerCase(),t=!e.includes("-"),r=t?a.getAttribute("is"):e;if(customElements.get(r))return"break";var o=function(r){var n=s&&s.extends?doc.createElement(s.extends).constructor:t?doc.createElement(e).constructor:HTMLElement;return r?function(e){function t(){var e;return _classCallCheck$1(this,t),e=_possibleConstructorReturn$1(this,_getPrototypeOf$1(t).call(this)),r.call(_assertThisInitialized$1(_assertThisInitialized$1(e))),e}return _inherits$1(t,n),t}():function(e){function t(){return _classCallCheck$1(this,t),_possibleConstructorReturn$1(this,_getPrototypeOf$1(t).apply(this,arguments))}return _inherits$1(t,n),t}()},i=void 0,s=void 0,u=void 0;if(Array.isArray(n))if(n.length<=2){var l=_slicedToArray$2(n,2);i=l[0],"string"==typeof(s=l[1])?s={extends:s}:s.hasOwnProperty("extends")||(u=s),"object"===_typeof$3(i)&&(u=i,i=o())}else{var c=_slicedToArray$2(n,3);i=c[0],u=c[1],"string"==typeof(s=c[2])&&(s={extends:s})}else"function"==typeof n?i=n:(u=n,i=o());return i.toString().startsWith("class")||(i=o(i)),!s&&t&&(s={extends:e}),u&&Object.assign(i.prototype,u),customElements.define(r,i,t?s:void 0),"break"}())break;case"$symbol":var h=_slicedToArray$2(n,2),g=h[0],m=h[1];if("function"==typeof m){var v=m.bind(a);"string"==typeof g?a[Symbol.for(g)]=v:a[g]=v}else{var y=m;y.elem=a,"string"==typeof g?a[Symbol.for(g)]=y:a[g]=y}break;case"$data":p(n);break;case"$attribute":var b=3===n.length?doc.createAttributeNS(n[0],n[1]):doc.createAttribute(n[0]);b.value=n[n.length-1],u[u.length]=b;break;case"$text":var _=doc.createTextNode(n);u[u.length]=_;break;case"$document":var w=doc.implementation.createHTMLDocument();if(n.childNodes){n.childNodes.forEach(_childrenToJML(w));for(var x=n.childNodes.length;w.childNodes[x];){var k=w.childNodes[x];k.parentNode.removeChild(k),x++}}else{if(n.$DOCTYPE){var S={$DOCTYPE:n.$DOCTYPE},A=e(S);w.firstChild.replaceWith(A)}var O=w.childNodes[1],E=O.childNodes[0],C=O.childNodes[1];if(n.title||n.head){var T=doc.createElement("meta");T.setAttribute("charset","utf-8"),E.appendChild(T)}n.title&&(w.title=n.title),n.head&&n.head.forEach(_appendJML(E)),n.body&&n.body.forEach(_appendJMLOrText(C))}u[u.length]=w;break;case"$DOCTYPE":var j=void 0;j=n.entities||n.notations?{name:n.name,nodeName:n.name,nodeValue:null,nodeType:10,entities:n.entities.map(_jmlSingleArg),notations:n.notations.map(_jmlSingleArg),publicId:n.publicId,systemId:n.systemId}:doc.implementation.createDocumentType(n.name,n.publicId||"",n.systemId||""),u[u.length]=j;break;case"$ENTITY":break;case"$NOTATION":var P={nodeName:n[0],publicID:n[1],systemID:n[2],nodeValue:null,nodeType:12};u[u.length]=P;break;case"$on":for(var F in n)if(n.hasOwnProperty(F)){var N=n[F];"function"==typeof N&&(N=[N,!1]),"function"==typeof N[0]&&_addEvent(a,F,N[0],N[1])}break;case"className":case"class":null!=n&&(a.className=n);break;case"dataset":(function e(t,r){var n="",o=""!==r;Object.keys(t).forEach(function(i){var s=t[i];if(n=o?r+i.replace(hyphenForCamelCase,_upperCase).replace(/^([a-z])/,_upperCase):r+i.replace(hyphenForCamelCase,_upperCase),null===s||"object"!==_typeof$3(s))return null!=s&&(a.dataset[n]=s),void(n=r);e(s,n)})})(n,"");break;case"innerHTML":null!=n&&(a.innerHTML=n);break;case"htmlFor":case"for":if("label"===i){null!=n&&(a.htmlFor=n);break}a.setAttribute(r,n);break;case"xmlns":break;default:if(r.match(/^on/)){a[r]=n;break}if("style"===r){if(null==n)break;if("object"===_typeof$3(n)){for(var D in n)n.hasOwnProperty(D)&&null!=n[D]&&("float"===D?(a.style.cssFloat=n[D],a.style.styleFloat=n[D]):a.style[D.replace(hyphenForCamelCase,_upperCase)]=n[D]);break}a.setAttribute(r,n);break}var L=s&&s.$plugins&&s.$plugins.find(function(e){return e.name===r});if(L){L.set({element:a,attribute:{name:r,value:n}});break}a.setAttribute(r,n)}}}var i,s,u=[],l=!1;if("object"===_getType(r[0])&&Object.keys(r[0]).some(function(e){return possibleOptions.includes(e)})){if("child"!==(s=r[0]).state&&(l=!0,s.state="child"),s.$map&&!s.$map.root&&!1!==s.$map.root&&(s.$map={root:s.$map}),"$plugins"in s){if(!Array.isArray(s.$plugins))throw new Error("$plugins must be an array");s.$plugins.forEach(function(e){if(!e)throw new TypeError("Plugin must be an object");if(!e.name||!e.name.startsWith("$_"))throw new TypeError("Plugin object name must be present and begin with `$_`");if("function"!=typeof e.set)throw new TypeError("Plugin object must have a `set` method")})}r=r.slice(1)}for(var c=r.length,f=s&&s.$map&&s.$map.root,p=function e(t){var r,n;if(!0===t){var o=_slicedToArray$2(f,2);r=o[0],n=o[1]}else Array.isArray(t)?"string"==typeof t[0]?t.forEach(function(t){e(s.$map[t])}):(r=t[0]||f[0],n=t[1]||f[1]):/^\[object (?:Weak)?Map\]$/.test([].toString.call(t))?(r=t,n=f[1]):(r=f[0],n=t);r.set(a,n)},d=0;d<c;d++){var h=r[d];switch(_getType(h)){case"null":if(d===c-1)return _applyAnyStylesheet(u[0]),u.length<=1?u[0]:u.reduce(_fragReducer,doc.createDocumentFragment());break;case"string":switch(h){case"!":u[u.length]=doc.createComment(r[++d]);break;case"?":h=r[++d];var g=r[++d],m=g;if("object"===_typeof$3(m)){for(var v in g=[],m)m.hasOwnProperty(v)&&g.push(v+'="'+m[v].replace(/"/g,"&quot;")+'"');g=g.join(" ")}try{u[u.length]=doc.createProcessingInstruction(h,g)}catch(e){u[u.length]=doc.createComment("?"+h+" "+g+"?")}break;case"&":u[u.length]=_createSafeReference("entity","",r[++d]);break;case"#":u[u.length]=_createSafeReference("decimal",h,String(r[++d]));break;case"#x":u[u.length]=_createSafeReference("hexadecimal",h,r[++d]);break;case"![":try{u[u.length]=doc.createCDATASection(r[++d])}catch(e){u[u.length]=doc.createTextNode(r[d])}break;case"":u[u.length]=doc.createDocumentFragment();break;default:i=h;var y=r[d+1];if("object"===_getType(y)&&y.is){var b=y.is;a=doc.createElementNS?doc.createElementNS(NS_HTML,i,{is:b}):doc.createElement(i,{is:b})}else a=doc.createElementNS?doc.createElementNS(NS_HTML,i):doc.createElement(i);u[u.length]=a}break;case"object":var _=h;if(void 0!==_.xmlns){var w=void 0;w="object"===_typeof$3(_.xmlns)?_replaceDefiner(_.xmlns):' xmlns="'+_.xmlns+'"',a=u[u.length-1]=(new DOMParser).parseFromString((new XmlSerializer).serializeToString(a).replace(' xmlns="'+NS_HTML+'"',w),"application/xml").documentElement}(_.$a?_.$a.map(_copyOrderedAtts):[_]).forEach(o);break;case"fragment":case"element":if(0===d&&(a=h),d===c-1||d===c-2&&null===r[d+1]){for(var x=u.length,k=0;k<x;k++)_appendNode(h,u[k]);_applyAnyStylesheet(u[0])}else u[u.length]=h;break;case"array":for(var S=h,A=S.length,O=0;O<A;O++){var E=S[O],C=_typeof$3(E);if(void 0===E)throw String("Parent array:"+JSON.stringify(r)+"; child: "+S+"; index:"+O);switch(C){case"string":case"number":case"boolean":_appendNode(a,doc.createTextNode(E));break;default:Array.isArray(E)?_appendNode(a,_optsOrUndefinedJML.apply(void 0,[s].concat(_toConsumableArray$2(E)))):E["#"]?_appendNode(a,_optsOrUndefinedJML(s,E["#"])):_appendNode(a,E)}}}}var T=u[0]||a;return s&&l&&s.$map&&s.$map.root&&p(!0),T};jml.toJML=function(e,t){t=t||{stringOutput:!1},"string"==typeof e&&(e=(new DOMParser).parseFromString(e,"text/html"));var r=[],n=r,a=0;function o(){var e=new function(){return this};throw e.code=11,e}function i(e,t){t.systemId.includes('"')&&t.systemId.includes("'")&&o();var r=t.publicId,n=t.systemId;n&&(e.systemId=n),r&&(e.publicId=r)}function s(e){n[a]=e,a++}function u(){s([]),n=n[a-1],a=0}function l(e,t){n=n[a-1][e],a=0,t&&(n=n[t])}return function e(r,c){var f="nodeType"in r?r.nodeType:null;c=Object.assign({},c);var p,d,h,g;function m(){h=n,g=a}function v(){n=h,a=g,a++}switch([2,3,4,7,8].includes(f)&&!/([\u0009\u000A\u000D\u0020-\uD7FF\uE000-\uFFFD]|[\uD800-\uDBFF][\uDC00-\uDFFF])*$/.test(r.nodeValue)&&o(),f){case 1:m();var y=r.nodeName.toLowerCase();u(),s(y),d={};var b=!1;c[r.prefix||""]!==r.namespaceURI&&(c[r.prefix||""]=r.namespaceURI,r.prefix?d["xmlns:"+r.prefix]=r.namespaceURI:r.namespaceURI&&(d.xmlns=r.namespaceURI),b=!0),r.attributes.length?s(Array.from(r.attributes).reduce(function(e,t){return e[t.name]=t.value,e},d)):b&&s(d),(p=r.childNodes).length&&(u(),Array.from(p).forEach(function(t){e(t,c)})),v();break;case void 0:case 2:s({$attribute:[r.namespaceURI,r.name,r.value]});break;case 3:if(t.stripWhitespace&&/^\s+$/.test(r.nodeValue))return;s(r.nodeValue);break;case 4:r.nodeValue.includes("]]>")&&o(),s(["![",r.nodeValue]);break;case 5:s(["&",r.nodeName]);break;case 6:m(),d={},r.xmlEncoding||r.xmlVersion?d.$ENTITY={name:r.nodeName,version:r.xmlVersion,encoding:r.xmlEncoding}:(d.$ENTITY={name:r.nodeName},(r.publicId||r.systemId)&&(i(d.$ENTITY,r),r.notationName&&(d.$ENTITY.NDATA=r.notationName))),s(d),(p=r.childNodes).length&&(d.$ENTITY.childNodes=[],l("$ENTITY","childNodes"),Array.from(p).forEach(function(t){e(t,c)})),v();break;case 7:/^xml$/i.test(r.target)&&o(),r.target.includes("?>")&&o(),r.target.includes(":")&&o(),r.data.includes("?>")&&o(),s(["?",r.target,r.data]);break;case 8:(r.nodeValue.includes("--")||r.nodeValue.length&&r.nodeValue.lastIndexOf("-")===r.nodeValue.length-1)&&o(),s(["!",r.nodeValue]);break;case 9:m();var _={$document:{childNodes:[]}};t.xmlDeclaration&&(_.$document.xmlDeclaration={version:doc.xmlVersion,encoding:doc.xmlEncoding,standAlone:doc.xmlStandalone}),s(_),l("$document","childNodes"),(p=r.childNodes).length||o(),Array.from(p).forEach(function(t){e(t,c)}),v();break;case 10:m(),d={$DOCTYPE:{name:r.name}},r.internalSubset&&(d.internalSubset=r.internalSubset),/^(\u0020|\u000D|\u000A|[a-zA-Z0-9]|[-'()+,.\/:=?;!*#@$_%])*$/.test(r.publicId)||o(),i(d.$DOCTYPE,r),s(d);var w=r.entities;w&&w.length&&(d.$DOCTYPE.entities=[],l("$DOCTYPE","entities"),Array.from(w).forEach(function(t){e(t,c)}),n=h,a=g+1);var x=r.notations;x&&x.length&&(d.$DOCTYPE.notations=[],l("$DOCTYPE","notations"),Array.from(x).forEach(function(t){e(t,c)})),v();break;case 11:m(),s({"#":[]}),l("#"),p=r.childNodes,Array.from(p).forEach(function(t){e(t,c)}),v();break;case 12:i((d={$NOTATION:{name:r.nodeName}}).$NOTATION,r),s(d);break;default:throw new TypeError("Not an XML type")}}(e,{}),t.stringOutput?JSON.stringify(r[0]):r[0]},jml.toJMLString=function(e,t){return jml.toJML(e,Object.assign(t||{},{stringOutput:!0}))},jml.toDOM=function(){return jml.apply(void 0,arguments)},jml.toHTML=function(){return jml.apply(void 0,arguments).outerHTML},jml.toDOMString=function(){return jml.toHTML.apply(jml,arguments)},jml.toXML=function(){var e=jml.apply(void 0,arguments);return(new XmlSerializer).serializeToString(e)},jml.toXMLDOMString=function(){return jml.toXML.apply(jml,arguments)};var JamilihMap=function(e){function t(){return _classCallCheck$1(this,t),_possibleConstructorReturn$1(this,_getPrototypeOf$1(t).apply(this,arguments))}return _inherits$1(t,_wrapNativeSuper$1(Map)),_createClass$1(t,[{key:"get",value:function(e){return e="string"==typeof e?$(e):e,_get$1(_getPrototypeOf$1(t.prototype),"get",this).call(this,e)}},{key:"set",value:function(e,r){return e="string"==typeof e?$(e):e,_get$1(_getPrototypeOf$1(t.prototype),"set",this).call(this,e,r)}},{key:"invoke",value:function(e,t){var r;e="string"==typeof e?$(e):e;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return(r=this.get(e))[t].apply(r,[e].concat(a))}}]),t}(),JamilihWeakMap=function(e){function t(){return _classCallCheck$1(this,t),_possibleConstructorReturn$1(this,_getPrototypeOf$1(t).apply(this,arguments))}return _inherits$1(t,_wrapNativeSuper$1(WeakMap)),_createClass$1(t,[{key:"get",value:function(e){return e="string"==typeof e?$(e):e,_get$1(_getPrototypeOf$1(t.prototype),"get",this).call(this,e)}},{key:"set",value:function(e,r){return e="string"==typeof e?$(e):e,_get$1(_getPrototypeOf$1(t.prototype),"set",this).call(this,e,r)}},{key:"invoke",value:function(e,t){var r;e="string"==typeof e?$(e):e;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return(r=this.get(e))[t].apply(r,[e].concat(a))}}]),t}();jml.Map=JamilihMap,jml.WeakMap=JamilihWeakMap,jml.weak=function(e){for(var t=new JamilihWeakMap,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=jml.apply(void 0,[{$map:[t,e]}].concat(n));return[t,o]},jml.strong=function(e){for(var t=new JamilihMap,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=jml.apply(void 0,[{$map:[t,e]}].concat(n));return[t,o]},jml.symbol=jml.sym=jml.for=function(e,t){return(e="string"==typeof e?$(e):e)["symbol"===_typeof$3(t)?t:Symbol.for(t)]},jml.command=function(e,t,r){var n,a,o,i;e="string"==typeof e?$(e):e;for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];return["symbol","string"].includes(_typeof$3(t))?"function"==typeof(n=jml.sym(e,t))?n.apply(void 0,[r].concat(u)):(a=n)[r].apply(a,u):"function"==typeof(n=t.get(e))?(i=n).call.apply(i,[e,r].concat(u)):(o=n)[r].apply(o,[e].concat(u))},jml.setWindow=function(e){win=e},jml.setDocument=function(e){doc=e,e&&e.body&&(body=e.body)},jml.setXMLSerializer=function(e){XmlSerializer=e},jml.getWindow=function(){return win},jml.getDocument=function(){return doc},jml.getXMLSerializer=function(){return XmlSerializer};var path,babelRegister,body=doc&&doc.body,nbsp="",$$1=function(e){return document.querySelector(e)},$e=function(e,t){return(e="string"==typeof e?$$1(e):e).querySelector(t)},defaultLocale$1="en",localeStrings={en:{submit:"Submit",cancel:"Cancel",ok:"Ok"}},Dialog=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.locale,n=t.localeObject;_classCallCheck(this,e),this.setLocale({locale:r,localeObject:n})}return _createClass(e,[{key:"setLocale",value:function(e){var t=e.locale,r=void 0===t?{}:t,n=e.localeObject,a=void 0===n?{}:n;this.localeStrings=_objectSpread({},localeStrings[defaultLocale$1],localeStrings[r],a)}},{key:"makeDialog",value:function(e){var t=e.atts,r=void 0===t?{}:t,n=e.children,a=void 0===n?[]:n,o=e.close,i=e.remove,s=void 0===i||i;o&&(r.$on||(r.$on={}),r.$on.close||(r.$on.close=o));var u=jml("dialog",r,a,body);return dialogPolyfill.registerDialog(u),u.showModal(),s&&u.addEventListener("close",function(){u.remove()}),u}},{key:"makeSubmitDialog",value:function(e){var t=e.submit,r=e.submitClass,n=void 0===r?"submit":r,a=_objectWithoutProperties(e,["submit","submitClass"]),o=this.makeCancelDialog(a);return $e(o,"button.".concat(a.cancelClass||"cancel")).before(jml("button",{class:n,$on:{click:function(e){t&&t.call(this,{e:e,dialog:o})}}},[this.localeStrings.submit]),nbsp.repeat(2)),o}},{key:"makeCancelDialog",value:function(e){e.submit;var t=e.cancel,r=e.cancelClass,n=void 0===r?"cancel":r,a=e.submitClass,o=void 0===a?"submit":a,i=_objectWithoutProperties(e,["submit","cancel","cancelClass","submitClass"]),s=this.makeDialog(i);return jml("div",{class:o},[["br"],["br"],["button",{class:n,$on:{click:function(e){e.preventDefault(),t&&!1===t.call(this,{e:e,dialog:s})||s.close()}}},[this.localeStrings.cancel]]],s),s}},{key:"alert",value:function(e,t){var r=this,n=e="string"==typeof e?{message:e}:e,a=n.ok,o=void 0===a?"object"===_typeof(t)?!1!==t.ok:!1!==t:a,i=n.message,s=n.submitClass,u=void 0===s?"submit":s;return new Promise(function(e,t){var n=jml("dialog",[i].concat(_toConsumableArray(o?[["br"],["br"],["div",{class:u},[["button",{$on:{click:function(){n.close(),e()}}},[r.localeStrings.ok]]]]]:[])),body);dialogPolyfill.registerDialog(n),n.showModal()})}},{key:"prompt",value:function(e){var t=this,r=e="string"==typeof e?{message:e}:e,n=r.message,a=r.submit,o=_objectWithoutProperties(r,["message","submit"]);return new Promise(function(e,r){t.makeSubmitDialog(_objectSpread({},o,{submit:function(t){var r=t.e,n=t.dialog;a&&a.call(this,{e:r,dialog:n}),n.close(),e($e(n,"input").value)},cancel:function(){r(new Error("cancelled"))},children:[["label",[n,nbsp.repeat(3),["input"]]]]}))})}},{key:"confirm",value:function(e){var t=this,r=e="string"==typeof e?{message:e}:e,n=r.message,a=r.submitClass,o=void 0===a?"submit":a;return new Promise(function(e,r){var a=jml("dialog",[n,["br"],["br"],["div",{class:o},[["button",{$on:{click:function(){a.close(),e()}}},[t.localeStrings.ok]],nbsp.repeat(2),["button",{$on:{click:function(){a.close(),r(new Error("cancelled"))}}},[t.localeStrings.cancel]]]]],body);dialogPolyfill.registerDialog(a),a.showModal()})}}]),e}(),dialogs=new Dialog,getPreferredLanguages=function(e){var t=e.namespace,r=e.preferredLocale,n=localStorage.getItem(t+"-langCodes"),a=n&&JSON.parse(n)||[r],o=[];return a.forEach(function(e){var t=e.replace(/-.*$/,"");t===e?o.push(e):o.push(e,t)}),o},Languages=function(){function e(t){var r=t.langData;_classCallCheck(this,e),this.langData=r}return _createClass(e,[{key:"localeFromLangData",value:function(e){return this.langData["localization-strings"][e]}},{key:"getLanguageFromCode",value:function(e){return this.localeFromLangData(e).languages[e]}},{key:"getFieldNameFromPluginNameAndLocales",value:function(e){var t=e.pluginName,r=(e.locales,e.lf),n=e.targetLanguage,a=e.applicableFieldI18N;return r(["plugins",t,"fieldname"],_objectSpread({},e.meta,e.metaApplicableField,{applicableField:a,targetLanguage:n?this.getLanguageFromCode(n):""}))}},{key:"getLanguageInfo",value:function(e){var t=e.$p,r=this.langData.languages,n=function(e){return!!r.some(function(t){return t.code===e})&&e},a=t.get("lang",!0),o=navigator.languages.filter(n),i=o.length?o:[n(navigator.language)||"en-US"];return{lang:(a||i[0]).split(".").concat(i),langs:r,languageParam:a,fallbackLanguages:i}}}]),e}(),JsonRefs=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}([function(e,t,r){var n;try{n=r(7)}catch(e){}n||(n=window._),e.exports=n},function(e,t,r){var n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(n=window)}e.exports=n},function(e,t,r){var n,a,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var l,c=[],f=!1,p=-1;function d(){f&&l&&(f=!1,l.length?c=l.concat(c):p=-1,c.length&&h())}function h(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,f=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||f||u(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMES=void 0,t.pctEncChar=l,t.pctDecChars=c,t.parse=h,t.removeDotSegments=b,t.serialize=_,t.resolveComponents=w,t.resolve=function(e,t,r){return _(w(h(e,r),h(t,r),r,!0),r)},t.normalize=function(e,t){return"string"==typeof e?e=_(h(e,t),t):"object"===(0,i.typeOf)(e)&&(e=h(_(e,t),t)),e},t.equal=function(e,t,r){return"string"==typeof e?e=_(h(e,r),r):"object"===(0,i.typeOf)(e)&&(e=_(e,r)),"string"==typeof t?t=_(h(t,r),r):"object"===(0,i.typeOf)(t)&&(t=_(t,r)),e===t},t.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.default.ESCAPE:n.default.ESCAPE,l)},t.unescapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.default.PCT_ENCODED:n.default.PCT_ENCODED,c)};var n=s(r(17)),a=s(r(50)),o=s(r(18)),i=r(6);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SCHEMES={};function l(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function c(e){for(var t="",r=0,n=e.length;r<n;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(n-r>=9){var i=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function f(e,t){function r(e){var r=c(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,l).replace(t.PCT_ENCODED,i.toUpperCase)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,l).replace(t.PCT_ENCODED,i.toUpperCase)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,l).replace(t.PCT_ENCODED,i.toUpperCase)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,l).replace(t.PCT_ENCODED,i.toUpperCase)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,l).replace(t.PCT_ENCODED,i.toUpperCase)),e}var p=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[\dA-F:.]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,d=void 0==="".match(/(){0}/)[1];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==t.iri?a.default:n.default;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var s=e.match(p);if(s){d?(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5])):(r.scheme=s[1]||void 0,r.userinfo=-1!==e.indexOf("@")?s[3]:void 0,r.host=-1!==e.indexOf("//")?s[4]:void 0,r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=-1!==e.indexOf("?")?s[7]:void 0,r.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),r.host&&(r.host=r.host.replace(i.IPV6ADDRESS,"$1")),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var l=u[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||l&&l.unicodeSupport)f(r,i);else{if(r.host&&(t.domainHost||l&&l.domainHost))try{r.host=o.default.toASCII(r.host.replace(i.PCT_ENCODED,c).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}f(r,n.default)}l&&l.parse&&l.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var g=/^\.\.?\//,m=/^\/\.(\/|$)/,v=/^\/\.\.(\/|$)/,y=/^\/?(?:.|\n)*?(?=\/|$)/;function b(e){for(var t=[];e.length;)if(e.match(g))e=e.replace(g,"");else if(e.match(m))e=e.replace(m,"/");else if(e.match(v))e=e.replace(v,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(y);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a.default:n.default,i=[],s=u[(t.scheme||e.scheme||"").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?o.default.toUnicode(e.host):o.default.toASCII(e.host.replace(r.PCT_ENCODED,c).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}f(e,r),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var l=function(e,t){var r=!1!==t.iri?a.default:n.default,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(String(e.host).replace(r.IPV6ADDRESS,"[$1]")),"number"==typeof e.port&&(o.push(":"),o.push(e.port.toString(10))),o.length?o.join(""):void 0}(e,t);if(void 0!==l&&("suffix"!==t.reference&&i.push("//"),i.push(l),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var p=e.path;t.absolutePath||s&&s.absolutePath||(p=b(p)),void 0===l&&(p=p.replace(/^\/\//,"/%2F")),i.push(p)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=h(_(e,r),r),t=h(_(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=b(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=b(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=b(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=b(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(0);e.exports=u;var o="\0",i="\0",s="";function u(e){this._isDirected=!a.has(e,"directed")||e.directed,this._isMultigraph=!!a.has(e,"multigraph")&&e.multigraph,this._isCompound=!!a.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=a.constant(void 0),this._defaultEdgeLabelFn=a.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(e,t){e[t]?e[t]++:e[t]=1}function c(e,t){--e[t]||delete e[t]}function f(e,t,r,n){var i=""+t,u=""+r;if(!e&&i>u){var l=i;i=u,u=l}return i+s+u+s+(a.isUndefined(n)?o:n)}function p(e,t){return f(e,t.v,t.w,t.name)}u.prototype._nodeCount=0,u.prototype._edgeCount=0,u.prototype.isDirected=function(){return this._isDirected},u.prototype.isMultigraph=function(){return this._isMultigraph},u.prototype.isCompound=function(){return this._isCompound},u.prototype.setGraph=function(e){return this._label=e,this},u.prototype.graph=function(){return this._label},u.prototype.setDefaultNodeLabel=function(e){return a.isFunction(e)||(e=a.constant(e)),this._defaultNodeLabelFn=e,this},u.prototype.nodeCount=function(){return this._nodeCount},u.prototype.nodes=function(){return a.keys(this._nodes)},u.prototype.sources=function(){var e=this;return a.filter(this.nodes(),function(t){return a.isEmpty(e._in[t])})},u.prototype.sinks=function(){var e=this;return a.filter(this.nodes(),function(t){return a.isEmpty(e._out[t])})},u.prototype.setNodes=function(e,t){var r=arguments,n=this;return a.each(e,function(e){r.length>1?n.setNode(e,t):n.setNode(e)}),this},u.prototype.setNode=function(e,t){return a.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},u.prototype.node=function(e){return this._nodes[e]},u.prototype.hasNode=function(e){return a.has(this._nodes,e)},u.prototype.removeNode=function(e){var t=this;if(a.has(this._nodes,e)){var r=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],a.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),a.each(a.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],a.each(a.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},u.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(a.isUndefined(t))t=i;else{for(var r=t+="";!a.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},u.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},u.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},u.prototype.children=function(e){if(a.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return a.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},u.prototype.predecessors=function(e){var t=this._preds[e];if(t)return a.keys(t)},u.prototype.successors=function(e){var t=this._sucs[e];if(t)return a.keys(t)},u.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return a.union(t,this.successors(e))},u.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},u.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;a.each(this._nodes,function(r,n){e(n)&&t.setNode(n,r)}),a.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))});var n={};return this._isCompound&&a.each(t.nodes(),function(e){t.setParent(e,function e(a){var o=r.parent(a);return void 0===o||t.hasNode(o)?(n[a]=o,o):o in n?n[o]:e(o)}(e))}),t},u.prototype.setDefaultEdgeLabel=function(e){return a.isFunction(e)||(e=a.constant(e)),this._defaultEdgeLabelFn=e,this},u.prototype.edgeCount=function(){return this._edgeCount},u.prototype.edges=function(){return a.values(this._edgeObjs)},u.prototype.setPath=function(e,t){var r=this,n=arguments;return a.reduce(e,function(e,a){return n.length>1?r.setEdge(e,a,t):r.setEdge(e,a),a}),this},u.prototype.setEdge=function(){var e,t,r,o,i=!1,s=arguments[0];"object"===(void 0===s?"undefined":n(s))&&null!==s&&"v"in s?(e=s.v,t=s.w,r=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=s,t=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,a.isUndefined(r)||(r=""+r);var u=f(this._isDirected,e,t,r);if(a.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=o),this;if(!a.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?o:this._defaultEdgeLabelFn(e,t,r);var c=function(e,t,r,n){var a=""+t,o=""+r;if(!e&&a>o){var i=a;a=o,o=i}var s={v:a,w:o};return n&&(s.name=n),s}(this._isDirected,e,t,r);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[u]=c,l(this._preds[t],e),l(this._sucs[e],t),this._in[t][u]=c,this._out[e][u]=c,this._edgeCount++,this},u.prototype.edge=function(e,t,r){var n=1===arguments.length?p(this._isDirected,arguments[0]):f(this._isDirected,e,t,r);return this._edgeLabels[n]},u.prototype.hasEdge=function(e,t,r){var n=1===arguments.length?p(this._isDirected,arguments[0]):f(this._isDirected,e,t,r);return a.has(this._edgeLabels,n)},u.prototype.removeEdge=function(e,t,r){var n=1===arguments.length?p(this._isDirected,arguments[0]):f(this._isDirected,e,t,r),a=this._edgeObjs[n];return a&&(e=a.v,t=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],c(this._preds[t],e),c(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this},u.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=a.values(r);return t?a.filter(n,function(e){return e.v===t}):n}},u.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=a.values(r);return t?a.filter(n,function(e){return e.w===t}):n}},u.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,a=1;a<n;++a)t[a]=t[a].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]},t.subexp=function(e){return"(?:"+e+")"},t.typeOf=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()},t.toUpperCase=function(e){return e.toUpperCase()},t.toArray=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}},function(e,t,r){(function(e,n){var a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var i,s=200,u="Expected a function",l="__lodash_hash_undefined__",c="__lodash_placeholder__",f=1,p=2,d=4,h=1,g=2,m=1,v=2,y=4,b=8,_=16,w=32,x=64,k=128,S=256,A=512,O=800,E=16,C=1/0,T=9007199254740991,j=1.7976931348623157e308,P=NaN,F=4294967295,$=F-1,N=F>>>1,D=[["ary",k],["bind",m],["bindKey",v],["curry",b],["curryRight",_],["flip",A],["partial",w],["partialRight",x],["rearg",S]],L="[object Arguments]",R="[object Array]",I="[object AsyncFunction]",M="[object Boolean]",U="[object Date]",z="[object DOMException]",q="[object Error]",W="[object Function]",B="[object GeneratorFunction]",H="[object Map]",V="[object Number]",G="[object Null]",J="[object Object]",X="[object Proxy]",Y="[object RegExp]",K="[object Set]",Z="[object String]",Q="[object Symbol]",ee="[object Undefined]",te="[object WeakMap]",re="[object ArrayBuffer]",ne="[object DataView]",ae="[object Float32Array]",oe="[object Float64Array]",ie="[object Int8Array]",se="[object Int16Array]",ue="[object Int32Array]",le="[object Uint8Array]",ce="[object Uint8ClampedArray]",fe="[object Uint16Array]",pe="[object Uint32Array]",de=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39);/g,ve=/[&<>"']/g,ye=RegExp(me.source),be=RegExp(ve.source),_e=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ee=RegExp(Oe.source),Ce=/^\s+|\s+$/g,Te=/^\s+/,je=/\s+$/,Pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,$e=/,? & /,Ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,De=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Re=/\w*$/,Ie=/^[-+]0x[0-9a-f]+$/i,Me=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,We=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Be=/($^)/,He=/['\n\r\u2028\u2029\\]/g,Ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ge="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+Ge+"]",Xe="["+Ve+"]",Ye="\\d+",Ke="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ze="[^\\ud800-\\udfff"+Ge+Ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Qe="\\ud83c[\\udffb-\\udfff]",et="[^\\ud800-\\udfff]",tt="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",at="(?:"+Ke+"|"+Ze+")",ot="(?:"+nt+"|"+Ze+")",it="(?:"+Xe+"|"+Qe+")?",st="[\\ufe0e\\ufe0f]?"+it+"(?:\\u200d(?:"+[et,tt,rt].join("|")+")[\\ufe0e\\ufe0f]?"+it+")*",ut="(?:"+["[\\u2700-\\u27bf]",tt,rt].join("|")+")"+st,lt="(?:"+[et+Xe+"?",Xe,tt,rt,"[\\ud800-\\udfff]"].join("|")+")",ct=RegExp("[']","g"),ft=RegExp(Xe,"g"),pt=RegExp(Qe+"(?="+Qe+")|"+lt+st,"g"),dt=RegExp([nt+"?"+Ke+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Je,nt,"$"].join("|")+")",ot+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Je,nt+at,"$"].join("|")+")",nt+"?"+at+"+(?:['](?:d|ll|m|re|s|t|ve))?",nt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ye,ut].join("|"),"g"),ht=RegExp("[\\u200d\\ud800-\\udfff"+Ve+"\\ufe0e\\ufe0f]"),gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vt=-1,yt={};yt[ae]=yt[oe]=yt[ie]=yt[se]=yt[ue]=yt[le]=yt[ce]=yt[fe]=yt[pe]=!0,yt[L]=yt[R]=yt[re]=yt[M]=yt[ne]=yt[U]=yt[q]=yt[W]=yt[H]=yt[V]=yt[J]=yt[Y]=yt[K]=yt[Z]=yt[te]=!1;var bt={};bt[L]=bt[R]=bt[re]=bt[ne]=bt[M]=bt[U]=bt[ae]=bt[oe]=bt[ie]=bt[se]=bt[ue]=bt[H]=bt[V]=bt[J]=bt[Y]=bt[K]=bt[Z]=bt[Q]=bt[le]=bt[ce]=bt[fe]=bt[pe]=!0,bt[q]=bt[W]=bt[te]=!1;var _t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wt=parseFloat,xt=parseInt,kt="object"==(void 0===e?"undefined":o(e))&&e&&e.Object===Object&&e,St="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,At=kt||St||Function("return this")(),Ot="object"==o(t)&&t&&!t.nodeType&&t,Et=Ot&&"object"==o(n)&&n&&!n.nodeType&&n,Ct=Et&&Et.exports===Ot,Tt=Ct&&kt.process,jt=function(){try{return Et&&Et.require&&Et.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch(e){}}(),Pt=jt&&jt.isArrayBuffer,Ft=jt&&jt.isDate,$t=jt&&jt.isMap,Nt=jt&&jt.isRegExp,Dt=jt&&jt.isSet,Lt=jt&&jt.isTypedArray;function Rt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function It(e,t,r,n){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(n,i,r(i),e)}return n}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function zt(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}function qt(e,t){return!(null==e||!e.length)&&Zt(e,t,0)>-1}function Wt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Bt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Ht(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Vt(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}function Gt(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Jt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xt=rr("length");function Yt(e,t,r){var n;return r(e,function(e,r,a){if(t(e,r,a))return n=r,!1}),n}function Kt(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Zt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):Kt(e,er,r)}function Qt(e,t,r,n){for(var a=r-1,o=e.length;++a<o;)if(n(e[a],t))return a;return-1}function er(e){return e!=e}function tr(e,t){var r=null==e?0:e.length;return r?or(e,t)/r:P}function rr(e){return function(t){return null==t?i:t[e]}}function nr(e){return function(t){return null==e?i:e[t]}}function ar(e,t,r,n,a){return a(e,function(e,a,o){r=n?(n=!1,e):t(r,e,a,o)}),r}function or(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);o!==i&&(r=r===i?o:r+o)}return r}function ir(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function sr(e){return function(t){return e(t)}}function ur(e,t){return Bt(t,function(t){return e[t]})}function lr(e,t){return e.has(t)}function cr(e,t){for(var r=-1,n=e.length;++r<n&&Zt(t,e[r],0)>-1;);return r}function fr(e,t){for(var r=e.length;r--&&Zt(t,e[r],0)>-1;);return r}var pr=nr({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),dr=nr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function hr(e){return"\\"+_t[e]}function gr(e){return ht.test(e)}function mr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function vr(e,t){return function(r){return e(t(r))}}function yr(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];i!==t&&i!==c||(e[r]=c,o[a++]=r)}return o}function br(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function _r(e){return gr(e)?function(e){for(var t=pt.lastIndex=0;pt.test(e);)++t;return t}(e):Xt(e)}function wr(e){return gr(e)?function(e){return e.match(pt)||[]}(e):function(e){return e.split("")}(e)}var xr=nr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kr=function e(t){var r,n=(t=null==t?At:kr.defaults(At.Object(),t,kr.pick(At,mt))).Array,a=t.Date,Ve=t.Error,Ge=t.Function,Je=t.Math,Xe=t.Object,Ye=t.RegExp,Ke=t.String,Ze=t.TypeError,Qe=n.prototype,et=Ge.prototype,tt=Xe.prototype,rt=t["__core-js_shared__"],nt=et.toString,at=tt.hasOwnProperty,ot=0,it=(r=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",st=tt.toString,ut=nt.call(Xe),lt=At._,pt=Ye("^"+nt.call(at).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=Ct?t.Buffer:i,_t=t.Symbol,kt=t.Uint8Array,St=ht?ht.allocUnsafe:i,Ot=vr(Xe.getPrototypeOf,Xe),Et=Xe.create,Tt=tt.propertyIsEnumerable,jt=Qe.splice,Xt=_t?_t.isConcatSpreadable:i,nr=_t?_t.iterator:i,Sr=_t?_t.toStringTag:i,Ar=function(){try{var e=Ao(Xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Or=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,Er=a&&a.now!==At.Date.now&&a.now,Cr=t.setTimeout!==At.setTimeout&&t.setTimeout,Tr=Je.ceil,jr=Je.floor,Pr=Xe.getOwnPropertySymbols,Fr=ht?ht.isBuffer:i,$r=t.isFinite,Nr=Qe.join,Dr=vr(Xe.keys,Xe),Lr=Je.max,Rr=Je.min,Ir=a.now,Mr=t.parseInt,Ur=Je.random,zr=Qe.reverse,qr=Ao(t,"DataView"),Wr=Ao(t,"Map"),Br=Ao(t,"Promise"),Hr=Ao(t,"Set"),Vr=Ao(t,"WeakMap"),Gr=Ao(Xe,"create"),Jr=Vr&&new Vr,Xr={},Yr=Ko(qr),Kr=Ko(Wr),Zr=Ko(Br),Qr=Ko(Hr),en=Ko(Vr),tn=_t?_t.prototype:i,rn=tn?tn.valueOf:i,nn=tn?tn.toString:i;function an(e){if(hs(e)&&!ns(e)&&!(e instanceof ln)){if(e instanceof un)return e;if(at.call(e,"__wrapped__"))return Zo(e)}return new un(e)}var on=function(){function e(){}return function(t){if(!ds(t))return{};if(Et)return Et(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function sn(){}function un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function fn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function pn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function dn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new pn;++t<r;)this.add(e[t])}function hn(e){var t=this.__data__=new fn(e);this.size=t.size}function gn(e,t){var r=ns(e),n=!r&&rs(e),a=!r&&!n&&ss(e),o=!r&&!n&&!a&&xs(e),i=r||n||a||o,s=i?ir(e.length,Ke):[],u=s.length;for(var l in e)!t&&!at.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Fo(l,u))||s.push(l);return s}function mn(e){var t=e.length;return t?e[ca(0,t-1)]:i}function vn(e,t,r){(r===i||Qi(e[t],r))&&(r!==i||t in e)||xn(e,t,r)}function yn(e,t,r){var n=e[t];at.call(e,t)&&Qi(n,r)&&(r!==i||t in e)||xn(e,t,r)}function bn(e,t){for(var r=e.length;r--;)if(Qi(e[r][0],t))return r;return-1}function _n(e,t,r,n){return Tn(e,function(e,a,o){t(n,e,r(e),o)}),n}function wn(e,t){return e&&Wa(t,Bs(t),e)}function xn(e,t,r){"__proto__"==t&&Ar?Ar(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function kn(e,t){for(var r=-1,a=t.length,o=n(a),s=null==e;++r<a;)o[r]=s?i:Ms(e,t[r]);return o}function Sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function An(e,t,r,n,a,o){var s,u=t&f,l=t&p,c=t&d;if(r&&(s=a?r(e,n,a,o):r(e)),s!==i)return s;if(!ds(e))return e;var h=ns(e);if(h){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&at.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return qa(e,s)}else{var g=Co(e),m=g==W||g==B;if(ss(e))return La(e,u);if(g==J||g==L||m&&!a){if(s=l||m?{}:jo(e),!u)return l?function(e,t){return Wa(e,Eo(e),t)}(e,function(e,t){return e&&Wa(t,Hs(t),e)}(s,e)):function(e,t){return Wa(e,Oo(e),t)}(e,wn(s,e))}else{if(!bt[g])return a?e:{};s=function(e,t,r){var n,a,o,i=e.constructor;switch(t){case re:return Ra(e);case M:case U:return new i(+e);case ne:return function(e,t){var r=t?Ra(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ae:case oe:case ie:case se:case ue:case le:case ce:case fe:case pe:return Ia(e,r);case H:return new i;case V:case Z:return new i(e);case Y:return(o=new(a=e).constructor(a.source,Re.exec(a))).lastIndex=a.lastIndex,o;case K:return new i;case Q:return n=e,rn?Xe(rn.call(n)):{}}}(e,g,u)}}o||(o=new hn);var v=o.get(e);if(v)return v;if(o.set(e,s),bs(e))return e.forEach(function(n){s.add(An(n,t,r,n,e,o))}),s;if(gs(e))return e.forEach(function(n,a){s.set(a,An(n,t,r,a,e,o))}),s;var y=h?i:(c?l?yo:vo:l?Hs:Bs)(e);return Mt(y||e,function(n,a){y&&(n=e[a=n]),yn(s,a,An(n,t,r,a,e,o))}),s}function On(e,t,r){var n=r.length;if(null==e)return!n;for(e=Xe(e);n--;){var a=r[n],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function En(e,t,r){if("function"!=typeof e)throw new Ze(u);return Bo(function(){e.apply(i,r)},t)}function Cn(e,t,r,n){var a=-1,o=qt,i=!0,u=e.length,l=[],c=t.length;if(!u)return l;r&&(t=Bt(t,sr(r))),n?(o=Wt,i=!1):t.length>=s&&(o=lr,i=!1,t=new dn(t));e:for(;++a<u;){var f=e[a],p=null==r?f:r(f);if(f=n||0!==f?f:0,i&&p==p){for(var d=c;d--;)if(t[d]===p)continue e;l.push(f)}else o(t,p,n)||l.push(f)}return l}an.templateSettings={escape:_e,evaluate:we,interpolate:xe,variable:"",imports:{_:an}},an.prototype=sn.prototype,an.prototype.constructor=an,un.prototype=on(sn.prototype),un.prototype.constructor=un,ln.prototype=on(sn.prototype),ln.prototype.constructor=ln,cn.prototype.clear=function(){this.__data__=Gr?Gr(null):{},this.size=0},cn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cn.prototype.get=function(e){var t=this.__data__;if(Gr){var r=t[e];return r===l?i:r}return at.call(t,e)?t[e]:i},cn.prototype.has=function(e){var t=this.__data__;return Gr?t[e]!==i:at.call(t,e)},cn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gr&&t===i?l:t,this},fn.prototype.clear=function(){this.__data__=[],this.size=0},fn.prototype.delete=function(e){var t=this.__data__,r=bn(t,e);return!(r<0||(r==t.length-1?t.pop():jt.call(t,r,1),--this.size,0))},fn.prototype.get=function(e){var t=this.__data__,r=bn(t,e);return r<0?i:t[r][1]},fn.prototype.has=function(e){return bn(this.__data__,e)>-1},fn.prototype.set=function(e,t){var r=this.__data__,n=bn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},pn.prototype.clear=function(){this.size=0,this.__data__={hash:new cn,map:new(Wr||fn),string:new cn}},pn.prototype.delete=function(e){var t=ko(this,e).delete(e);return this.size-=t?1:0,t},pn.prototype.get=function(e){return ko(this,e).get(e)},pn.prototype.has=function(e){return ko(this,e).has(e)},pn.prototype.set=function(e,t){var r=ko(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},dn.prototype.add=dn.prototype.push=function(e){return this.__data__.set(e,l),this},dn.prototype.has=function(e){return this.__data__.has(e)},hn.prototype.clear=function(){this.__data__=new fn,this.size=0},hn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},hn.prototype.get=function(e){return this.__data__.get(e)},hn.prototype.has=function(e){return this.__data__.has(e)},hn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof fn){var n=r.__data__;if(!Wr||n.length<s-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pn(n)}return r.set(e,t),this.size=r.size,this};var Tn=Va(Rn),jn=Va(In,!0);function Pn(e,t){var r=!0;return Tn(e,function(e,n,a){return r=!!t(e,n,a)}),r}function Fn(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],s=t(o);if(null!=s&&(u===i?s==s&&!ws(s):r(s,u)))var u=s,l=o}return l}function $n(e,t){var r=[];return Tn(e,function(e,n,a){t(e,n,a)&&r.push(e)}),r}function Nn(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=Po),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Nn(s,t-1,r,n,a):Ht(a,s):n||(a[a.length]=s)}return a}var Dn=Ga(),Ln=Ga(!0);function Rn(e,t){return e&&Dn(e,t,Bs)}function In(e,t){return e&&Ln(e,t,Bs)}function Mn(e,t){return zt(t,function(t){return cs(e[t])})}function Un(e,t){for(var r=0,n=(t=Fa(t,e)).length;null!=e&&r<n;)e=e[Yo(t[r++])];return r&&r==n?e:i}function zn(e,t,r){var n=t(e);return ns(e)?n:Ht(n,r(e))}function qn(e){return null==e?e===i?ee:G:Sr&&Sr in Xe(e)?function(e){var t=at.call(e,Sr),r=e[Sr];try{e[Sr]=i}catch(e){}var n=st.call(e);return t?e[Sr]=r:delete e[Sr],n}(e):function(e){return st.call(e)}(e)}function Wn(e,t){return e>t}function Bn(e,t){return null!=e&&at.call(e,t)}function Hn(e,t){return null!=e&&t in Xe(e)}function Vn(e,t,r){for(var a=r?Wt:qt,o=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var p=e[u];u&&t&&(p=Bt(p,sr(t))),c=Rr(p.length,c),l[u]=!r&&(t||o>=120&&p.length>=120)?new dn(u&&p):i}p=e[0];var d=-1,h=l[0];e:for(;++d<o&&f.length<c;){var g=p[d],m=t?t(g):g;if(g=r||0!==g?g:0,!(h?lr(h,m):a(f,m,r))){for(u=s;--u;){var v=l[u];if(!(v?lr(v,m):a(e[u],m,r)))continue e}h&&h.push(m),f.push(g)}}return f}function Gn(e,t,r){var n=null==(e=zo(e,t=Fa(t,e)))?e:e[Yo(li(t))];return null==n?i:Rt(n,e,r)}function Jn(e){return hs(e)&&qn(e)==L}function Xn(e,t,r,n,a){return e===t||(null==e||null==t||!hs(e)&&!hs(t)?e!=e&&t!=t:function(e,t,r,n,a,o){var s=ns(e),u=ns(t),l=s?R:Co(e),c=u?R:Co(t),f=(l=l==L?J:l)==J,p=(c=c==L?J:c)==J,d=l==c;if(d&&ss(e)){if(!ss(t))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new hn),s||xs(e)?go(e,t,r,n,a,o):function(e,t,r,n,a,o,i){switch(r){case ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case re:return!(e.byteLength!=t.byteLength||!o(new kt(e),new kt(t)));case M:case U:case V:return Qi(+e,+t);case q:return e.name==t.name&&e.message==t.message;case Y:case Z:return e==t+"";case H:var s=mr;case K:var u=n&h;if(s||(s=br),e.size!=t.size&&!u)return!1;var l=i.get(e);if(l)return l==t;n|=g,i.set(e,t);var c=go(s(e),s(t),n,a,o,i);return i.delete(e),c;case Q:if(rn)return rn.call(e)==rn.call(t)}return!1}(e,t,l,r,n,a,o);if(!(r&h)){var m=f&&at.call(e,"__wrapped__"),v=p&&at.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,b=v?t.value():t;return o||(o=new hn),a(y,b,r,n,o)}}return!!d&&(o||(o=new hn),function(e,t,r,n,a,o){var s=r&h,u=vo(e),l=u.length;if(l!=vo(t).length&&!s)return!1;for(var c=l;c--;){var f=u[c];if(!(s?f in t:at.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);for(var g=s;++c<l;){var m=e[f=u[c]],v=t[f];if(n)var y=s?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(!(y===i?m===v||a(m,v,r,n,o):y)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,r,n,a,o))}(e,t,r,n,Xn,a))}function Yn(e,t,r,n){var a=r.length,o=a,s=!n;if(null==e)return!o;for(e=Xe(e);a--;){var u=r[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=r[a])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var p=new hn;if(n)var d=n(c,f,l,e,t,p);if(!(d===i?Xn(f,c,h|g,n,p):d))return!1}}return!0}function Kn(e){return!(!ds(e)||(t=e,it&&it in t))&&(cs(e)?pt:Ue).test(Ko(e));var t}function Zn(e){return"function"==typeof e?e:null==e?mu:"object"==(void 0===e?"undefined":o(e))?ns(e)?na(e[0],e[1]):ra(e):Au(e)}function Qn(e){if(!Ro(e))return Dr(e);var t=[];for(var r in Xe(e))at.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ea(e,t){return e<t}function ta(e,t){var r=-1,a=os(e)?n(e.length):[];return Tn(e,function(e,n,o){a[++r]=t(e,n,o)}),a}function ra(e){var t=So(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(r){return r===e||Yn(r,e,t)}}function na(e,t){return No(e)&&Io(t)?Mo(Yo(e),t):function(r){var n=Ms(r,e);return n===i&&n===t?Us(r,e):Xn(t,n,h|g)}}function aa(e,t,r,n,a){e!==t&&Dn(t,function(o,s){if(ds(o))a||(a=new hn),function(e,t,r,n,a,o,s){var u=qo(e,r),l=qo(t,r),c=s.get(l);if(c)vn(e,r,c);else{var f=o?o(u,l,r+"",e,t,s):i,p=f===i;if(p){var d=ns(l),h=!d&&ss(l),g=!d&&!h&&xs(l);f=l,d||h||g?ns(u)?f=u:is(u)?f=qa(u):h?(p=!1,f=La(l,!0)):g?(p=!1,f=Ia(l,!0)):f=[]:vs(l)||rs(l)?(f=u,rs(u)?f=js(u):ds(u)&&!cs(u)||(f=jo(l))):p=!1}p&&(s.set(l,f),a(f,l,n,o,s),s.delete(l)),vn(e,r,f)}}(e,t,s,r,aa,n,a);else{var u=n?n(qo(e,s),o,s+"",e,t,a):i;u===i&&(u=o),vn(e,s,u)}},Hs)}function oa(e,t){var r=e.length;if(r)return Fo(t+=t<0?r:0,r)?e[t]:i}function ia(e,t,r){var n=-1;return t=Bt(t.length?t:[mu],sr(xo())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(ta(e,function(e,r,a){return{criteria:Bt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var u=Ma(a[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)})}function sa(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=Un(e,i);r(s,i)&&da(o,Fa(i,e),s)}return o}function ua(e,t,r,n){var a=n?Qt:Zt,o=-1,i=t.length,s=e;for(e===t&&(t=qa(t)),r&&(s=Bt(e,sr(r)));++o<i;)for(var u=0,l=t[o],c=r?r(l):l;(u=a(s,c,u,n))>-1;)s!==e&&jt.call(s,u,1),jt.call(e,u,1);return e}function la(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==o){var o=a;Fo(a)?jt.call(e,a,1):Sa(e,a)}}return e}function ca(e,t){return e+jr(Ur()*(t-e+1))}function fa(e,t){var r="";if(!e||t<1||t>T)return r;do{t%2&&(r+=e),(t=jr(t/2))&&(e+=e)}while(t);return r}function pa(e,t){return Ho(Uo(e,t,mu),e+"")}function da(e,t,r,n){if(!ds(e))return e;for(var a=-1,o=(t=Fa(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=Yo(t[a]),c=r;if(a!=s){var f=u[l];(c=n?n(f,l,u):i)===i&&(c=ds(f)?f:Fo(t[a+1])?[]:{})}yn(u,l,c),u=u[l]}return e}var ha=Jr?function(e,t){return Jr.set(e,t),e}:mu,ga=Ar?function(e,t){return Ar(e,"toString",{configurable:!0,enumerable:!1,value:du(t),writable:!0})}:mu;function ma(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=n(o);++a<o;)i[a]=e[a+t];return i}function va(e,t){var r;return Tn(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}function ya(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=N){for(;n<a;){var o=n+a>>>1,i=e[o];null!==i&&!ws(i)&&(r?i<=t:i<t)?n=o+1:a=o}return a}return ba(e,t,mu,r)}function ba(e,t,r,n){t=r(t);for(var a=0,o=null==e?0:e.length,s=t!=t,u=null===t,l=ws(t),c=t===i;a<o;){var f=jr((a+o)/2),p=r(e[f]),d=p!==i,h=null===p,g=p==p,m=ws(p);if(s)var v=n||g;else v=c?g&&(n||d):u?g&&d&&(n||!h):l?g&&d&&!h&&(n||!m):!h&&!m&&(n?p<=t:p<t);v?a=f+1:o=f}return Rr(o,$)}function _a(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r],s=t?t(i):i;if(!r||!Qi(s,u)){var u=s;o[a++]=0===i?0:i}}return o}function wa(e){return"number"==typeof e?e:ws(e)?P:+e}function xa(e){if("string"==typeof e)return e;if(ns(e))return Bt(e,xa)+"";if(ws(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-C?"-0":t}function ka(e,t,r){var n=-1,a=qt,o=e.length,i=!0,u=[],l=u;if(r)i=!1,a=Wt;else if(o>=s){var c=t?null:uo(e);if(c)return br(c);i=!1,a=lr,l=new dn}else l=t?[]:u;e:for(;++n<o;){var f=e[n],p=t?t(f):f;if(f=r||0!==f?f:0,i&&p==p){for(var d=l.length;d--;)if(l[d]===p)continue e;t&&l.push(p),u.push(f)}else a(l,p,r)||(l!==u&&l.push(p),u.push(f))}return u}function Sa(e,t){return null==(e=zo(e,t=Fa(t,e)))||delete e[Yo(li(t))]}function Aa(e,t,r,n){return da(e,t,r(Un(e,t)),n)}function Oa(e,t,r,n){for(var a=e.length,o=n?a:-1;(n?o--:++o<a)&&t(e[o],o,e););return r?ma(e,n?0:o,n?o+1:a):ma(e,n?o+1:0,n?a:o)}function Ea(e,t){var r=e;return r instanceof ln&&(r=r.value()),Vt(t,function(e,t){return t.func.apply(t.thisArg,Ht([e],t.args))},r)}function Ca(e,t,r){var a=e.length;if(a<2)return a?ka(e[0]):[];for(var o=-1,i=n(a);++o<a;)for(var s=e[o],u=-1;++u<a;)u!=o&&(i[o]=Cn(i[o]||s,e[u],t,r));return ka(Nn(i,1),t,r)}function Ta(e,t,r){for(var n=-1,a=e.length,o=t.length,s={};++n<a;){var u=n<o?t[n]:i;r(s,e[n],u)}return s}function ja(e){return is(e)?e:[]}function Pa(e){return"function"==typeof e?e:mu}function Fa(e,t){return ns(e)?e:No(e,t)?[e]:Xo(Ps(e))}var $a=pa;function Na(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ma(e,t,r)}var Da=Or||function(e){return At.clearTimeout(e)};function La(e,t){if(t)return e.slice();var r=e.length,n=St?St(r):new e.constructor(r);return e.copy(n),n}function Ra(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function Ia(e,t){var r=t?Ra(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ma(e,t){if(e!==t){var r=e!==i,n=null===e,a=e==e,o=ws(e),s=t!==i,u=null===t,l=t==t,c=ws(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||u&&r&&a||!s&&a||!l)return-1}return 0}function Ua(e,t,r,a){for(var o=-1,i=e.length,s=r.length,u=-1,l=t.length,c=Lr(i-s,0),f=n(l+c),p=!a;++u<l;)f[u]=t[u];for(;++o<s;)(p||o<i)&&(f[r[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function za(e,t,r,a){for(var o=-1,i=e.length,s=-1,u=r.length,l=-1,c=t.length,f=Lr(i-u,0),p=n(f+c),d=!a;++o<f;)p[o]=e[o];for(var h=o;++l<c;)p[h+l]=t[l];for(;++s<u;)(d||o<i)&&(p[h+r[s]]=e[o++]);return p}function qa(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Wa(e,t,r,n){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=n?n(r[u],e[u],u,r,e):i;l===i&&(l=e[u]),a?xn(r,u,l):yn(r,u,l)}return r}function Ba(e,t){return function(r,n){var a=ns(r)?It:_n,o=t?t():{};return a(r,e,xo(n,2),o)}}function Ha(e){return pa(function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:i,s=a>2?r[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&$o(r[0],r[1],s)&&(o=a<3?i:o,a=1),t=Xe(t);++n<a;){var u=r[n];u&&e(t,u,n,o)}return t})}function Va(e,t){return function(r,n){if(null==r)return r;if(!os(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Xe(r);(t?o--:++o<a)&&!1!==n(i[o],o,i););return r}}function Ga(e){return function(t,r,n){for(var a=-1,o=Xe(t),i=n(t),s=i.length;s--;){var u=i[e?s:++a];if(!1===r(o[u],u,o))break}return t}}function Ja(e){return function(t){var r=gr(t=Ps(t))?wr(t):i,n=r?r[0]:t.charAt(0),a=r?Na(r,1).join(""):t.slice(1);return n[e]()+a}}function Xa(e){return function(t){return Vt(cu(ru(t).replace(ct,"")),e,"")}}function Ya(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=on(e.prototype),n=e.apply(r,t);return ds(n)?n:r}}function Ka(e){return function(t,r,n){var a=Xe(t);if(!os(t)){var o=xo(r,3);t=Bs(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,n);return s>-1?a[o?t[s]:s]:i}}function Za(e){return mo(function(t){var r=t.length,n=r,a=un.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new Ze(u);if(a&&!s&&"wrapper"==_o(o))var s=new un([],!0)}for(n=s?n:r;++n<r;){var l=_o(o=t[n]),c="wrapper"==l?bo(o):i;s=c&&Do(c[0])&&c[1]==(k|b|w|S)&&!c[4].length&&1==c[9]?s[_o(c[0])].apply(s,c[3]):1==o.length&&Do(o)?s[l]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&ns(n))return s.plant(n).value();for(var a=0,o=r?t[a].apply(this,e):n;++a<r;)o=t[a].call(this,o);return o}})}function Qa(e,t,r,a,o,s,u,l,c,f){var p=t&k,d=t&m,h=t&v,g=t&(b|_),y=t&A,w=h?i:Ya(e);return function m(){for(var v=arguments.length,b=n(v),_=v;_--;)b[_]=arguments[_];if(g)var x=wo(m),k=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(b,x);if(a&&(b=Ua(b,a,o,g)),s&&(b=za(b,s,u,g)),v-=k,g&&v<f){var S=yr(b,x);return io(e,t,Qa,m.placeholder,r,b,S,l,c,f-v)}var A=d?r:this,O=h?A[e]:e;return v=b.length,l?b=function(e,t){for(var r=e.length,n=Rr(t.length,r),a=qa(e);n--;){var o=t[n];e[n]=Fo(o,r)?a[o]:i}return e}(b,l):y&&v>1&&b.reverse(),p&&c<v&&(b.length=c),this&&this!==At&&this instanceof m&&(O=w||Ya(O)),O.apply(A,b)}}function eo(e,t){return function(r,n){return function(e,t,r,n){return Rn(e,function(e,a,o){t(n,r(e),a,o)}),n}(r,e,t(n),{})}}function to(e,t){return function(r,n){var a;if(r===i&&n===i)return t;if(r!==i&&(a=r),n!==i){if(a===i)return n;"string"==typeof r||"string"==typeof n?(r=xa(r),n=xa(n)):(r=wa(r),n=wa(n)),a=e(r,n)}return a}}function ro(e){return mo(function(t){return t=Bt(t,sr(xo())),pa(function(r){var n=this;return e(t,function(e){return Rt(e,n,r)})})})}function no(e,t){var r=(t=t===i?" ":xa(t)).length;if(r<2)return r?fa(t,e):t;var n=fa(t,Tr(e/_r(t)));return gr(t)?Na(wr(n),0,e).join(""):n.slice(0,e)}function ao(e){return function(t,r,a){return a&&"number"!=typeof a&&$o(t,r,a)&&(r=a=i),t=Os(t),r===i?(r=t,t=0):r=Os(r),function(e,t,r,a){for(var o=-1,i=Lr(Tr((t-e)/(r||1)),0),s=n(i);i--;)s[a?i:++o]=e,e+=r;return s}(t,r,a=a===i?t<r?1:-1:Os(a),e)}}function oo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Ts(t),r=Ts(r)),e(t,r)}}function io(e,t,r,n,a,o,s,u,l,c){var f=t&b;t|=f?w:x,(t&=~(f?x:w))&y||(t&=~(m|v));var p=[e,t,a,f?o:i,f?s:i,f?i:o,f?i:s,u,l,c],d=r.apply(i,p);return Do(e)&&Wo(d,p),d.placeholder=n,Vo(d,e,t)}function so(e){var t=Je[e];return function(e,r){if(e=Ts(e),r=null==r?0:Rr(Es(r),292)){var n=(Ps(e)+"e").split("e");return+((n=(Ps(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var uo=Hr&&1/br(new Hr([,-0]))[1]==C?function(e){return new Hr(e)}:wu;function lo(e){return function(t){var r=Co(t);return r==H?mr(t):r==K?function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}(t):function(e,t){return Bt(t,function(t){return[t,e[t]]})}(t,e(t))}}function co(e,t,r,a,o,s,l,f){var p=t&v;if(!p&&"function"!=typeof e)throw new Ze(u);var d=a?a.length:0;if(d||(t&=~(w|x),a=o=i),l=l===i?l:Lr(Es(l),0),f=f===i?f:Es(f),d-=o?o.length:0,t&x){var h=a,g=o;a=o=i}var A=p?i:bo(e),O=[e,t,r,a,o,h,g,s,l,f];if(A&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<(m|v|k),i=n==k&&r==b||n==k&&r==S&&e[7].length<=t[8]||n==(k|S)&&t[7].length<=t[8]&&r==b;if(!o&&!i)return e;n&m&&(e[2]=t[2],a|=r&m?0:y);var s=t[3];if(s){var u=e[3];e[3]=u?Ua(u,s,t[4]):s,e[4]=u?yr(e[3],c):t[4]}(s=t[5])&&(u=e[5],e[5]=u?za(u,s,t[6]):s,e[6]=u?yr(e[5],c):t[6]),(s=t[7])&&(e[7]=s),n&k&&(e[8]=null==e[8]?t[8]:Rr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(O,A),e=O[0],t=O[1],r=O[2],a=O[3],o=O[4],!(f=O[9]=O[9]===i?p?0:e.length:Lr(O[9]-d,0))&&t&(b|_)&&(t&=~(b|_)),t&&t!=m)E=t==b||t==_?function(e,t,r){var a=Ya(e);return function o(){for(var s=arguments.length,u=n(s),l=s,c=wo(o);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:yr(u,c);return(s-=f.length)<r?io(e,t,Qa,o.placeholder,i,u,f,i,i,r-s):Rt(this&&this!==At&&this instanceof o?a:e,this,u)}}(e,t,f):t!=w&&t!=(m|w)||o.length?Qa.apply(i,O):function(e,t,r,a){var o=t&m,i=Ya(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=a.length,f=n(c+u),p=this&&this!==At&&this instanceof t?i:e;++l<c;)f[l]=a[l];for(;u--;)f[l++]=arguments[++s];return Rt(p,o?r:this,f)}}(e,t,r,a);else var E=function(e,t,r){var n=t&m,a=Ya(e);return function t(){return(this&&this!==At&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,r);return Vo((A?ha:Wo)(E,O),e,t)}function fo(e,t,r,n){return e===i||Qi(e,tt[r])&&!at.call(n,r)?t:e}function po(e,t,r,n,a,o){return ds(e)&&ds(t)&&(o.set(t,e),aa(e,t,i,po,o),o.delete(t)),e}function ho(e){return vs(e)?i:e}function go(e,t,r,n,a,o){var s=r&h,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var f=-1,p=!0,d=r&g?new dn:i;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],v=t[f];if(n)var y=s?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(y!==i){if(y)continue;p=!1;break}if(d){if(!Jt(t,function(e,t){if(!lr(d,t)&&(m===e||a(m,e,r,n,o)))return d.push(t)})){p=!1;break}}else if(m!==v&&!a(m,v,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function mo(e){return Ho(Uo(e,i,ai),e+"")}function vo(e){return zn(e,Bs,Oo)}function yo(e){return zn(e,Hs,Eo)}var bo=Jr?function(e){return Jr.get(e)}:wu;function _o(e){for(var t=e.name+"",r=Xr[t],n=at.call(Xr,t)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==e)return a.name}return t}function wo(e){return(at.call(an,"placeholder")?an:e).placeholder}function xo(){var e=an.iteratee||vu;return e=e===vu?Zn:e,arguments.length?e(arguments[0],arguments[1]):e}function ko(e,t){var r,n,a=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":o(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function So(e){for(var t=Bs(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Io(a)]}return t}function Ao(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Kn(r)?r:i}var Oo=Pr?function(e){return null==e?[]:(e=Xe(e),zt(Pr(e),function(t){return Tt.call(e,t)}))}:Cu,Eo=Pr?function(e){for(var t=[];e;)Ht(t,Oo(e)),e=Ot(e);return t}:Cu,Co=qn;function To(e,t,r){for(var n=-1,a=(t=Fa(t,e)).length,o=!1;++n<a;){var i=Yo(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&ps(a)&&Fo(i,a)&&(ns(e)||rs(e))}function jo(e){return"function"!=typeof e.constructor||Ro(e)?{}:on(Ot(e))}function Po(e){return ns(e)||rs(e)||!!(Xt&&e&&e[Xt])}function Fo(e,t){var r=void 0===e?"undefined":o(e);return!!(t=null==t?T:t)&&("number"==r||"symbol"!=r&&qe.test(e))&&e>-1&&e%1==0&&e<t}function $o(e,t,r){if(!ds(r))return!1;var n=void 0===t?"undefined":o(t);return!!("number"==n?os(r)&&Fo(t,r.length):"string"==n&&t in r)&&Qi(r[t],e)}function No(e,t){if(ns(e))return!1;var r=void 0===e?"undefined":o(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ws(e))||Se.test(e)||!ke.test(e)||null!=t&&e in Xe(t)}function Do(e){var t=_o(e),r=an[t];if("function"!=typeof r||!(t in ln.prototype))return!1;if(e===r)return!0;var n=bo(r);return!!n&&e===n[0]}(qr&&Co(new qr(new ArrayBuffer(1)))!=ne||Wr&&Co(new Wr)!=H||Br&&"[object Promise]"!=Co(Br.resolve())||Hr&&Co(new Hr)!=K||Vr&&Co(new Vr)!=te)&&(Co=function(e){var t=qn(e),r=t==J?e.constructor:i,n=r?Ko(r):"";if(n)switch(n){case Yr:return ne;case Kr:return H;case Zr:return"[object Promise]";case Qr:return K;case en:return te}return t});var Lo=rt?cs:Tu;function Ro(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||tt)}function Io(e){return e==e&&!ds(e)}function Mo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Xe(r))}}function Uo(e,t,r){return t=Lr(t===i?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=Lr(a.length-t,0),s=n(i);++o<i;)s[o]=a[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=a[o];return u[t]=r(s),Rt(e,this,u)}}function zo(e,t){return t.length<2?e:Un(e,ma(t,0,-1))}function qo(e,t){if("__proto__"!=t)return e[t]}var Wo=Go(ha),Bo=Cr||function(e,t){return At.setTimeout(e,t)},Ho=Go(ga);function Vo(e,t,r){var n=t+"";return Ho(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Pe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Mt(D,function(r){var n="_."+r[0];t&r[1]&&!qt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=n.match(Fe);return t?t[1].split($e):[]}(),r)))}function Go(e){var t=0,r=0;return function(){var n=Ir(),a=E-(n-r);if(r=n,a>0){if(++t>=O)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Jo(e,t){var r=-1,n=e.length,a=n-1;for(t=t===i?n:t;++r<t;){var o=ca(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var Xo=function(e){var t=Gi(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,function(e,r,n,a){t.push(n?a.replace(De,"$1"):r||e)}),t},function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}();function Yo(e){if("string"==typeof e||ws(e))return e;var t=e+"";return"0"==t&&1/e==-C?"-0":t}function Ko(e){if(null!=e){try{return nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Zo(e){if(e instanceof ln)return e.clone();var t=new un(e.__wrapped__,e.__chain__);return t.__actions__=qa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Qo=pa(function(e,t){return is(e)?Cn(e,Nn(t,1,is,!0)):[]}),ei=pa(function(e,t){var r=li(t);return is(r)&&(r=i),is(e)?Cn(e,Nn(t,1,is,!0),xo(r,2)):[]}),ti=pa(function(e,t){var r=li(t);return is(r)&&(r=i),is(e)?Cn(e,Nn(t,1,is,!0),i,r):[]});function ri(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Es(r);return a<0&&(a=Lr(n+a,0)),Kt(e,xo(t,3),a)}function ni(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==i&&(a=Es(r),a=r<0?Lr(n+a,0):Rr(a,n-1)),Kt(e,xo(t,3),a,!0)}function ai(e){return null!=e&&e.length?Nn(e,1):[]}function oi(e){return e&&e.length?e[0]:i}var ii=pa(function(e){var t=Bt(e,ja);return t.length&&t[0]===e[0]?Vn(t):[]}),si=pa(function(e){var t=li(e),r=Bt(e,ja);return t===li(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Vn(r,xo(t,2)):[]}),ui=pa(function(e){var t=li(e),r=Bt(e,ja);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Vn(r,i,t):[]});function li(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ci=pa(fi);function fi(e,t){return e&&e.length&&t&&t.length?ua(e,t):e}var pi=mo(function(e,t){var r=null==e?0:e.length,n=kn(e,t);return la(e,Bt(t,function(e){return Fo(e,r)?+e:e}).sort(Ma)),n});function di(e){return null==e?e:zr.call(e)}var hi=pa(function(e){return ka(Nn(e,1,is,!0))}),gi=pa(function(e){var t=li(e);return is(t)&&(t=i),ka(Nn(e,1,is,!0),xo(t,2))}),mi=pa(function(e){var t=li(e);return t="function"==typeof t?t:i,ka(Nn(e,1,is,!0),i,t)});function vi(e){if(!e||!e.length)return[];var t=0;return e=zt(e,function(e){if(is(e))return t=Lr(e.length,t),!0}),ir(t,function(t){return Bt(e,rr(t))})}function yi(e,t){if(!e||!e.length)return[];var r=vi(e);return null==t?r:Bt(r,function(e){return Rt(t,i,e)})}var bi=pa(function(e,t){return is(e)?Cn(e,t):[]}),_i=pa(function(e){return Ca(zt(e,is))}),wi=pa(function(e){var t=li(e);return is(t)&&(t=i),Ca(zt(e,is),xo(t,2))}),xi=pa(function(e){var t=li(e);return t="function"==typeof t?t:i,Ca(zt(e,is),i,t)}),ki=pa(vi),Si=pa(function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,yi(e,r)});function Ai(e){var t=an(e);return t.__chain__=!0,t}function Oi(e,t){return t(e)}var Ei=mo(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,a=function(t){return kn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof ln&&Fo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:Oi,args:[a],thisArg:i}),new un(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(a)}),Ci=Ba(function(e,t,r){at.call(e,r)?++e[r]:xn(e,r,1)}),Ti=Ka(ri),ji=Ka(ni);function Pi(e,t){return(ns(e)?Mt:Tn)(e,xo(t,3))}function Fi(e,t){return(ns(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:jn)(e,xo(t,3))}var $i=Ba(function(e,t,r){at.call(e,r)?e[r].push(t):xn(e,r,[t])}),Ni=pa(function(e,t,r){var a=-1,o="function"==typeof t,i=os(e)?n(e.length):[];return Tn(e,function(e){i[++a]=o?Rt(t,e,r):Gn(e,t,r)}),i}),Di=Ba(function(e,t,r){xn(e,r,t)});function Li(e,t){return(ns(e)?Bt:ta)(e,xo(t,3))}var Ri=Ba(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),Ii=pa(function(e,t){if(null==e)return[];var r=t.length;return r>1&&$o(e,t[0],t[1])?t=[]:r>2&&$o(t[0],t[1],t[2])&&(t=[t[0]]),ia(e,Nn(t,1),[])}),Mi=Er||function(){return At.Date.now()};function Ui(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,co(e,k,i,i,i,i,t)}function zi(e,t){var r;if("function"!=typeof t)throw new Ze(u);return e=Es(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var qi=pa(function(e,t,r){var n=m;if(r.length){var a=yr(r,wo(qi));n|=w}return co(e,n,t,r,a)}),Wi=pa(function(e,t,r){var n=m|v;if(r.length){var a=yr(r,wo(Wi));n|=w}return co(t,n,e,r,a)});function Bi(e,t,r){var n,a,o,s,l,c,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new Ze(u);function g(t){var r=n,o=a;return n=a=i,f=t,s=e.apply(o,r)}function m(e){var r=e-c;return c===i||r>=t||r<0||d&&e-f>=o}function v(){var e=Mi();if(m(e))return y(e);l=Bo(v,function(e){var r=t-(e-c);return d?Rr(r,o-(e-f)):r}(e))}function y(e){return l=i,h&&n?g(e):(n=a=i,s)}function b(){var e=Mi(),r=m(e);if(n=arguments,a=this,c=e,r){if(l===i)return function(e){return f=e,l=Bo(v,t),p?g(e):s}(c);if(d)return l=Bo(v,t),g(c)}return l===i&&(l=Bo(v,t)),s}return t=Ts(t)||0,ds(r)&&(p=!!r.leading,o=(d="maxWait"in r)?Lr(Ts(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),b.cancel=function(){l!==i&&Da(l),f=0,n=c=a=l=i},b.flush=function(){return l===i?s:y(Mi())},b}var Hi=pa(function(e,t){return En(e,1,t)}),Vi=pa(function(e,t,r){return En(e,Ts(t)||0,r)});function Gi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ze(u);var r=function r(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Gi.Cache||pn),r}function Ji(e){if("function"!=typeof e)throw new Ze(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Gi.Cache=pn;var Xi=$a(function(e,t){var r=(t=1==t.length&&ns(t[0])?Bt(t[0],sr(xo())):Bt(Nn(t,1),sr(xo()))).length;return pa(function(n){for(var a=-1,o=Rr(n.length,r);++a<o;)n[a]=t[a].call(this,n[a]);return Rt(e,this,n)})}),Yi=pa(function(e,t){var r=yr(t,wo(Yi));return co(e,w,i,t,r)}),Ki=pa(function(e,t){var r=yr(t,wo(Ki));return co(e,x,i,t,r)}),Zi=mo(function(e,t){return co(e,S,i,i,i,t)});function Qi(e,t){return e===t||e!=e&&t!=t}var es=oo(Wn),ts=oo(function(e,t){return e>=t}),rs=Jn(function(){return arguments}())?Jn:function(e){return hs(e)&&at.call(e,"callee")&&!Tt.call(e,"callee")},ns=n.isArray,as=Pt?sr(Pt):function(e){return hs(e)&&qn(e)==re};function os(e){return null!=e&&ps(e.length)&&!cs(e)}function is(e){return hs(e)&&os(e)}var ss=Fr||Tu,us=Ft?sr(Ft):function(e){return hs(e)&&qn(e)==U};function ls(e){if(!hs(e))return!1;var t=qn(e);return t==q||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!vs(e)}function cs(e){if(!ds(e))return!1;var t=qn(e);return t==W||t==B||t==I||t==X}function fs(e){return"number"==typeof e&&e==Es(e)}function ps(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function ds(e){var t=void 0===e?"undefined":o(e);return null!=e&&("object"==t||"function"==t)}function hs(e){return null!=e&&"object"==(void 0===e?"undefined":o(e))}var gs=$t?sr($t):function(e){return hs(e)&&Co(e)==H};function ms(e){return"number"==typeof e||hs(e)&&qn(e)==V}function vs(e){if(!hs(e)||qn(e)!=J)return!1;var t=Ot(e);if(null===t)return!0;var r=at.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&nt.call(r)==ut}var ys=Nt?sr(Nt):function(e){return hs(e)&&qn(e)==Y},bs=Dt?sr(Dt):function(e){return hs(e)&&Co(e)==K};function _s(e){return"string"==typeof e||!ns(e)&&hs(e)&&qn(e)==Z}function ws(e){return"symbol"==(void 0===e?"undefined":o(e))||hs(e)&&qn(e)==Q}var xs=Lt?sr(Lt):function(e){return hs(e)&&ps(e.length)&&!!yt[qn(e)]},ks=oo(ea),Ss=oo(function(e,t){return e<=t});function As(e){if(!e)return[];if(os(e))return _s(e)?wr(e):qa(e);if(nr&&e[nr])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[nr]());var t=Co(e);return(t==H?mr:t==K?br:Qs)(e)}function Os(e){return e?(e=Ts(e))===C||e===-C?(e<0?-1:1)*j:e==e?e:0:0===e?e:0}function Es(e){var t=Os(e),r=t%1;return t==t?r?t-r:t:0}function Cs(e){return e?Sn(Es(e),0,F):0}function Ts(e){if("number"==typeof e)return e;if(ws(e))return P;if(ds(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ds(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ce,"");var r=Me.test(e);return r||ze.test(e)?xt(e.slice(2),r?2:8):Ie.test(e)?P:+e}function js(e){return Wa(e,Hs(e))}function Ps(e){return null==e?"":xa(e)}var Fs=Ha(function(e,t){if(Ro(t)||os(t))Wa(t,Bs(t),e);else for(var r in t)at.call(t,r)&&yn(e,r,t[r])}),$s=Ha(function(e,t){Wa(t,Hs(t),e)}),Ns=Ha(function(e,t,r,n){Wa(t,Hs(t),e,n)}),Ds=Ha(function(e,t,r,n){Wa(t,Bs(t),e,n)}),Ls=mo(kn),Rs=pa(function(e,t){e=Xe(e);var r=-1,n=t.length,a=n>2?t[2]:i;for(a&&$o(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],s=Hs(o),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Qi(f,tt[c])&&!at.call(e,c))&&(e[c]=o[c])}return e}),Is=pa(function(e){return e.push(i,po),Rt(Gs,i,e)});function Ms(e,t,r){var n=null==e?i:Un(e,t);return n===i?r:n}function Us(e,t){return null!=e&&To(e,t,Hn)}var zs=eo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=st.call(t)),e[t]=r},du(mu)),qs=eo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=st.call(t)),at.call(e,t)?e[t].push(r):e[t]=[r]},xo),Ws=pa(Gn);function Bs(e){return os(e)?gn(e):Qn(e)}function Hs(e){return os(e)?gn(e,!0):function(e){if(!ds(e))return function(e){var t=[];if(null!=e)for(var r in Xe(e))t.push(r);return t}(e);var t=Ro(e),r=[];for(var n in e)("constructor"!=n||!t&&at.call(e,n))&&r.push(n);return r}(e)}var Vs=Ha(function(e,t,r){aa(e,t,r)}),Gs=Ha(function(e,t,r,n){aa(e,t,r,n)}),Js=mo(function(e,t){var r={};if(null==e)return r;var n=!1;t=Bt(t,function(t){return t=Fa(t,e),n||(n=t.length>1),t}),Wa(e,yo(e),r),n&&(r=An(r,f|p|d,ho));for(var a=t.length;a--;)Sa(r,t[a]);return r}),Xs=mo(function(e,t){return null==e?{}:function(e,t){return sa(e,t,function(t,r){return Us(e,r)})}(e,t)});function Ys(e,t){if(null==e)return{};var r=Bt(yo(e),function(e){return[e]});return t=xo(t),sa(e,r,function(e,r){return t(e,r[0])})}var Ks=lo(Bs),Zs=lo(Hs);function Qs(e){return null==e?[]:ur(e,Bs(e))}var eu=Xa(function(e,t,r){return t=t.toLowerCase(),e+(r?tu(t):t)});function tu(e){return lu(Ps(e).toLowerCase())}function ru(e){return(e=Ps(e))&&e.replace(We,pr).replace(ft,"")}var nu=Xa(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),au=Xa(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),ou=Ja("toLowerCase"),iu=Xa(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),su=Xa(function(e,t,r){return e+(r?" ":"")+lu(t)}),uu=Xa(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),lu=Ja("toUpperCase");function cu(e,t,r){return e=Ps(e),(t=r?i:t)===i?function(e){return gt.test(e)}(e)?function(e){return e.match(dt)||[]}(e):function(e){return e.match(Ne)||[]}(e):e.match(t)||[]}var fu=pa(function(e,t){try{return Rt(e,i,t)}catch(e){return ls(e)?e:new Ve(e)}}),pu=mo(function(e,t){return Mt(t,function(t){t=Yo(t),xn(e,t,qi(e[t],e))}),e});function du(e){return function(){return e}}var hu=Za(),gu=Za(!0);function mu(e){return e}function vu(e){return Zn("function"==typeof e?e:An(e,f))}var yu=pa(function(e,t){return function(r){return Gn(r,e,t)}}),bu=pa(function(e,t){return function(r){return Gn(e,r,t)}});function _u(e,t,r){var n=Bs(t),a=Mn(t,n);null!=r||ds(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=Mn(t,Bs(t)));var o=!(ds(r)&&"chain"in r&&!r.chain),i=cs(e);return Mt(a,function(r){var n=t[r];e[r]=n,i&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=qa(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Ht([this.value()],arguments))})}),e}function wu(){}var xu=ro(Bt),ku=ro(Ut),Su=ro(Jt);function Au(e){return No(e)?rr(Yo(e)):function(e){return function(t){return Un(t,e)}}(e)}var Ou=ao(),Eu=ao(!0);function Cu(){return[]}function Tu(){return!1}var ju,Pu=to(function(e,t){return e+t},0),Fu=so("ceil"),$u=to(function(e,t){return e/t},1),Nu=so("floor"),Du=to(function(e,t){return e*t},1),Lu=so("round"),Ru=to(function(e,t){return e-t},0);return an.after=function(e,t){if("function"!=typeof t)throw new Ze(u);return e=Es(e),function(){if(--e<1)return t.apply(this,arguments)}},an.ary=Ui,an.assign=Fs,an.assignIn=$s,an.assignInWith=Ns,an.assignWith=Ds,an.at=Ls,an.before=zi,an.bind=qi,an.bindAll=pu,an.bindKey=Wi,an.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ns(e)?e:[e]},an.chain=Ai,an.chunk=function(e,t,r){t=(r?$o(e,t,r):t===i)?1:Lr(Es(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=n(Tr(a/t));o<a;)u[s++]=ma(e,o,o+=t);return u},an.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a},an.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Ht(ns(r)?qa(r):[r],Nn(t,1))},an.cond=function(e){var t=null==e?0:e.length,r=xo();return e=t?Bt(e,function(e){if("function"!=typeof e[1])throw new Ze(u);return[r(e[0]),e[1]]}):[],pa(function(r){for(var n=-1;++n<t;){var a=e[n];if(Rt(a[0],this,r))return Rt(a[1],this,r)}})},an.conforms=function(e){return function(e){var t=Bs(e);return function(r){return On(r,e,t)}}(An(e,f))},an.constant=du,an.countBy=Ci,an.create=function(e,t){var r=on(e);return null==t?r:wn(r,t)},an.curry=function e(t,r,n){var a=co(t,b,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},an.curryRight=function e(t,r,n){var a=co(t,_,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},an.debounce=Bi,an.defaults=Rs,an.defaultsDeep=Is,an.defer=Hi,an.delay=Vi,an.difference=Qo,an.differenceBy=ei,an.differenceWith=ti,an.drop=function(e,t,r){var n=null==e?0:e.length;return n?ma(e,(t=r||t===i?1:Es(t))<0?0:t,n):[]},an.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ma(e,0,(t=n-(t=r||t===i?1:Es(t)))<0?0:t):[]},an.dropRightWhile=function(e,t){return e&&e.length?Oa(e,xo(t,3),!0,!0):[]},an.dropWhile=function(e,t){return e&&e.length?Oa(e,xo(t,3),!0):[]},an.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&$o(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=Es(r))<0&&(r=-r>a?0:a+r),(n=n===i||n>a?a:Es(n))<0&&(n+=a),n=r>n?0:Cs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},an.filter=function(e,t){return(ns(e)?zt:$n)(e,xo(t,3))},an.flatMap=function(e,t){return Nn(Li(e,t),1)},an.flatMapDeep=function(e,t){return Nn(Li(e,t),C)},an.flatMapDepth=function(e,t,r){return r=r===i?1:Es(r),Nn(Li(e,t),r)},an.flatten=ai,an.flattenDeep=function(e){return null!=e&&e.length?Nn(e,C):[]},an.flattenDepth=function(e,t){return null!=e&&e.length?Nn(e,t=t===i?1:Es(t)):[]},an.flip=function(e){return co(e,A)},an.flow=hu,an.flowRight=gu,an.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},an.functions=function(e){return null==e?[]:Mn(e,Bs(e))},an.functionsIn=function(e){return null==e?[]:Mn(e,Hs(e))},an.groupBy=$i,an.initial=function(e){return null!=e&&e.length?ma(e,0,-1):[]},an.intersection=ii,an.intersectionBy=si,an.intersectionWith=ui,an.invert=zs,an.invertBy=qs,an.invokeMap=Ni,an.iteratee=vu,an.keyBy=Di,an.keys=Bs,an.keysIn=Hs,an.map=Li,an.mapKeys=function(e,t){var r={};return t=xo(t,3),Rn(e,function(e,n,a){xn(r,t(e,n,a),e)}),r},an.mapValues=function(e,t){var r={};return t=xo(t,3),Rn(e,function(e,n,a){xn(r,n,t(e,n,a))}),r},an.matches=function(e){return ra(An(e,f))},an.matchesProperty=function(e,t){return na(e,An(t,f))},an.memoize=Gi,an.merge=Vs,an.mergeWith=Gs,an.method=yu,an.methodOf=bu,an.mixin=_u,an.negate=Ji,an.nthArg=function(e){return e=Es(e),pa(function(t){return oa(t,e)})},an.omit=Js,an.omitBy=function(e,t){return Ys(e,Ji(xo(t)))},an.once=function(e){return zi(2,e)},an.orderBy=function(e,t,r,n){return null==e?[]:(ns(t)||(t=null==t?[]:[t]),ns(r=n?i:r)||(r=null==r?[]:[r]),ia(e,t,r))},an.over=xu,an.overArgs=Xi,an.overEvery=ku,an.overSome=Su,an.partial=Yi,an.partialRight=Ki,an.partition=Ri,an.pick=Xs,an.pickBy=Ys,an.property=Au,an.propertyOf=function(e){return function(t){return null==e?i:Un(e,t)}},an.pull=ci,an.pullAll=fi,an.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?ua(e,t,xo(r,2)):e},an.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?ua(e,t,i,r):e},an.pullAt=pi,an.range=Ou,an.rangeRight=Eu,an.rearg=Zi,an.reject=function(e,t){return(ns(e)?zt:$n)(e,Ji(xo(t,3)))},an.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],o=e.length;for(t=xo(t,3);++n<o;){var i=e[n];t(i,n,e)&&(r.push(i),a.push(n))}return la(e,a),r},an.rest=function(e,t){if("function"!=typeof e)throw new Ze(u);return pa(e,t=t===i?t:Es(t))},an.reverse=di,an.sampleSize=function(e,t,r){return t=(r?$o(e,t,r):t===i)?1:Es(t),(ns(e)?function(e,t){return Jo(qa(e),Sn(t,0,e.length))}:function(e,t){var r=Qs(e);return Jo(r,Sn(t,0,r.length))})(e,t)},an.set=function(e,t,r){return null==e?e:da(e,t,r)},an.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:da(e,t,r,n)},an.shuffle=function(e){return(ns(e)?function(e){return Jo(qa(e))}:function(e){return Jo(Qs(e))})(e)},an.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&$o(e,t,r)?(t=0,r=n):(t=null==t?0:Es(t),r=r===i?n:Es(r)),ma(e,t,r)):[]},an.sortBy=Ii,an.sortedUniq=function(e){return e&&e.length?_a(e):[]},an.sortedUniqBy=function(e,t){return e&&e.length?_a(e,xo(t,2)):[]},an.split=function(e,t,r){return r&&"number"!=typeof r&&$o(e,t,r)&&(t=r=i),(r=r===i?F:r>>>0)?(e=Ps(e))&&("string"==typeof t||null!=t&&!ys(t))&&!(t=xa(t))&&gr(e)?Na(wr(e),0,r):e.split(t,r):[]},an.spread=function(e,t){if("function"!=typeof e)throw new Ze(u);return t=null==t?0:Lr(Es(t),0),pa(function(r){var n=r[t],a=Na(r,0,t);return n&&Ht(a,n),Rt(e,this,a)})},an.tail=function(e){var t=null==e?0:e.length;return t?ma(e,1,t):[]},an.take=function(e,t,r){return e&&e.length?ma(e,0,(t=r||t===i?1:Es(t))<0?0:t):[]},an.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ma(e,(t=n-(t=r||t===i?1:Es(t)))<0?0:t,n):[]},an.takeRightWhile=function(e,t){return e&&e.length?Oa(e,xo(t,3),!1,!0):[]},an.takeWhile=function(e,t){return e&&e.length?Oa(e,xo(t,3)):[]},an.tap=function(e,t){return t(e),e},an.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new Ze(u);return ds(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Bi(e,t,{leading:n,maxWait:t,trailing:a})},an.thru=Oi,an.toArray=As,an.toPairs=Ks,an.toPairsIn=Zs,an.toPath=function(e){return ns(e)?Bt(e,Yo):ws(e)?[e]:qa(Xo(Ps(e)))},an.toPlainObject=js,an.transform=function(e,t,r){var n=ns(e),a=n||ss(e)||xs(e);if(t=xo(t,4),null==r){var o=e&&e.constructor;r=a?n?new o:[]:ds(e)&&cs(o)?on(Ot(e)):{}}return(a?Mt:Rn)(e,function(e,n,a){return t(r,e,n,a)}),r},an.unary=function(e){return Ui(e,1)},an.union=hi,an.unionBy=gi,an.unionWith=mi,an.uniq=function(e){return e&&e.length?ka(e):[]},an.uniqBy=function(e,t){return e&&e.length?ka(e,xo(t,2)):[]},an.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ka(e,i,t):[]},an.unset=function(e,t){return null==e||Sa(e,t)},an.unzip=vi,an.unzipWith=yi,an.update=function(e,t,r){return null==e?e:Aa(e,t,Pa(r))},an.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Aa(e,t,Pa(r),n)},an.values=Qs,an.valuesIn=function(e){return null==e?[]:ur(e,Hs(e))},an.without=bi,an.words=cu,an.wrap=function(e,t){return Yi(Pa(t),e)},an.xor=_i,an.xorBy=wi,an.xorWith=xi,an.zip=ki,an.zipObject=function(e,t){return Ta(e||[],t||[],yn)},an.zipObjectDeep=function(e,t){return Ta(e||[],t||[],da)},an.zipWith=Si,an.entries=Ks,an.entriesIn=Zs,an.extend=$s,an.extendWith=Ns,_u(an,an),an.add=Pu,an.attempt=fu,an.camelCase=eu,an.capitalize=tu,an.ceil=Fu,an.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=Ts(r))==r?r:0),t!==i&&(t=(t=Ts(t))==t?t:0),Sn(Ts(e),t,r)},an.clone=function(e){return An(e,d)},an.cloneDeep=function(e){return An(e,f|d)},an.cloneDeepWith=function(e,t){return An(e,f|d,t="function"==typeof t?t:i)},an.cloneWith=function(e,t){return An(e,d,t="function"==typeof t?t:i)},an.conformsTo=function(e,t){return null==t||On(e,t,Bs(t))},an.deburr=ru,an.defaultTo=function(e,t){return null==e||e!=e?t:e},an.divide=$u,an.endsWith=function(e,t,r){e=Ps(e),t=xa(t);var n=e.length,a=r=r===i?n:Sn(Es(r),0,n);return(r-=t.length)>=0&&e.slice(r,a)==t},an.eq=Qi,an.escape=function(e){return(e=Ps(e))&&be.test(e)?e.replace(ve,dr):e},an.escapeRegExp=function(e){return(e=Ps(e))&&Ee.test(e)?e.replace(Oe,"\\$&"):e},an.every=function(e,t,r){var n=ns(e)?Ut:Pn;return r&&$o(e,t,r)&&(t=i),n(e,xo(t,3))},an.find=Ti,an.findIndex=ri,an.findKey=function(e,t){return Yt(e,xo(t,3),Rn)},an.findLast=ji,an.findLastIndex=ni,an.findLastKey=function(e,t){return Yt(e,xo(t,3),In)},an.floor=Nu,an.forEach=Pi,an.forEachRight=Fi,an.forIn=function(e,t){return null==e?e:Dn(e,xo(t,3),Hs)},an.forInRight=function(e,t){return null==e?e:Ln(e,xo(t,3),Hs)},an.forOwn=function(e,t){return e&&Rn(e,xo(t,3))},an.forOwnRight=function(e,t){return e&&In(e,xo(t,3))},an.get=Ms,an.gt=es,an.gte=ts,an.has=function(e,t){return null!=e&&To(e,t,Bn)},an.hasIn=Us,an.head=oi,an.identity=mu,an.includes=function(e,t,r,n){e=os(e)?e:Qs(e),r=r&&!n?Es(r):0;var a=e.length;return r<0&&(r=Lr(a+r,0)),_s(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&Zt(e,t,r)>-1},an.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Es(r);return a<0&&(a=Lr(n+a,0)),Zt(e,t,a)},an.inRange=function(e,t,r){return t=Os(t),r===i?(r=t,t=0):r=Os(r),function(e,t,r){return e>=Rr(t,r)&&e<Lr(t,r)}(e=Ts(e),t,r)},an.invoke=Ws,an.isArguments=rs,an.isArray=ns,an.isArrayBuffer=as,an.isArrayLike=os,an.isArrayLikeObject=is,an.isBoolean=function(e){return!0===e||!1===e||hs(e)&&qn(e)==M},an.isBuffer=ss,an.isDate=us,an.isElement=function(e){return hs(e)&&1===e.nodeType&&!vs(e)},an.isEmpty=function(e){if(null==e)return!0;if(os(e)&&(ns(e)||"string"==typeof e||"function"==typeof e.splice||ss(e)||xs(e)||rs(e)))return!e.length;var t=Co(e);if(t==H||t==K)return!e.size;if(Ro(e))return!Qn(e).length;for(var r in e)if(at.call(e,r))return!1;return!0},an.isEqual=function(e,t){return Xn(e,t)},an.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Xn(e,t,i,r):!!n},an.isError=ls,an.isFinite=function(e){return"number"==typeof e&&$r(e)},an.isFunction=cs,an.isInteger=fs,an.isLength=ps,an.isMap=gs,an.isMatch=function(e,t){return e===t||Yn(e,t,So(t))},an.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Yn(e,t,So(t),r)},an.isNaN=function(e){return ms(e)&&e!=+e},an.isNative=function(e){if(Lo(e))throw new Ve("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Kn(e)},an.isNil=function(e){return null==e},an.isNull=function(e){return null===e},an.isNumber=ms,an.isObject=ds,an.isObjectLike=hs,an.isPlainObject=vs,an.isRegExp=ys,an.isSafeInteger=function(e){return fs(e)&&e>=-T&&e<=T},an.isSet=bs,an.isString=_s,an.isSymbol=ws,an.isTypedArray=xs,an.isUndefined=function(e){return e===i},an.isWeakMap=function(e){return hs(e)&&Co(e)==te},an.isWeakSet=function(e){return hs(e)&&"[object WeakSet]"==qn(e)},an.join=function(e,t){return null==e?"":Nr.call(e,t)},an.kebabCase=nu,an.last=li,an.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==i&&(a=(a=Es(r))<0?Lr(n+a,0):Rr(a,n-1)),t==t?function(e,t,r){for(var n=a+1;n--;)if(e[n]===t)return n;return n}(e,t):Kt(e,er,a,!0)},an.lowerCase=au,an.lowerFirst=ou,an.lt=ks,an.lte=Ss,an.max=function(e){return e&&e.length?Fn(e,mu,Wn):i},an.maxBy=function(e,t){return e&&e.length?Fn(e,xo(t,2),Wn):i},an.mean=function(e){return tr(e,mu)},an.meanBy=function(e,t){return tr(e,xo(t,2))},an.min=function(e){return e&&e.length?Fn(e,mu,ea):i},an.minBy=function(e,t){return e&&e.length?Fn(e,xo(t,2),ea):i},an.stubArray=Cu,an.stubFalse=Tu,an.stubObject=function(){return{}},an.stubString=function(){return""},an.stubTrue=function(){return!0},an.multiply=Du,an.nth=function(e,t){return e&&e.length?oa(e,Es(t)):i},an.noConflict=function(){return At._===this&&(At._=lt),this},an.noop=wu,an.now=Mi,an.pad=function(e,t,r){e=Ps(e);var n=(t=Es(t))?_r(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return no(jr(a),r)+e+no(Tr(a),r)},an.padEnd=function(e,t,r){e=Ps(e);var n=(t=Es(t))?_r(e):0;return t&&n<t?e+no(t-n,r):e},an.padStart=function(e,t,r){e=Ps(e);var n=(t=Es(t))?_r(e):0;return t&&n<t?no(t-n,r)+e:e},an.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Mr(Ps(e).replace(Te,""),t||0)},an.random=function(e,t,r){if(r&&"boolean"!=typeof r&&$o(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Os(e),t===i?(t=e,e=0):t=Os(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var a=Ur();return Rr(e+a*(t-e+wt("1e-"+((a+"").length-1))),t)}return ca(e,t)},an.reduce=function(e,t,r){var n=ns(e)?Vt:ar,a=arguments.length<3;return n(e,xo(t,4),r,a,Tn)},an.reduceRight=function(e,t,r){var n=ns(e)?Gt:ar,a=arguments.length<3;return n(e,xo(t,4),r,a,jn)},an.repeat=function(e,t,r){return t=(r?$o(e,t,r):t===i)?1:Es(t),fa(Ps(e),t)},an.replace=function(){var e=arguments,t=Ps(e[0]);return e.length<3?t:t.replace(e[1],e[2])},an.result=function(e,t,r){var n=-1,a=(t=Fa(t,e)).length;for(a||(a=1,e=i);++n<a;){var o=null==e?i:e[Yo(t[n])];o===i&&(n=a,o=r),e=cs(o)?o.call(e):o}return e},an.round=Lu,an.runInContext=e,an.sample=function(e){return(ns(e)?mn:function(e){return mn(Qs(e))})(e)},an.size=function(e){if(null==e)return 0;if(os(e))return _s(e)?_r(e):e.length;var t=Co(e);return t==H||t==K?e.size:Qn(e).length},an.snakeCase=iu,an.some=function(e,t,r){var n=ns(e)?Jt:va;return r&&$o(e,t,r)&&(t=i),n(e,xo(t,3))},an.sortedIndex=function(e,t){return ya(e,t)},an.sortedIndexBy=function(e,t,r){return ba(e,t,xo(r,2))},an.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ya(e,t);if(n<r&&Qi(e[n],t))return n}return-1},an.sortedLastIndex=function(e,t){return ya(e,t,!0)},an.sortedLastIndexBy=function(e,t,r){return ba(e,t,xo(r,2),!0)},an.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ya(e,t,!0)-1;if(Qi(e[r],t))return r}return-1},an.startCase=su,an.startsWith=function(e,t,r){return e=Ps(e),r=null==r?0:Sn(Es(r),0,e.length),t=xa(t),e.slice(r,r+t.length)==t},an.subtract=Ru,an.sum=function(e){return e&&e.length?or(e,mu):0},an.sumBy=function(e,t){return e&&e.length?or(e,xo(t,2)):0},an.template=function(e,t,r){var n=an.templateSettings;r&&$o(e,t,r)&&(t=i),e=Ps(e),t=Ns({},t,n,fo);var a,o,s=Ns({},t.imports,n.imports,fo),u=Bs(s),l=ur(s,u),c=0,f=t.interpolate||Be,p="__p += '",d=Ye((t.escape||Be).source+"|"+f.source+"|"+(f===xe?Le:Be).source+"|"+(t.evaluate||Be).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++vt+"]")+"\n";e.replace(d,function(t,r,n,i,s,u){return n||(n=i),p+=e.slice(c,u).replace(He,hr),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(de,""):p).replace(he,"$1").replace(ge,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=fu(function(){return Ge(u,h+"return "+p).apply(i,l)});if(m.source=p,ls(m))throw m;return m},an.times=function(e,t){if((e=Es(e))<1||e>T)return[];var r=F,n=Rr(e,F);t=xo(t),e-=F;for(var a=ir(n,t);++r<e;)t(r);return a},an.toFinite=Os,an.toInteger=Es,an.toLength=Cs,an.toLower=function(e){return Ps(e).toLowerCase()},an.toNumber=Ts,an.toSafeInteger=function(e){return e?Sn(Es(e),-T,T):0===e?e:0},an.toString=Ps,an.toUpper=function(e){return Ps(e).toUpperCase()},an.trim=function(e,t,r){if((e=Ps(e))&&(r||t===i))return e.replace(Ce,"");if(!e||!(t=xa(t)))return e;var n=wr(e),a=wr(t);return Na(n,cr(n,a),fr(n,a)+1).join("")},an.trimEnd=function(e,t,r){if((e=Ps(e))&&(r||t===i))return e.replace(je,"");if(!e||!(t=xa(t)))return e;var n=wr(e);return Na(n,0,fr(n,wr(t))+1).join("")},an.trimStart=function(e,t,r){if((e=Ps(e))&&(r||t===i))return e.replace(Te,"");if(!e||!(t=xa(t)))return e;var n=wr(e);return Na(n,cr(n,wr(t))).join("")},an.truncate=function(e,t){var r=30,n="...";if(ds(t)){var a="separator"in t?t.separator:a;r="length"in t?Es(t.length):r,n="omission"in t?xa(t.omission):n}var o=(e=Ps(e)).length;if(gr(e)){var s=wr(e);o=s.length}if(r>=o)return e;var u=r-_r(n);if(u<1)return n;var l=s?Na(s,0,u).join(""):e.slice(0,u);if(a===i)return l+n;if(s&&(u+=l.length-u),ys(a)){if(e.slice(u).search(a)){var c,f=l;for(a.global||(a=Ye(a.source,Ps(Re.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var p=c.index;l=l.slice(0,p===i?u:p)}}else if(e.indexOf(xa(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+n},an.unescape=function(e){return(e=Ps(e))&&ye.test(e)?e.replace(me,xr):e},an.uniqueId=function(e){var t=++ot;return Ps(e)+t},an.upperCase=uu,an.upperFirst=lu,an.each=Pi,an.eachRight=Fi,an.first=oi,_u(an,(ju={},Rn(an,function(e,t){at.call(an.prototype,t)||(ju[t]=e)}),ju),{chain:!1}),an.VERSION="4.17.11",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){an[e].placeholder=an}),Mt(["drop","take"],function(e,t){ln.prototype[e]=function(r){r=r===i?1:Lr(Es(r),0);var n=this.__filtered__&&!t?new ln(this):this.clone();return n.__filtered__?n.__takeCount__=Rr(r,n.__takeCount__):n.__views__.push({size:Rr(r,F),type:e+(n.__dir__<0?"Right":"")}),n},ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Mt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:xo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Mt(["head","last"],function(e,t){var r="take"+(t?"Right":"");ln.prototype[e]=function(){return this[r](1).value()[0]}}),Mt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");ln.prototype[e]=function(){return this.__filtered__?new ln(this):this[r](1)}}),ln.prototype.compact=function(){return this.filter(mu)},ln.prototype.find=function(e){return this.filter(e).head()},ln.prototype.findLast=function(e){return this.reverse().find(e)},ln.prototype.invokeMap=pa(function(e,t){return"function"==typeof e?new ln(this):this.map(function(r){return Gn(r,e,t)})}),ln.prototype.reject=function(e){return this.filter(Ji(xo(e)))},ln.prototype.slice=function(e,t){e=Es(e);var r=this;return r.__filtered__&&(e>0||t<0)?new ln(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=Es(t))<0?r.dropRight(-t):r.take(t-e)),r)},ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ln.prototype.toArray=function(){return this.take(F)},Rn(ln.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=an[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);a&&(an.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof ln,l=s[0],c=u||ns(t),f=function(e){var t=a.apply(an,Ht([e],s));return n&&p?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var p=this.__chain__,d=!!this.__actions__.length,h=o&&!p,g=u&&!d;if(!o&&c){t=g?t:new ln(this);var m=e.apply(t,s);return m.__actions__.push({func:Oi,args:[f],thisArg:i}),new un(m,p)}return h&&g?e.apply(this,s):(m=this.thru(f),h?n?m.value()[0]:m.value():m)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Qe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);an.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(ns(a)?a:[],e)}return this[r](function(r){return t.apply(ns(r)?r:[],e)})}}),Rn(ln.prototype,function(e,t){var r=an[t];if(r){var n=r.name+"";(Xr[n]||(Xr[n]=[])).push({name:t,func:r})}}),Xr[Qa(i,v).name]=[{name:"wrapper",func:i}],ln.prototype.clone=function(){var e=new ln(this.__wrapped__);return e.__actions__=qa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=qa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=qa(this.__views__),e},ln.prototype.reverse=function(){if(this.__filtered__){var e=new ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=ns(e),n=t<0,a=r?e.length:0,o=function(e,t,r){for(var n=-1,a=r.length;++n<a;){var o=r[n],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=Rr(t,e+i);break;case"takeRight":e=Lr(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,s=o.end,u=s-i,l=n?s:i-1,c=this.__iteratees__,f=c.length,p=0,d=Rr(u,this.__takeCount__);if(!r||!n&&a==u&&d==u)return Ea(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var g=-1,m=e[l+=t];++g<f;){var v=c[g],y=v.iteratee,b=v.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}h[p++]=m}return h},an.prototype.at=Ei,an.prototype.chain=function(){return Ai(this)},an.prototype.commit=function(){return new un(this.value(),this.__chain__)},an.prototype.next=function(){this.__values__===i&&(this.__values__=As(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},an.prototype.plant=function(e){for(var t,r=this;r instanceof sn;){var n=Zo(r);n.__index__=0,n.__values__=i,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},an.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ln){var t=e;return this.__actions__.length&&(t=new ln(this)),(t=t.reverse()).__actions__.push({func:Oi,args:[di],thisArg:i}),new un(t,this.__chain__)}return this.thru(di)},an.prototype.toJSON=an.prototype.valueOf=an.prototype.value=function(){return Ea(this.__wrapped__,this.__actions__)},an.prototype.first=an.prototype.head,nr&&(an.prototype[nr]=function(){return this}),an}();"object"==o(r(3))&&r(3)?(At._=kr,(a=function(){return kr}.call(t,r,t,n))===i||(n.exports=a)):Et?((Et.exports=kr)._=kr,Ot._=kr):At._=kr}).call(void 0)}).call(this,r(1),r(8)(e))},function(e,t,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(0),a=r(10);e.exports=function(e,t,r,n){return function(e,t,r,n){var o,i,s={},u=new a,l=function(e){var t=e.v!==o?e.v:e.w,n=s[t],a=r(e),l=i.distance+a;if(a<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+a);l<n.distance&&(n.distance=l,n.predecessor=o,u.decrease(t,l))};for(e.nodes().forEach(function(e){var r=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:r},u.add(e,r)});u.size()>0&&(o=u.removeMin(),(i=s[o]).distance!==Number.POSITIVE_INFINITY);)n(o).forEach(l);return s}(e,String(t),r||o,n||function(t){return e.outEdges(t)})};var o=n.constant(1)},function(e,t,r){var n=r(0);function a(){this._arr=[],this._keyIndices={}}e.exports=a,a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(e){return e.key})},a.prototype.has=function(e){return n.has(this._keyIndices,e)},a.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},a.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!n.has(r,e)){var a=this._arr,o=a.length;return r[e]=o,a.push({key:e,priority:t}),this._decrease(o),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},a.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)},a.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,a=e;r<t.length&&(a=t[r].priority<t[a].priority?r:a,n<t.length&&(a=t[n].priority<t[a].priority?n:a),a!==e&&(this._swap(e,a),this._heapify(a)))},a.prototype._decrease=function(e){for(var t,r=this._arr,n=r[e].priority;0!==e&&!(r[t=e>>1].priority<n);)this._swap(e,t),e=t},a.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,a=r[e],o=r[t];r[e]=o,r[t]=a,n[o.key]=e,n[a.key]=t}},function(e,t,r){var n=r(0);e.exports=function(e){var t=0,r=[],a={},o=[];return e.nodes().forEach(function(i){n.has(a,i)||function i(s){var u=a[s]={onStack:!0,lowlink:t,index:t++};if(r.push(s),e.successors(s).forEach(function(e){n.has(a,e)?a[e].onStack&&(u.lowlink=Math.min(u.lowlink,a[e].index)):(i(e),u.lowlink=Math.min(u.lowlink,a[e].lowlink))}),u.lowlink===u.index){var l,c=[];do{l=r.pop(),a[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}(i)}),o}},function(e,t,r){var n=r(0);function a(e){var t={},r={},a=[];if(n.each(e.sinks(),function i(s){if(n.has(r,s))throw new o;n.has(t,s)||(r[s]=!0,t[s]=!0,n.each(e.predecessors(s),i),delete r[s],a.push(s))}),n.size(t)!==e.nodeCount())throw new o;return a}function o(){}e.exports=a,a.CycleException=o},function(e,t,r){var n=r(0);e.exports=function(e,t,r){n.isArray(t)||(t=[t]);var a=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return n.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,r,a,o,i,s){n.has(o,r)||(o[r]=!0,a||s.push(r),n.each(i(r),function(r){e(t,r,a,o,i,s)}),a&&s.push(r))}(e,t,"post"===r,i,a,o)}),o}},function(e,t,r){(function(t){var n=r(37),a=["delete","get","head","patch","post","put"];e.exports.load=function(e,r,o){var i,s,u=r.method?r.method.toLowerCase():"get";function l(e,r){e?o(e):("[object process]"===Object.prototype.toString.call(void 0!==t?t:0)&&"function"==typeof r.buffer&&r.buffer(!0),r.end(function(e,t){e?o(e):o(void 0,t)}))}if(void 0!==r.method?"string"!=typeof r.method?i=new TypeError("options.method must be a string"):-1===a.indexOf(r.method)&&(i=new TypeError("options.method must be one of the following: "+a.slice(0,a.length-1).join(", ")+" or "+a[a.length-1])):void 0!==r.prepareRequest&&"function"!=typeof r.prepareRequest&&(i=new TypeError("options.prepareRequest must be a function")),i)o(i);else if(s=n["delete"===u?"del":u](e),r.prepareRequest)try{r.prepareRequest(s,l)}catch(e){o(e)}else l(void 0,s)}}).call(this,r(2))},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))}},function(e,t,r){(function(n,a){var o,i,s,u,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};u=function(){var e,t,r,n=Object.prototype.toString,o=void 0!==a?function(e){return a(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function i(e,n){r.add(e,n),t||(t=o(r.drain))}function s(e){var t,r=void 0===e?"undefined":l(e);return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,r){var n,a;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(a=s(n))?a.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function f(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&i(u,t))}function p(e,t,r,n){for(var a=0;a<t.length;a++)!function(a){e.resolve(t[a]).then(function(e){r(a,e)},n)}(a)}function d(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),t.chain.push(n),0!==t.state&&i(u,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(t){var r,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(r=s(t))?i(function(){var a=new d(n);try{r.call(t,function(){e.apply(a,arguments)},function(){f.apply(a,arguments)})}catch(e){f.call(a,e)}}):(n.msg=t,n.state=1,n.chain.length>0&&i(u,n))}catch(e){f.call(new d(n),e)}}}).call(t,e)},function(e){f.call(t,e)})}catch(e){f.call(t,e)}}r=function(){var e,r,n;function a(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){n=new a(t,o),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var m=e({},"constructor",g,!1);return g.prototype=m,e(m,"__NPO__",0,!1),e(g,"resolve",function(e){return e&&"object"==(void 0===e?"undefined":l(e))&&1===e.__NPO__?e:new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),e(g,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),e(g,"all",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var a=e.length,o=Array(a),i=0;p(t,e,function(e,t){o[e]=t,++i===a&&r(o)},n)})}),e(g,"race",function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");p(t,e,function(e,t){r(t)},n)})}),g},(s=void 0!==n?n:void 0)[i="Promise"]=s[i]||u(),e.exports?e.exports=s[i]:void 0===(o=function(){return s[i]}.call(t,r,t,e))||(e.exports=o)}).call(this,r(1),r(43).setImmediate)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.buildExps=a;var n=r(6);function a(e){var t=(0,n.merge)("[0-9]","[A-Fa-f]"),r=(0,n.subexp)((0,n.subexp)("%[EFef]"+t+"%"+t+t+"%"+t+t)+"|"+(0,n.subexp)("%[89A-Fa-f]"+t+"%"+t+t)+"|"+(0,n.subexp)("%"+t+t)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=(0,n.merge)("[\\:\\/\\?\\#\\[\\]\\@]",a),i=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",s=e?"[\\uE000-\\uF8FF]":"[]",u=(0,n.merge)("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",i),l=(0,n.subexp)("[A-Za-z]"+(0,n.merge)("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=(0,n.subexp)((0,n.subexp)(r+"|"+(0,n.merge)(u,a,"[\\:]"))+"*"),f=(0,n.subexp)((0,n.subexp)("25[0-5]")+"|"+(0,n.subexp)("2[0-4][0-9]")+"|"+(0,n.subexp)("1[0-9][0-9]")+"|"+(0,n.subexp)("[1-9][0-9]")+"|[0-9]"),p=(0,n.subexp)(f+"\\."+f+"\\."+f+"\\."+f),d=(0,n.subexp)(t+"{1,4}"),h=(0,n.subexp)((0,n.subexp)(d+"\\:"+d)+"|"+p),g=(0,n.subexp)((0,n.subexp)(d+"\\:")+"{6}"+h),m=(0,n.subexp)("\\:\\:"+(0,n.subexp)(d+"\\:")+"{5}"+h),v=(0,n.subexp)((0,n.subexp)(d)+"?\\:\\:"+(0,n.subexp)(d+"\\:")+"{4}"+h),y=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+(0,n.subexp)(d+"\\:")+"{3}"+h),b=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+(0,n.subexp)(d+"\\:")+"{2}"+h),_=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+h),w=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+h),x=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),k=(0,n.subexp)((0,n.subexp)((0,n.subexp)(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),S=(0,n.subexp)([g,m,v,y,b,_,w,x,k].join("|")),A=(0,n.subexp)("[vV]"+t+"+\\."+(0,n.merge)(u,a,"[\\:]")+"+"),O=(0,n.subexp)("\\["+(0,n.subexp)(S+"|"+A)+"\\]"),E=(0,n.subexp)((0,n.subexp)(r+"|"+(0,n.merge)(u,a))+"*"),C=(0,n.subexp)(O+"|"+p+"(?!"+E+")|"+E),T=(0,n.subexp)("[0-9]*"),j=(0,n.subexp)((0,n.subexp)(c+"@")+"?"+C+(0,n.subexp)("\\:"+T)+"?"),P=(0,n.subexp)(r+"|"+(0,n.merge)(u,a,"[\\:\\@]")),F=(0,n.subexp)(P+"*"),$=(0,n.subexp)(P+"+"),N=(0,n.subexp)((0,n.subexp)(r+"|"+(0,n.merge)(u,a,"[\\@]"))+"+"),D=(0,n.subexp)((0,n.subexp)("\\/"+F)+"*"),L=(0,n.subexp)("\\/"+(0,n.subexp)($+D)+"?"),R=(0,n.subexp)(N+D),I=(0,n.subexp)($+D),M="(?!"+P+")",U=((0,n.subexp)(D+"|"+L+"|"+R+"|"+I+"|"+M),(0,n.subexp)((0,n.subexp)(P+"|"+(0,n.merge)("[\\/\\?]",s))+"*")),z=(0,n.subexp)((0,n.subexp)(P+"|[\\/\\?]")+"*"),q=(0,n.subexp)((0,n.subexp)("\\/\\/"+j+D)+"|"+L+"|"+I+"|"+M),W=(0,n.subexp)(l+"\\:"+q+(0,n.subexp)("\\?"+U)+"?"+(0,n.subexp)("\\#"+z)+"?"),B=(0,n.subexp)((0,n.subexp)("\\/\\/"+j+D)+"|"+L+"|"+R+"|"+M),H=(0,n.subexp)(B+(0,n.subexp)("\\?"+U)+"?"+(0,n.subexp)("\\#"+z)+"?");return(0,n.subexp)(W+"|"+H),(0,n.subexp)(l+"\\:"+q+(0,n.subexp)("\\?"+U)+"?"),(0,n.subexp)((0,n.subexp)("\\/\\/("+(0,n.subexp)("("+c+")@")+"?("+C+")"+(0,n.subexp)("\\:("+T+")")+"?)")+"?("+D+"|"+L+"|"+I+"|"+M+")"),(0,n.subexp)("\\?("+U+")"),(0,n.subexp)("\\#("+z+")"),(0,n.subexp)((0,n.subexp)("\\/\\/("+(0,n.subexp)("("+c+")@")+"?("+C+")"+(0,n.subexp)("\\:("+T+")")+"?)")+"?("+D+"|"+L+"|"+R+"|"+M+")"),(0,n.subexp)("\\?("+U+")"),(0,n.subexp)("\\#("+z+")"),(0,n.subexp)((0,n.subexp)("\\/\\/("+(0,n.subexp)("("+c+")@")+"?("+C+")"+(0,n.subexp)("\\:("+T+")")+"?)")+"?("+D+"|"+L+"|"+I+"|"+M+")"),(0,n.subexp)("\\?("+U+")"),(0,n.subexp)("\\#("+z+")"),(0,n.subexp)("("+c+")@"),(0,n.subexp)("\\:("+T+")"),{NOT_SCHEME:new RegExp((0,n.merge)("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp((0,n.merge)("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp((0,n.merge)("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp((0,n.merge)("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp((0,n.merge)("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp((0,n.merge)("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp((0,n.merge)("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp((0,n.merge)("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp((0,n.merge)("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(r,"g"),IPV6ADDRESS:new RegExp("\\[?("+S+")\\]?","g")}}t.default=a(!1)},function(e,t,r){(function(e,n){var a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i){var s="object"==o(t)&&t&&!t.nodeType&&t,u="object"==o(e)&&e&&!e.nodeType&&e,l="object"==(void 0===n?"undefined":o(n))&&n;l.global!==l&&l.window!==l&&l.self!==l||(i=l);var c,f,p=2147483647,d=36,h=1,g=26,m=38,v=700,y=72,b=128,_="-",w=/^xn--/,x=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=d-h,O=Math.floor,E=String.fromCharCode;function C(e){throw new RangeError(S[e])}function T(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function j(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+T((e=e.replace(k,".")).split("."),t).join(".")}function P(e){for(var t,r,n=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function F(e){return T(e,function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+E(e)}).join("")}function $(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,r){var n=0;for(e=r?O(e/v):e>>1,e+=O(e/t);e>A*g>>1;n+=d)e=O(e/A);return O(n+(A+1)*e/(e+m))}function D(e){var t,r,n,a,o,i,s,u,l,c,f,m=[],v=e.length,w=0,x=b,k=y;for((r=e.lastIndexOf(_))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C("not-basic"),m.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<v;){for(o=w,i=1,s=d;a>=v&&C("invalid-input"),((u=(f=e.charCodeAt(a++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:d)>=d||u>O((p-w)/i))&&C("overflow"),w+=u*i,!(u<(l=s<=k?h:s>=k+g?g:s-k));s+=d)i>O(p/(c=d-l))&&C("overflow"),i*=c;k=N(w-o,t=m.length+1,0==o),O(w/t)>p-x&&C("overflow"),x+=O(w/t),w%=t,m.splice(w++,0,x)}return F(m)}function L(e){var t,r,n,a,o,i,s,u,l,c,f,m,v,w,x,k=[];for(m=(e=P(e)).length,t=b,r=0,o=y,i=0;i<m;++i)(f=e[i])<128&&k.push(E(f));for(n=a=k.length,a&&k.push(_);n<m;){for(s=p,i=0;i<m;++i)(f=e[i])>=t&&f<s&&(s=f);for(s-t>O((p-r)/(v=n+1))&&C("overflow"),r+=(s-t)*v,t=s,i=0;i<m;++i)if((f=e[i])<t&&++r>p&&C("overflow"),f==t){for(u=r,l=d;!(u<(c=l<=o?h:l>=o+g?g:l-o));l+=d)x=u-c,w=d-c,k.push(E($(c+x%w,0))),u=O(x/w);k.push(E($(u,0))),o=N(r,v,n==a),r=0,++n}++r,++t}return k.join("")}if(c={version:"1.4.1",ucs2:{decode:P,encode:F},decode:D,encode:L,toASCII:function(e){return j(e,function(e){return x.test(e)?"xn--"+L(e):e})},toUnicode:function(e){return j(e,function(e){return w.test(e)?D(e.slice(4).toLowerCase()):e})}},"object"==o(r(3))&&r(3))void 0===(a=function(){return c}.call(t,r,t,e))||(e.exports=a);else if(s&&u)if(e.exports==s)u.exports=c;else for(f in c)c.hasOwnProperty(f)&&(s[f]=c[f]);else i.punycode=c}(void 0)}).call(this,r(8)(e),r(1))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},function(e,t,r){(function(t){var n=r(7),a=r(21),o=r(34),i=r(35),s=r(45),u=r(48),l=r(49),c=/~(?:[^01]|$)/g,f={},p=["relative","remote"],d=["absolute","uri"],h={};function g(e,t){n.isString(e)&&(e=u(e)),n.isString(t)&&(t=u(t));var r,a,i=A(n.isUndefined(t)?"":t);return d.indexOf(i.reference)>-1?a=i:(r=n.isUndefined(e)?void 0:A(e),n.isUndefined(r)?a=i:((a=r).path=u(o.join(r.path,i.path)),a.query=function(e,t){var r={};function a(e){n.forOwn(e,function(e,t){r[t]=e})}return a(s.parse(e||"")),a(s.parse(t||"")),0===Object.keys(r).length?void 0:s.stringify(r)}(r.query,i.query))),a.fragment=void 0,(-1===d.indexOf(a.reference)&&0===a.path.indexOf("../")?"../":"")+l.serialize(a)}function m(e){return p.indexOf(_(e))>-1}function v(e){return n.isUndefined(e.error)&&"invalid"!==e.type}function y(e,t){var r=e;return t.forEach(function(e){if(!(e in r))throw Error("JSON Pointer points to missing location: "+$(t));r=r[e]}),r}function b(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function _(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function w(e,t){var r=f[e],a=Promise.resolve(),o=n.cloneDeep(t.loaderOptions||{});return n.isUndefined(r)?(n.isUndefined(o.processContent)&&(o.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),a=(a=i.load(decodeURI(e),o)).then(function(t){return f[e]={value:t},t}).catch(function(t){throw f[e]={error:t},t})):a=a.then(function(){if(n.isError(r.error))throw r.error;return r.value}),a.then(function(e){return n.cloneDeep(e)})}function x(e,t){var r=!0;try{if(!n.isPlainObject(e))throw new Error("obj is not an Object");if(!n.isString(e.$ref))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;r=!1}return r}function k(e){return-1!==e.indexOf("://")||o.isAbsolute(e)?e:o.resolve(t.cwd(),e)}function S(e,t){e.error=t.message,e.missing=!0}function A(e){return l.parse(e)}function O(e,t){var r,a;if(e=n.isUndefined(e)?{}:n.cloneDeep(e),!n.isObject(e))throw new TypeError("options must be an Object");if(!n.isUndefined(e.resolveCirculars)&&!n.isBoolean(e.resolveCirculars))throw new TypeError("options.resolveCirculars must be a Boolean");if(!(n.isUndefined(e.filter)||n.isArray(e.filter)||n.isFunction(e.filter)||n.isString(e.filter)))throw new TypeError("options.filter must be an Array, a Function of a String");if(!n.isUndefined(e.includeInvalid)&&!n.isBoolean(e.includeInvalid))throw new TypeError("options.includeInvalid must be a Boolean");if(!n.isUndefined(e.location)&&!n.isString(e.location))throw new TypeError("options.location must be a String");if(!n.isUndefined(e.refPreProcessor)&&!n.isFunction(e.refPreProcessor))throw new TypeError("options.refPreProcessor must be a Function");if(!n.isUndefined(e.refPostProcessor)&&!n.isFunction(e.refPostProcessor))throw new TypeError("options.refPostProcessor must be a Function");if(!n.isUndefined(e.subDocPath)&&!n.isArray(e.subDocPath)&&!P(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(n.isUndefined(e.resolveCirculars)&&(e.resolveCirculars=!1),e.filter=function(e){var t,r;return n.isArray(e.filter)||n.isString(e.filter)?(r=n.isString(e.filter)?[e.filter]:e.filter,t=function(e){return r.indexOf(e.type)>-1||r.indexOf(_(e))>-1}):n.isFunction(e.filter)?t=e.filter:n.isUndefined(e.filter)&&(t=function(){return!0}),function(r,n){return("invalid"!==r.type||!0===e.includeInvalid)&&t(r,n)}}(e),n.isUndefined(e.location)&&(e.location=k("./root.json")),(r=e.location.split("#")).length>1&&(e.subDocPath="#"+r[1]),a=decodeURI(e.location)===e.location,e.location=g(e.location,void 0),a&&(e.location=decodeURI(e.location)),e.subDocPath=function(e){var t;return n.isArray(e.subDocPath)?t=e.subDocPath:n.isString(e.subDocPath)?t=F(e.subDocPath):n.isUndefined(e.subDocPath)&&(t=[]),t}(e),!n.isUndefined(t))try{y(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function E(e){if(!n.isArray(e))throw new TypeError("path must be an array");return e.map(function(e){return n.isString(e)||(e=JSON.stringify(e)),e.replace(/~1/g,"/").replace(/~0/g,"~")})}function C(e){if(!n.isArray(e))throw new TypeError("path must be an array");return e.map(function(e){return n.isString(e)||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function T(e,t){var r={};if(!n.isArray(e)&&!n.isObject(e))throw new TypeError("obj must be an Array or an Object");return function e(t,r,a,o){var i=!0;function s(r,n){a.push(n),e(t,r,a,o),a.pop()}n.isFunction(o)&&(i=o(t,r,a)),-1===t.indexOf(r)&&(t.push(r),!1!==i&&(n.isArray(r)?r.forEach(function(e,t){s(e,t.toString())}):n.isObject(r)&&n.forOwn(r,function(e,t){s(e,t)})),t.pop())}(function(e,t){var r,n=[];return t.length>0&&(r=e,t.slice(0,t.length-1).forEach(function(e){e in r&&(r=r[e],n.push(r))})),n}(e,(t=O(t,e)).subDocPath),y(e,t.subDocPath),n.cloneDeep(t.subDocPath),function(e,a,o){var i,s,u=!0;return x(a)&&(n.isUndefined(t.refPreProcessor)||(a=t.refPreProcessor(n.cloneDeep(a),o)),i=j(a),n.isUndefined(t.refPostProcessor)||(i=t.refPostProcessor(i,o)),t.filter(i,o)&&(s=$(o),r[s]=i),b(a).length>0&&(u=!1)),u}),r}function j(e){var t,r,a,o={def:e};try{if(x(e,!0)){if(t=e.$ref,a=h[t],n.isUndefined(a)&&(a=h[t]=A(t)),o.uri=t,o.uriDetails=a,n.isUndefined(a.error)){o.type=_(o);try{["#","/"].indexOf(t[0])>-1?P(t,!0):t.indexOf("#")>-1&&P(a.fragment,!0)}catch(e){o.error=e.message,o.type="invalid"}}else o.error=o.uriDetails.error,o.type="invalid";(r=b(e)).length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+r.join(", "))}else o.type="invalid"}catch(e){o.error=e.message,o.type="invalid"}return o}function P(e,t){var r,a=!0;try{if(!n.isString(e))throw new Error("ptr is not a String");if(""!==e){if(r=e.charAt(0),-1===["#","/"].indexOf(r))throw new Error("ptr must start with a / or #/");if("#"===r&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(c))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===t)throw e;a=!1}return a}function F(e){try{P(e,!0)}catch(e){throw new Error("ptr must be a JSON Pointer: "+e.message)}var t=e.split("/");return t.shift(),E(t)}function $(e,t){if(!n.isArray(e))throw new Error("path must be an Array");return(!1!==t?"#":"")+(e.length>0?"/":"")+C(e).join("/")}function N(e,t){var r=Promise.resolve();return r.then(function(){if(!n.isArray(e)&&!n.isObject(e))throw new TypeError("obj must be an Array or an Object");t=O(t,e),e=n.cloneDeep(e)}).then(function(){var r={deps:{},docs:{},refs:{}};return function e(t,r,a){var i,s,u=Promise.resolve(),l=$(r.subDocPath),c=k(r.location),f=o.dirname(r.location),p=c+l;return n.isUndefined(a.docs[c])&&(a.docs[c]=t),n.isUndefined(a.deps[p])&&(a.deps[p]={},i=T(t,r),n.forOwn(i,function(o,i){var c,d,h=k(r.location)+i,y=o.refdId=decodeURI(k(m(o)?g(f,o.uri):r.location)+"#"+(o.uri.indexOf("#")>-1?o.uri.split("#")[1]:""));a.refs[h]=o,v(o)&&(o.fqURI=y,a.deps[p][i===l?"#":i.replace(l+"/","#/")]=y,0!==h.indexOf(y+"/")?((s=n.cloneDeep(r)).subDocPath=n.isUndefined(o.uriDetails.fragment)?[]:F(decodeURI(o.uriDetails.fragment)),m(o)?(delete s.filter,s.location=y.split("#")[0],u=u.then((c=a,d=s,function(){var e=k(d.location),t=c.docs[e];return n.isUndefined(t)?w(e,d).catch(function(t){return c.docs[e]=t,t}):Promise.resolve().then(function(){return t})}))):u=u.then(function(){return t}),u=u.then(function(t,r,a){return function(o){if(n.isError(o))S(a,o);else try{return e(o,r,t).catch(function(e){S(a,e)})}catch(e){S(a,e)}}}(a,s,o))):o.circular=!0)})),u}(e,t,r).then(function(){return r})}).then(function(e){var r={},i=[],s=[],u=new a.Graph,l=k(t.location),c=l+$(t.subDocPath),f=o.dirname(l);return Object.keys(e.deps).forEach(function(e){u.setNode(e)}),n.forOwn(e.deps,function(e,t){n.forOwn(e,function(e){u.setEdge(t,e)})}),(i=a.alg.findCycles(u)).forEach(function(e){e.forEach(function(e){-1===s.indexOf(e)&&s.push(e)})}),n.forOwn(e.deps,function(t,r){n.forOwn(t,function(t,n){var a,o=!1,u=r+n.slice(1),l=e.refs[r+n.slice(1)],c=m(l);s.indexOf(t)>-1&&i.forEach(function(e){o||(a=e.indexOf(t))>-1&&e.forEach(function(r){o||0===u.indexOf(r+"/")&&(c&&a!==e.length-1&&"#"===t[t.length-1]||(o=!0))})}),o&&(l.circular=!0)})}),n.forOwn(Object.keys(e.deps).reverse(),function(r){var a=e.deps[r],o=r.split("#"),i=e.docs[o[0]],s=F(o[1]);n.forOwn(a,function(r,a){var u,l,c,f=r.split("#"),p=e.docs[f[0]],d=s.concat(F(a)),h=e.refs[o[0]+$(d)];if(n.isUndefined(h.error)&&n.isUndefined(h.missing))if(!t.resolveCirculars&&h.circular)h.value=h.def;else{try{h.value=y(p,F(f[1]))}catch(e){return void S(h,e)}""===o[1]&&"#"===a?e.docs[o[0]]=h.value:(u=i,l=d,c=h.value,y(u,l.slice(0,l.length-1))[l[l.length-1]]=c)}})}),Object.keys(e.refs).forEach(function(a){var o,i,s=e.refs[a];"invalid"!==s.type&&("#"===s.fqURI[s.fqURI.length-1]&&"#"!==s.uri[s.uri.length-1]&&(s.fqURI=s.fqURI.substr(0,s.fqURI.length-1)),o=s.fqURI.split("/"),i=s.uri.split("/"),n.times(i.length-1,function(e){var t=i[i.length-e-1],r=o.length-e-1,n=o[r];"."!==t&&".."!==t||(t=n),o[r]=t}),s.fqURI=o.join("/"),0===s.fqURI.indexOf(l)?s.fqURI=s.fqURI.replace(l,""):0===s.fqURI.indexOf(f)&&(s.fqURI=s.fqURI.replace(f,"")),"/"===s.fqURI[0]&&(s.fqURI="."+s.fqURI)),0===a.indexOf(c)&&function n(a,o,i){var s,u=o.split("#"),l=e.refs[o];r[u[0]===t.location?"#"+u[1]:$(t.subDocPath.concat(i))]=l,!l.circular&&v(l)?(s=e.deps[l.refdId],0!==l.refdId.indexOf(a)&&Object.keys(s).forEach(function(e){n(l.refdId,l.refdId+e.substr(1),i.concat(F(e)))})):!l.circular&&l.error&&(l.error=l.error.replace("options.subDocPath","JSON Pointer"),l.error.indexOf("#")>-1&&(l.error=l.error.replace(l.uri.substr(l.uri.indexOf("#")),l.uri)),0!==l.error.indexOf("ENOENT:")&&0!==l.error.indexOf("Not Found")||(l.error="JSON Pointer points to missing location: "+l.uri))}(c,a,F(a.substr(c.length)))}),n.forOwn(e.refs,function(e){delete e.refdId,e.missing&&(e.error=e.error.split(": ")[0]+": "+e.def.$ref)}),{refs:r,resolved:e.docs[l]}})}"undefined"==typeof Promise&&r(16),e.exports.clearCache=function(){f={}},e.exports.decodePath=function(e){return E(e)},e.exports.encodePath=function(e){return C(e)},e.exports.findRefs=function(e,t){return T(e,t)},e.exports.findRefsAt=function(e,t){return function(e,t){var r=Promise.resolve();return r.then(function(){if(!n.isString(e))throw new TypeError("location must be a string");return n.isUndefined(t)&&(t={}),n.isObject(t)&&(t.location=e),w((t=O(t)).location,t)}).then(function(e){var r=n.cloneDeep(f[t.location]),a=n.cloneDeep(t),o=A(t.location);return n.isUndefined(r.refs)&&(delete a.filter,delete a.subDocPath,a.includeInvalid=!0,f[t.location].refs=T(e,a)),n.isUndefined(t.filter)||(a.filter=t.filter),n.isUndefined(o.fragment)?n.isUndefined(o.subDocPath)||(a.subDocPath=t.subDocPath):a.subDocPath=F(decodeURI(o.fragment)),{refs:T(e,a),value:e}})}(e,t)},e.exports.getRefDetails=function(e){return j(e)},e.exports.isPtr=function(e,t){return P(e,t)},e.exports.isRef=function(e,t){return function(e,t){return x(e,t)&&"invalid"!==j(e).type}(e,t)},e.exports.pathFromPtr=function(e){return F(e)},e.exports.pathToPtr=function(e,t){return $(e,t)},e.exports.resolveRefs=function(e,t){return N(e,t)},e.exports.resolveRefsAt=function(e,t){return function(e,t){var r=Promise.resolve();return r.then(function(){if(!n.isString(e))throw new TypeError("location must be a string");return n.isUndefined(t)&&(t={}),n.isObject(t)&&(t.location=e),w((t=O(t)).location,t)}).then(function(e){var r=n.cloneDeep(t),a=A(t.location);return n.isUndefined(a.fragment)||(r.subDocPath=F(decodeURI(a.fragment))),N(e,r).then(function(t){return{refs:t.refs,resolved:t.resolved,value:e}})})}(e,t)}}).call(this,r(2))},function(e,t,r){var n=r(22);e.exports={Graph:n.Graph,json:r(24),alg:r(25),version:n.version}},function(e,t,r){e.exports={Graph:r(5),version:r(23)}},function(e,t,r){e.exports="2.1.5"},function(e,t,r){var n=r(0),a=r(5);e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:function(e){return n.map(e.nodes(),function(t){var r=e.node(t),a=e.parent(t),o={v:t};return n.isUndefined(r)||(o.value=r),n.isUndefined(a)||(o.parent=a),o})}(e),edges:function(e){return n.map(e.edges(),function(t){var r=e.edge(t),a={v:t.v,w:t.w};return n.isUndefined(t.name)||(a.name=t.name),n.isUndefined(r)||(a.value=r),a})}(e)};return n.isUndefined(e.graph())||(t.value=n.clone(e.graph())),t},read:function(e){var t=new a(e.options).setGraph(e.value);return n.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),n.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},function(e,t,r){e.exports={components:r(26),dijkstra:r(9),dijkstraAll:r(27),findCycles:r(28),floydWarshall:r(29),isAcyclic:r(30),postorder:r(31),preorder:r(32),prim:r(33),tarjan:r(11),topsort:r(12)}},function(e,t,r){var n=r(0);e.exports=function(e){var t,r={},a=[];function o(a){n.has(r,a)||(r[a]=!0,t.push(a),n.each(e.successors(a),o),n.each(e.predecessors(a),o))}return n.each(e.nodes(),function(e){t=[],o(e),t.length&&a.push(t)}),a}},function(e,t,r){var n=r(9),a=r(0);e.exports=function(e,t,r){return a.transform(e.nodes(),function(a,o){a[o]=n(e,o,t,r)},{})}},function(e,t,r){var n=r(0),a=r(11);e.exports=function(e){return n.filter(a(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},function(e,t,r){var n=r(0);e.exports=function(e,t,r){return function(e,t,r){var n={},a=e.nodes();return a.forEach(function(e){n[e]={},n[e][e]={distance:0},a.forEach(function(t){e!==t&&(n[e][t]={distance:Number.POSITIVE_INFINITY})}),r(e).forEach(function(r){var a=r.v===e?r.w:r.v,o=t(r);n[e][a]={distance:o,predecessor:e}})}),a.forEach(function(e){var t=n[e];a.forEach(function(r){var o=n[r];a.forEach(function(r){var n=o[e],a=t[r],i=o[r],s=n.distance+a.distance;s<i.distance&&(i.distance=s,i.predecessor=a.predecessor)})})}),n}(e,t||a,r||function(t){return e.outEdges(t)})};var a=n.constant(1)},function(e,t,r){var n=r(12);e.exports=function(e){try{n(e)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}},function(e,t,r){var n=r(13);e.exports=function(e,t){return n(e,t,"post")}},function(e,t,r){var n=r(13);e.exports=function(e,t){return n(e,t,"pre")}},function(e,t,r){var n=r(0),a=r(5),o=r(10);e.exports=function(e,t){var r,i=new a,s={},u=new o;function l(e){var n=e.v===r?e.w:e.v,a=u.priority(n);if(void 0!==a){var o=t(e);o<a&&(s[n]=r,u.decrease(n,o))}}if(0===e.nodeCount())return i;n.each(e.nodes(),function(e){u.add(e,Number.POSITIVE_INFINITY),i.setNode(e)}),u.decrease(e.nodes()[0],0);for(var c=!1;u.size()>0;){if(r=u.removeMin(),n.has(s,r))i.setEdge(r,s[r]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(r).forEach(l)}return i}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var i=a>=0?arguments[a]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return(n?"/":"")+(t=r(o(t.split("/"),function(e){return!!e}),!n).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===i(e,-1);return(e=r(o(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split("/")),o=n(r.split("/")),i=Math.min(a.length,o.length),s=i,u=0;u<i;u++)if(a[u]!==o[u]){s=u;break}var l=[];for(u=s;u<a.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return a(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(2))},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={file:r(36),http:r(14),https:r(14)},o="object"===("undefined"==typeof window?"undefined":n(window))||"function"==typeof importScripts?a.http:a.file;"undefined"==typeof Promise&&r(16),e.exports.load=function(e,t){var r=Promise.resolve();return void 0===t&&(t={}),(r=r.then(function(){if(void 0===e)throw new TypeError("location is required");if("string"!=typeof e)throw new TypeError("location must be a string");if(void 0!==t){if("object"!==(void 0===t?"undefined":n(t)))throw new TypeError("options must be an object");if(void 0!==t.processContent&&"function"!=typeof t.processContent)throw new TypeError("options.processContent must be a function")}})).then(function(){return new Promise(function(r,n){(function(e){var t=function(e){return void 0!==e&&(e=-1===e.indexOf("://")?"":e.split("://")[0]),e}(e),r=a[t];if(void 0===r){if(""!==t)throw new Error("Unsupported scheme: "+t);r=o}return r})(e).load(e,t||{},function(e,t){e?n(e):r(t)})})}).then(function(e){return t.processContent?new Promise(function(r,a){t.processContent("object"===(void 0===e?"undefined":n(e))?e:{text:e},function(e,t){e?a(e):r(t)})}):"object"===(void 0===e?"undefined":n(e))?e.text:e})}},function(e,t,r){var n=new TypeError("The 'file' scheme is not supported in the browser");e.exports.getBase=function(){throw n},e.exports.load=function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw n;e(n)}},function(e,t,r){var n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0);var o=r(38),i=r(39),s=r(15),u=r(40),l=r(42);function c(){}var f=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=y,f.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!s(e))return e;var t=[];for(var r in e)h(t,r,e[r]);return t.join("&")}function h(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){h(e,t,r)});else if(s(r))for(var n in r)h(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function g(e){for(var t,r,n={},a=e.split("&"),o=0,i=a.length;o<i;++o)-1==(r=(t=a[o]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function v(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,n,a,o=e.split(/\r?\n/),i={},s=0,u=o.length;s<u;++s)-1!==(t=(r=o[s]).indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),a=p(r.slice(t+1)),i[n]=a);return i}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,n=null;try{n=new v(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)})}function b(e,t,r){var n=f("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}f.serializeObject=d,f.parseString=g,f.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},u(v.prototype),v.prototype._parseBody=function(e){var t=f.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=f.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},v.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",a=new Error(n);return a.status=this.status,a.method=t,a.url=r,a},f.Response=v,o(y.prototype),i(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",f.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",f.types[e]||e),this},y.prototype.auth=function(e,t,r){return 1===arguments.length&&(t=""),"object"===(void 0===t?"undefined":a(t))&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"}),this._auth(e,t,r,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},y.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(e){return e&&"object"===(void 0===e?"undefined":a(e))&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var e=this,t=this.xhr=f.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var a=this._header["content-type"],o=this._serializer||f.serialize[a?a.split(";")[0]:""];!o&&m(a)&&(o=f.serialize["application/json"]),o&&(r=o(r))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&t.setRequestHeader(i,this.header[i]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},f.agent=function(){return new l},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){l.prototype[e.toLowerCase()]=function(t,r){var n=new f.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}}),l.prototype.del=l.prototype.delete,f.get=function(e,t,r){var n=f("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},f.head=function(e,t,r){var n=f("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},f.options=function(e,t,r){var n=f("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},f.del=b,f.delete=b,f.patch=function(e,t,r){var n=f("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},f.post=function(e,t,r){var n=f("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},f.put=function(e,t,r){var n=f("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(15);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||"object"!==(void 0===e?"undefined":n(e)))return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},o.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,n){r?t(r):e(n)})})}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(a(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),a(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var n in t)this.field(e,t[n]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},o.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=a(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&a(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},o.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,r){var n=r(41);function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.get=function(e){return this.header[e.toLowerCase()]},a.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var a in r)this[a]=r[a];this.links={};try{e.link&&(this.links=n.parseLinks(e.link))}catch(e){}},a.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,r){t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),n=r.shift(),a=r.shift();return n&&a&&(e[n]=a),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t,r){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(this,r(1))},function(e,t,r){(function(e,t){!function(e,r){if(!e.setImmediate){var n,a,o,i,s,u=1,l={},c=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){h(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return l[u]=a,n(u),u++},p.clearImmediate=d}function d(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,r(1),r(2))},function(e,t,r){t.decode=t.parse=r(46),t.encode=t.stringify=r(47)},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,p,d,h,g=e[c].replace(s,"%20"),m=g.indexOf(r);m>=0?(f=g.substr(0,m),p=g.substr(m+1)):(f=g,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),n(i,d)?a(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){switch(void 0===e?"undefined":n(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,u){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":n(e))?i(s(e),function(n){var s=encodeURIComponent(a(n))+r;return o(e[n])?i(e[n],function(e){return s+encodeURIComponent(a(e))}).join(t):s+encodeURIComponent(a(e[n]))}).join(t):u?encodeURIComponent(a(u))+r+encodeURIComponent(a(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){e.exports=function(e){var t=/^\\\\\?\\/.test(e),r=/[^\x00-\x80]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var a=l(r(19)),o=l(r(51)),i=l(r(52)),s=l(r(53)),u=l(r(54));function l(e){return e&&e.__esModule?e:{default:e}}n.SCHEMES.http=a.default,n.SCHEMES.https=o.default,n.SCHEMES.mailto=i.default,n.SCHEMES.urn=s.default,n.SCHEMES["urn:uuid"]=u.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.default=(0,n.buildExps)(!0)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=(n=r(19))&&n.__esModule?n:{default:n};t.default={scheme:"https",domainHost:a.default.domainHost,parse:a.default.parse,serialize:a.default.serialize}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(4),o=(n=r(18))&&n.__esModule?n:{default:n},i=r(6),s={},u="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",l="[0-9A-Fa-f]",c=(0,i.subexp)((0,i.subexp)("%[EFef][0-9A-Fa-f]%"+l+l+"%"+l+l)+"|"+(0,i.subexp)("%[89A-Fa-f][0-9A-Fa-f]%"+l+l)+"|"+(0,i.subexp)("%"+l+l)),f="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",p="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",d=(0,i.merge)(p,'[\\"\\\\]'),h=(0,i.subexp)(f+"+"+(0,i.subexp)("\\."+f+"+")+"*"),g=(0,i.subexp)("\\\\"+d),m=(0,i.subexp)(p+"|"+g),v=(0,i.subexp)('\\"'+m+'*\\"'),y=(0,i.subexp)(u+"|"+c+"|[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),b=(0,i.subexp)(h+"|\\[[\\x21-\\x5A\\x5E-\\x7E]*\\]"),_=(0,i.subexp)(h+"|"+v),w=(0,i.subexp)(_+"\\@"+b),x=((0,i.subexp)(w+(0,i.subexp)("\\,"+w)+"*"),(0,i.subexp)(y+"*")),k=x,S=(0,i.subexp)(x+"\\="+k),A=(0,i.subexp)(S+(0,i.subexp)("\\&"+S)+"*"),O=((0,i.subexp)("\\?"+A),new RegExp(u,"g")),E=new RegExp(c,"g"),C=new RegExp((0,i.merge)("[^]",f,"[\\.]",'[\\"]',d),"g"),T=(new RegExp((0,i.merge)("[^]",f,"[\\.]","[\\[]","[\\x21-\\x5A\\x5E-\\x7E]","[\\]]"),"g"),new RegExp((0,i.merge)("[^]",u,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g")),j=T;function P(e){var t=(0,a.pctDecChars)(e);return t.match(O)?t:e}t.default={scheme:"mailto",parse:function(e,t){var r=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var n=!1,i={},s=e.query.split("&"),u=0,l=s.length;u<l;++u){var c=s[u].split("=");switch(c[0]){case"to":for(var f=c[1].split(","),p=0,d=f.length;p<d;++p)r.push(f[p]);break;case"subject":e.subject=(0,a.unescapeComponent)(c[1],t);break;case"body":e.body=(0,a.unescapeComponent)(c[1],t);break;default:n=!0,i[(0,a.unescapeComponent)(c[0],t)]=(0,a.unescapeComponent)(c[1],t)}}n&&(e.headers=i)}e.query=void 0;for(var h=0,g=r.length;h<g;++h){var m=r[h].split("@");if(m[0]=(0,a.unescapeComponent)(m[0]),t.unicodeSupport)m[1]=(0,a.unescapeComponent)(m[1],t).toLowerCase();else try{m[1]=o.default.toASCII((0,a.unescapeComponent)(m[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[h]=m.join("@")}return e},serialize:function(e,t){var r=(0,i.toArray)(e.to);if(r){for(var n=0,u=r.length;n<u;++n){var l=String(r[n]),c=l.lastIndexOf("@"),f=l.slice(0,c).replace(E,P).replace(E,i.toUpperCase).replace(C,a.pctEncChar),p=l.slice(c+1);try{p=t.iri?o.default.toUnicode(p):o.default.toASCII((0,a.unescapeComponent)(p,t).toLowerCase())}catch(r){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}r[n]=f+"@"+p}e.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var g in d)d[g]!==s[g]&&h.push(g.replace(E,P).replace(E,i.toUpperCase).replace(T,a.pctEncChar)+"="+d[g].replace(E,P).replace(E,i.toUpperCase).replace(j,a.pctEncChar));return h.length&&(e.query=h.join("&")),e}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=new RegExp("^urn\\:((?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31}))$"),o=/^([^\:]+)\:(.*)/,i=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g;t.default={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(o);if(r){var a="urn:"+r[1].toLowerCase(),i=n.SCHEMES[a];i||(i=n.SCHEMES[a]={scheme:a,parse:function(e,t){return e},serialize:n.SCHEMES.urn.serialize}),e.scheme=a,e.path=r[2],e=i.parse(e,t)}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){var r=e.scheme||t.scheme;if(r&&"urn"!==r){var o=r.match(a)||["urn:"+r,r];e.scheme="urn",e.path=o[1]+":"+(e.path?e.path.replace(i,n.pctEncChar):"")}return e}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;t.default={scheme:"urn:uuid",parse:function(e,t){return t.tolerant||e.path&&e.path.match(a)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(a)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,n.SCHEMES.urn.serialize(e,t)}}}]),getCurrDir=function(){return window.location.href.replace(/(index\.html)?#.*$/,"")},getMetaProp=function(e,t,r,n){var a;return r="string"==typeof r?[r]:r,e.some(function(e){for(var o=r.slice(0),i=t["localization-strings"][e];i&&o.length;)i=i[o.shift()];return a=n||"string"==typeof i?i:void 0}),a},getMetadata=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JsonRefs.resolveRefsAt((n||getCurrDir())+t+(r?"#/"+r:""),{loaderOptions:{processContent:function(e,t){t(void 0,JSON.parse(e.text||e.body.toString()))}}});case 3:return e.abrupt("return",e.sent.resolved);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,r,n){return e.apply(this,arguments)}}(),getFieldNameAndValueAliases=function(e){var t=e.field,r=e.schemaItems,n=e.metadataObj,a=e.getFieldAliasOrName,o=e.lang,i=r.findIndex(function(e){return e.title===t}),s=r[i],u={fieldName:a(t)},l=n.fields[t],c=l&&l["fieldvalue-aliases"];return c&&(c.localeKey&&(c=getMetaProp(o,n,c.localeKey.split("/"),!0)),u.rawFieldValueAliasMap=JSON.parse(JSON.stringify(c)),u.aliases=[],s.enum&&s.enum.length?s.enum.forEach(function(e){var r;(u.aliases.push(getMetaProp(o,n,["fieldvalue",t,e],!0)),e in c&&"string"==typeof c[e])&&(r=u.aliases).push.apply(r,_toConsumableArray(c[e]))}):Object.entries(c).forEach(function(e){var t,r=_slicedToArray(e,2),n=r[0],a=r[1];Array.isArray(a)||(a=Object.values(a)),(t=u.aliases).push.apply(t,_toConsumableArray(a.filter(function(e){return a.every(function(t){return t===e||!t.toLowerCase().startsWith(e.toLowerCase())})}).map(function(e){return e+" ("+n+")"})))}),u.fieldValueAliasMap=JSON.parse(JSON.stringify(c))),u.fieldSchema=s,u.fieldSchemaIndex=i,u.preferAlias=l.prefer_alias,u.lang=l.lang,u},getBrowseFieldData=function(e){var t=e.metadataObj,r=e.schemaItems,n=e.getFieldAliasOrName,a=e.lang,o=e.callback;t.table.browse_fields.forEach(function(e,i){"string"==typeof e&&(e={set:[e]}),e.name||(e.name=e.set.join(","));var s=e.name,u=e.set,l=e.presort,c=u.map(function(e){return getFieldNameAndValueAliases({lang:a,field:e,schemaItems:r,metadataObj:t,getFieldAliasOrName:n})});o({setName:s,browseFields:c,i:i,presort:l})})},Metadata=function(){function e(t){var r=t.metadataObj;_classCallCheck(this,e),this.metadataObj=r}return _createClass(e,[{key:"getFieldLang",value:function(e){var t=this.metadataObj,r=t&&t.fields;return r&&r[e]&&r[e].lang}},{key:"getFieldMatchesLocale",value:function(e){var t=this,r=e.namespace,n=e.preferredLocale,a=e.schemaItems,o=e.pluginsForWork,i=this.metadataObj;return function(e){var s=getPreferredLanguages({namespace:r,preferredLocale:n});if(o.isPluginField({namespace:r,field:e})){var u=_slicedToArray(o.getPluginFieldParts({namespace:r,field:e}),3)[2];return"{locale}"===u&&(u=n),!u||s.includes(u)}var l=t.getFieldLang(e),c=i&&i["localization-strings"];return c&&Object.keys(c).some(function(t){var r=c[t]&&c[t].fieldvalue;return r&&r[e]})||l&&s.includes(l)||a.some(function(t){return t.title===e&&"string"!==t.type})}}}]),e}(),escapePluginComponent=function(e){return e.replace(/\^/g,"^^").replace(/-/g,"^0")},unescapePluginComponent=function(e){return e?e.replace(/(\^+)0/g,function(e,t){return t.length%2?t.slice(1)+"-":e}).replace(/\^\^/g,"^"):e},escapePlugin=function(e){var t=e.pluginName,r=e.applicableField,n=e.targetLanguage;return escapePluginComponent(t)+(r?"-"+escapePluginComponent(r):"-")+(n?"-"+escapePluginComponent(n):"")},PluginsForWork=function(){function e(t){var r=t.pluginsInWork,n=t.pluginFieldMappings,a=t.pluginObjects;_classCallCheck(this,e),this.pluginsInWork=r,this.pluginFieldMappings=n,this.pluginObjects=a}return _createClass(e,[{key:"getPluginObject",value:function(e){var t=this.pluginsInWork.findIndex(function(t){return _slicedToArray(t,1)[0]===e});return this.pluginObjects[t]}},{key:"iterateMappings",value:function(e){var t=this;this.pluginFieldMappings.forEach(function(r,n){var a=r.placement,o=r["applicable-fields"],i=_slicedToArray(t.pluginsInWork[n],2),s=i[0],u=i[1],l=u.onByDefault,c=u.lang,f=u.meta,p=t.getPluginObject(s);e({plugin:p,placement:a,applicableFields:o,pluginName:s,pluginLang:c,onByDefaultDefault:l,meta:f})})}},{key:"processTargetLanguages",value:function(e,t){return!!e&&(Object.entries(e).forEach(function(e){var r=_slicedToArray(e,2),n=r[0],a=r[1],o=a.targetLanguage,i=a.onByDefault,s=a.meta;Array.isArray(o)?o.forEach(function(e){t({applicableField:n,targetLanguage:e,onByDefault:i,metaApplicableField:s})}):t({applicableField:n,targetLanguage:o,onByDefault:i,metaApplicableField:s})}),!0)}},{key:"isPluginField",value:function(e){var t=e.namespace;return e.field.startsWith("".concat(t,"-plugin-"))}},{key:"getPluginFieldParts",value:function(e){var t,r,n,a=e.namespace,o=e.field;if((o=o.replace("".concat(a,"-plugin-"),"")).includes("-")){var i=_slicedToArray(o.split("-"),3);t=i[0],r=i[1],n=i[2]}else t=o;return[t,r,n].map(unescapePluginComponent)}}]),e}();"undefined"!=typeof process&&(path=require("path"),babelRegister=require("@babel/register"));var getWorkFiles=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.files,e.next=3,getJSON(t);case 3:return r=e.sent,n=[],r.groups.forEach(function(e){e.files.forEach(function(t){var a=getFilePaths(r,e,t),o=a.file,i=a.schemaFile,s=a.metadataFile;n.push(o,i,s)})}),n.push.apply(n,_toConsumableArray(Object.values(r.plugins).map(function(e){return e.path}))),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getFilePaths=function(e,t,r){var n=(e.baseDirectory||"")+(t.baseDirectory||"")+"/",a=(e.schemaBaseDirectory||"")+(t.schemaBaseDirectory||"")+"/",o=(e.metadataBaseDirectory||"")+(t.metadataBaseDirectory||"")+"/";return{file:n+r.file.$ref,schemaFile:r.schemaFile?a+r.schemaFile:"",metadataFile:r.metadataFile?o+r.metadataFile:""}},getWorkData=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,u,l,c,f,p,d,h,g,m,v,y,b,_,w,x,k,S,A,O,E,C,T,j,P,F,$,N,D,L,R,I,M,U,z,q,W=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lang,n=t.fallbackLanguages,a=t.work,o=t.files,i=t.allowPlugins,s=t.basePath,u=t.languages,l=t.preferredLocale,e.next=3,getJSON(o);case 3:return c=e.sent,f=function(e){return c["localization-strings"][e]},p=IMFClass({locales:r.map(f),fallbackLocales:n.map(f)}),d=p.getFormatter(),g=c.groups.find(function(e){return h=e.files.find(function(t){return a===d(["workNames",e.id,t.name])}),Boolean(h)}),m=c.groups.map(function(e){return{name:d({key:e.name.localeKey,fallback:!0}),workNames:e.files.map(function(t){return d(["workNames",e.id,t.name])}),shortcuts:e.files.map(function(e){return e.shortcut})}}),v=getFilePaths(c,g,h),y=v.file,b=v.schemaFile,_=v.metadataFile,w="",x="",b||(b=y,w="schema"),_||(_=y,x="metadata"),E=[],i&&(C=c["plugin-field-mapping"],T=C[g.id],(j=T[h.name])&&(A=Object.keys(j),S=Object.entries(c.plugins).filter(function(e){var t=_slicedToArray(e,1)[0];return A.includes(t)}),E=S.map(function(e){var t=_slicedToArray(e,1)[0];return j[t]}),O=S.map(function(e){return _slicedToArray(e,2)[1].path}),k=S)),e.next=19,getMetadata(_,x,s);case 19:return P=e.sent,F=function(e){var t,n,a=P.fields&&P.fields[e];return a&&(n=a.alias),n?"string"==typeof n?t=n:(n=n.localeKey,t=getMetaProp(r,P,n.split("/"))):"object"===_typeof(t=a.name)&&(t=t.localeKey,t=getMetaProp(r,P,t.split("/"))),t},$=E,e.next=24,Promise.all([getMetadata(b,w,s),k?Promise.all(O.map(function(e){return"undefined"!=typeof process?(e=path.resolve(path.join(process.cwd(),"node_modules/textbrowser/server",e)),babelRegister({presets:["@babel/env"]}),Promise.resolve().then(function(){return require(e)}).catch(function(e){console.log("err",e)})):window.importer(e)})):null]);case 24:return N=e.sent,D=_slicedToArray(N,2),L=D[0],R=D[1],I=new PluginsForWork({pluginsInWork:S,pluginFieldMappings:$,pluginObjects:R}),M=L.items.items,U=M.map(function(e){var t=e.title;return{field:t,fieldAliasOrName:F(t)||t}}),z=new Metadata({metadataObj:P}),u&&I&&(console.log("pluginsForWork",I),q=this.lang,I.iterateMappings(function(e){e.plugin;var t=e.pluginName,r=e.pluginLang,n=e.onByDefaultDefault,a=e.placement,o=e.applicableFields,i=e.meta,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.applicableField,s=e.targetLanguage,c=e.onByDefault,f=e.metaApplicableField,p=I.getPluginObject(t)||{},h=z.getFieldLang(o);p.getTargetLanguage&&(s=p.getTargetLanguage({applicableField:o,targetLanguage:s,pluginLang:r,applicableFieldLang:h}));var g=escapePlugin({pluginName:t,applicableField:o,targetLanguage:s||r||h});"{locale}"===s&&(s=l);var m=getMetaProp(q,P,["fieldnames",o]),v=p.getFieldAliasOrName?p.getFieldAliasOrName({locales:q,lf:d,targetLanguage:s,applicableField:o,applicableFieldI18N:m,meta:i,metaApplicableField:f,targetLanguageI18N:u.getLanguageFromCode(s)}):u.getFieldNameFromPluginNameAndLocales({pluginName:t,locales:q,lf:d,targetLanguage:s,applicableFieldI18N:m,meta:i,metaApplicableField:f});U.splice("end"===a?1/0:a,0,{field:"".concat(W.namespace,"-plugin-").concat(g),fieldAliasOrName:v,onByDefault:"boolean"==typeof c?c:n||!1,applicableField:o,metaApplicableField:f,fieldLang:s})};I.processTargetLanguages(o,s)||s()})),e.abrupt("return",{fileData:h,lf:d,getFieldAliasOrName:F,metadataObj:P,schemaObj:L,schemaItems:M,fieldInfo:U,pluginsForWork:I,groupsToWorks:m,metadata:z});case 34:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setServiceWorkerDefaults=function(e,t){return e.userJSON=t.userJSON||"resources/user.json",e.languages=t.languages||new URL("../appdata/languages.json",new URL("node_modules/textbrowser/resources/index.js",location)).href,e.serviceWorkerPath=t.serviceWorkerPath||"sw.js?pathToUserJSON=".concat(encodeURIComponent(e.userJSON)),e.files=t.files||"files.json",e.namespace=t.namespace||"textbrowser",e},listenForWorkerUpdate=function(e){var t=e.r;e.logger;t.addEventListener("updatefound",function(e){console.log("update found",e);var r=t.installing;r.addEventListener("statechange",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state,e.t0=t,e.next="installing"===e.t0?4:"installed"===e.t0?6:"redundant"===e.t0?10:"activating"===e.t0?14:"activated"===e.t0?16:18;break;case 4:return console.log("Installing new worker"),e.abrupt("break",19);case 6:return console.log("Installation status",t),e.next=9,dialogs.alert("\nA new version of this offlinable app has been downloaded.\n\nIf you have work to complete in this tab, you can dismiss\nthis dialog now and continue working with the old version.\n\nHowever, when you are finished, you should close this tab\nand any other old tabs for this site in order to be able to\nbegin using the new version.\n");case 9:return e.abrupt("break",19);case 10:return console.log("Installation status",t),e.next=13,dialogs.alert("\nThere was an error during installation (to allow offline/speeded\ncache use).\n\nIf you have work to complete in this tab, you can dismiss\nthis dialog now and continue working with the old version.\n\nHowever, when you are finished, you may wish to close this tab\nand any other old tabs for this site in order to try again\nfor offline installation.\n");case 13:return e.abrupt("break",19);case 14:return console.log("Activating new worker"),e.abrupt("break",19);case 16:return console.log("Activated new worker"),e.abrupt("break",19);case 18:throw new Error("Unknown worker update state: ".concat(t));case 19:case"end":return e.stop()}},e,this)})))})},respondToState=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.r,n=t.logger,e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.serviceWorker.addEventListener("message",function(e){var t=e.data,a=t.message,o=t.type,i=t.name,s=t.errorType;switch(console.log("msg1",a,r),o){case"log":return void n.addLogEntry({text:a});case"beginInstall":return void n.addLogEntry({text:"Install: Begun..."});case"finishedInstall":return void n.addLogEntry({text:"Install: Finished..."});case"beginActivate":return n.addLogEntry({text:"Activate: Caching finished"}),void n.addLogEntry({text:"Activate: Begin database resources storage..."});case"finishedActivate":return n.addLogEntry({text:"Activate: Finished..."}),void location.reload();case"error":n.addLogEntry({text:a+"".concat("dbError"===s?"Database error ".concat(i):"","; trying again...")});break;default:console.error("Unexpected type",o)}}),!(o=r.installing||r.waiting||r.active)||"redundant"!==o.state){e.next=8;break}return e.next=5,dialogs.alert('\nThere was likely an error installing. Click "ok" to try again.\n(Error code: Service worker is redundant)\n');case 5:location.reload(),e.next=15;break;case 8:if(!r.installing){e.next=12;break}console.log("INSTALLING"),e.next=15;break;case 12:if(!r.waiting){e.next=15;break}return e.next=15,dialogs.alert("\nAn update is in progress. After finishing any work\nyou have in them, please close this and any other existing tabs\nrunning this web application and then open the site again.\nPlease note it may take some time to install and may not show\nany indication it is installing.\n",{ok:!1});case 15:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),registerServiceWorker=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serviceWorkerPath,n=t.logger,console.log("--ready to register service worker",r),e.prev=2,e.next=5,navigator.serviceWorker.register(r);case 5:a=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,dialogs.alert("\nThere was an error during registration (for offline ability).\nPlease refresh the page if you wish to reattempt.\n");case 12:return e.abrupt("return");case 13:return n.addLogEntry({text:"Worker registration: Complete"}),e.abrupt("return",respondToState({r:a,logger:n}));case 15:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),escapeHTML=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/,"&gt;"):""},languageSelect={main:function(e){var t=e.langs,r=e.languages,n=e.followParams,a=e.$p;jml("form",{class:"focus",id:"languageSelectionContainer",$on:{submit:function(e){e.preventDefault()}}},[["select",{name:"lang",size:t.length,$on:{click:function(e){var t=e.target.parentNode.selectedOptions;n("#languageSelectionContainer",function(){a.set("lang",t[0].value,!0)})}}},t.map(function(e){var t=e.code;return["option",{value:t},[r.getLanguageFromCode(t)]]})]],body),history.state&&"object"===_typeof(history.state)&&deserialize(document.querySelector("#languageSelectionContainer"),history.state)}},workSelect=function(e){var t=e.groups,r=e.lf,n=e.getNextAlias,a=e.$p,o=e.followParams,i=jml("form",{id:"workSelect",class:"focus",$on:{submit:function(e){e.preventDefault()}}},t.map(function(e,t){return["div",[t>0?["br","br","br"]:"",["div",[r({key:e.directions.localeKey,fallback:!0})]],["br"],["select",{class:"file",name:"work"+t,dataset:{name:e.name.localeKey},$on:{change:function(e){var t=e.target.value;o("#workSelect",function(){a.set("work",t)})}}},[["option",{value:""},["--"]]].concat(_toConsumableArray(e.files.map(function(t){var a=t.name;return["option",{value:r(["workNames",e.id,a])},[n()]]})))]]]}),body);return history.state&&"object"===_typeof(history.state)&&deserialize(document.querySelector("#workSelect"),history.state),i},colors=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"],fonts=["Helvetica, sans-serif","Verdana, sans-serif","Gill Sans, sans-serif","Avantgarde, sans-serif","Helvetica Narrow, sans-serif","sans-serif","Times, serif","Times New Roman, serif","Palatino, serif","Bookman, serif","New Century Schoolbook, serif","serif","Andale Mono, monospace","Courier New, monospace","Courier, monospace","Lucidatypewriter, monospace","Fixed, monospace","monospace","Comic Sans, Comic Sans MS, cursive","Zapf Chancery, cursive","Coronetscript, cursive","Florence, cursive","Parkavenue, cursive","cursive","Impact, fantasy","Arnoldboecklin, fantasy","Oldtown, fantasy","Blippo, fantasy","Brushstroke, fantasy","fantasy"],nbsp2=nbsp.repeat(2),nbsp3=nbsp.repeat(3),getDataForSerializingParamsAsURL=function(){return{form:$("form#browse"),random:$("#rand")||{},checkboxes:$$("input[type=checkbox]")}},workDisplay={bdo:function(e){return["div",{style:"display: inline; direction: "+e.fallbackDirection},[e.message]]},columnsTable:function(e){var t=e.ld,r=e.fieldInfo,n=e.$p,a=e.le,o=e.iil,i=e.l,s=(e.metadataObj,e.preferredLocale,e.schemaItems,e.fieldMatchesLocale);return["table",{border:"1",cellpadding:"5",align:"center"},[["tr",[["th",[t("fieldno")]],["th",{align:"left",width:"20"},[t("field_enabled")]],["th",[t("field_title")]],["th",[t("fieldinterlin")]],["th",[t("fieldcss")]]]]].concat(_toConsumableArray(r.map(function(e,t){var s=t+1,u="checked"+s,l="field"+s,c=n.get(l);return["tr",[["td",[String(s)]],a("check-columns-to-browse","td","title",{},[a("yes","input","value",{class:"fieldSelector",id:u,name:o("checked")+s,checked:n.get(u)!==i("no")&&(n.has(u)||!1!==e.onByDefault),type:"checkbox"})]),a("check-sequence","td","title",{},[["select",{name:o("field")+s,id:l,size:"1"},r.map(function(e,r){var a=e.field,o=e.fieldAliasOrName;return["option",{dataset:{name:a},value:o,selected:c&&c===o||r===t&&!n.has(l)},[o]]})]]),["td",[a("interlinear-tips","input","title",{name:o("interlin")+s,value:n.get("interlin"+s)})]],["td",[["input",{name:o("css")+s,value:n.get("css"+s)}]]]]]})),[["tr",[["td",{colspan:3},[a("check_all","input","value",{type:"button",$on:{click:function(){$$(".fieldSelector").forEach(function(e){e.checked=!0})}}}),a("uncheck_all","input","value",{type:"button",$on:{click:function(){$$(".fieldSelector").forEach(function(e){e.checked=!1})}}}),a("checkmark_locale_fields_only","input","value",{type:"button",$on:{click:function(){r.forEach(function(e,t){e.field;var r=t+1,n=$("#field"+r).selectedOptions[0].dataset.name;$("#checked"+r).checked=s(n)})}}})]]]]])]},advancedFormatting:function(e){var t=e.ld,r=e.il,n=e.l,a=e.lo,o=e.le,i=e.$p;return["td",{id:"advancedformatting",style:{display:e.hideFormattingSection?"none":"block"}},[["h3",[t("advancedformatting")]],["label",[t("textcolor"),nbsp2,["select",{name:r("colorName")},colors.map(function(e,t){var r={value:n(["param_values","colors",e])};return(i.get("colorName")===n(["param_values","colors",e])||1===t&&!i.has("colorName"))&&(r.selected="selected"),a(["param_values","colors",e],r)})]]],["label",[nbsp,t("or_entercolor"),nbsp2,["input",{name:r("color"),type:"text",value:i.get("color")||"#",size:"7",maxlength:"7"}]]],["br"],["br"],["label",[t("backgroundcolor"),nbsp2,["select",{name:r("bgcolorName")},colors.map(function(e,t){var r={value:n(["param_values","colors",e])};return(i.get("bgcolorName")===n(["param_values","colors",e])||14===t&&!i.has("bgcolorName"))&&(r.selected="selected"),a(["param_values","colors",e],r)})]]],["label",[nbsp,t("or_entercolor"),nbsp2,["input",{name:r("bgcolor"),type:"text",value:i.get("bgcolor")||"#",size:"7",maxlength:"7"}]]],["br"],["br"],["label",[t("text_font"),nbsp2,["select",{name:r("fontSeq"),dir:"ltr"},fonts.map(function(e,t){var r={value:e};return(i.get("fontSeq")===e||7===t&&!i.has("fontSeq"))&&(r.selected="selected"),["option",r,[e]]})]]],["br"],["br"],["label",[t("font_style"),nbsp2,["select",{name:r("fontstyle")},["italic","normal","oblique"].map(function(e,t){var r={value:n(["param_values","fontstyle",e])};return(i.get("fontstyle")===n(["param_values","fontstyle",e])||1===t&&!i.has("fontstyle"))&&(r.selected="selected"),a(["param_values","fontstyle",e],r)})]]],["br"],["div",[t("font_variant"),nbsp3,["label",[["input",{name:r("fontvariant"),type:"radio",value:n(["param_values","fontvariant","normal"]),checked:i.get("fontvariant")!==t(["param_values","fontvariant","small-caps"])}],t(["param_values","fontvariant","normal"]),nbsp]],["label",[["input",{name:r("fontvariant"),type:"radio",value:n(["param_values","fontvariant","small-caps"]),checked:i.get("fontvariant")===t(["param_values","fontvariant","small-caps"])}],t(["param_values","fontvariant","small-caps"]),nbsp]]]],["br"],["label",[t("font_weight")," (normal, bold, 100-900, etc.):",nbsp2,["input",{name:r("fontweight"),type:"text",value:i.has("fontweight")?i.get("fontweight"):"normal",size:"7",maxlength:"12"}]]],["br"],["label",[t("font_size")," (14pt, 14px, small, 75%, etc.):",nbsp2,["input",{name:r("fontsize"),type:"text",value:i.get("fontsize"),size:"7",maxlength:"12"}]]],["br"],["label",{dir:"ltr"},[t("font_stretch"),nbsp,["select",{name:r("fontstretch")},["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"].map(function(e){var r={value:t(["param_values","font-stretch",e])};return(i.get("fontstretch")===e||!i.has("fontstretch")&&"normal"===e)&&(r.selected="selected"),["option",r,[t(["param_values","font-stretch",e])]]})]]],["br"],["br"],["label",[t("letter_spacing")," (normal, .9em, -.05cm): ",["input",{name:r("letterspacing"),type:"text",value:i.has("letterspacing")?i.get("letterspacing"):"normal",size:"7",maxlength:"12"}]]],["br"],["label",[t("line_height")," (normal, 1.5, 22px, 150%): ",["input",{name:r("lineheight"),type:"text",value:i.has("lineheight")?i.get("lineheight"):"normal",size:"7",maxlength:"12"}]]],["br"],["br"],o("tableformatting_tips","h3","title",{},[t("tableformatting")]),["div",[t("header_wstyles"),nbsp2].concat(_toConsumableArray([["yes",t(["param_values","y"])],["no",t(["param_values","n"])],["none",t(["param_values","0"])]].map(function(e,n,a){var o=_slicedToArray(e,2),s=o[0],u=o[1];return["label",[["input",{name:r("header"),type:"radio",value:u,checked:i.get("header")===u||!i.has("header")&&1===n}],t(s),n===a.length-1?"":nbsp3]]})))],["div",[t("footer_wstyles"),nbsp2].concat(_toConsumableArray([["yes",t(["param_values","y"])],["no",t(["param_values","n"])],["none",t(["param_values","0"])]].map(function(e,n,a){var o=_slicedToArray(e,2),s=o[0],u=o[1];return["label",[["input",{name:r("footer"),type:"radio",value:u,checked:i.get("footer")===u||!i.has("footer")&&2===n}],t(s),n===a.length-1?"":nbsp3]]})))],["label",[["input",{name:r("headerfooterfixed"),type:"checkbox",value:n("yes"),checked:i.get("headerfooterfixed")===n("yes")}],nbsp2,t("headerfooterfixed-wishtoscroll")]],["br"],["div",[t("caption_wstyles"),nbsp2].concat(_toConsumableArray([["yes",t(["param_values","y"])],["no",t(["param_values","n"])],["none",t(["param_values","0"])]].map(function(e,n,a){var o=_slicedToArray(e,2),s=o[0],u=o[1];return["label",[["input",{name:r("caption"),type:"radio",value:u,checked:i.get("caption")===u||!i.has("caption")&&2===n}],t(s),n===a.length-1?"":nbsp3]]})))],["br"],["div",[t("table_wborder"),nbsp2,["label",[["input",{name:r("border"),type:"radio",value:"1",checked:"0"!==i.get("border")}],t("yes"),nbsp3]],["label",[["input",{name:r("border"),type:"radio",value:"0",checked:"0"===i.get("border")}],t("no")]]]],["div",[t("interlin_repeat_field_names"),nbsp2,["label",[["input",{name:r("interlintitle"),type:"radio",value:"1",checked:"0"!==i.get("interlintitle")}],t("yes"),nbsp3]],["label",[["input",{name:r("interlintitle"),type:"radio",value:"0",checked:"0"===i.get("interlintitle")}],t("no")]]]],["label",[t("interlintitle_css"),nbsp2,["input",{name:r("interlintitle_css"),type:"text",value:i.get("interlintitle_css")||"",size:"12"}]]],["br"],["br"],o("pageformatting_tips","h3","title",{},[t("pageformatting")]),["label",[t("page_css"),nbsp2,["textarea",{name:r("pagecss"),title:n("page_css_tips"),value:i.get("pagecss")}]]],["br"],o("outputmode_tips","label","title",{},[t("outputmode"),nbsp2,["select",{name:r("outputmode")},["table","div"].map(function(e){var t={value:e};return i.get("outputmode")===e&&(t.selected="selected"),a(["param_values","outputmode",e],t)})]])]]},addRandomFormFields:function(e){var t=e.il,r=e.ld,n=e.l,a=e.le,o=e.$p,i=e.serializeParamsAsURL,s=e.content;[[["td",{colspan:12,align:"center"},[["br"],r("or"),["br"],["br"]]]],[["td",{colspan:12,align:"center"},[["label",[r("rnd"),nbsp3,["input",{id:"rand",name:t("rand"),type:"checkbox",value:n("yes"),checked:o.get("rand")===n("yes")}]]],nbsp3,["label",[r("verses-context"),nbsp,["input",{name:t("context"),type:"number",min:1,size:4,value:o.get("context")}]]],nbsp3,a("view-random-URL","input","value",{type:"button",$on:{click:function(){var e=i(_objectSpread({},getDataForSerializingParamsAsURL(),{type:"randomResult"}));$("#randomURL").value=e}}}),["input",{id:"randomURL",type:"text"}]]]]].forEach(function(e){e&&e.length&&s.push(["tr",e])})},getPreferences:function(e){e.languageParam,e.lf;var t=e.paramsSetter,r=e.replaceHash,n=e.getFieldAliasOrNames,a=e.work,o=e.langs,i=e.imfl,s=e.l,u=e.localizeParamNames,l=e.namespace,c=e.hideFormattingSection;e.groups;return["div",{style:{textAlign:"left"},id:"preferences",hidden:"true"},[["div",{style:"margin-top: 10px;"},[["label",[s("localizeParamNames"),["input",{id:"localizeParamNames",type:"checkbox",checked:u,$on:{change:function(e){var t=e.target.checked;localStorage.setItem(l+"-localizeParamNames",t)}}}]]]]],["div",[["label",[s("Hide formatting section"),["input",{id:"hideFormattingSection",type:"checkbox",checked:c,$on:{change:function(e){var t=e.target.checked;$("#advancedformatting").style.display=t?"none":"block",localStorage.setItem(l+"-hideFormattingSection",t)}}}]]]]],["div",[["label",{for:"prefLangs"},[s("Preferred language(s)")]],["br"],["select",{id:"prefLangs",multiple:"multiple",size:o.length,$on:{change:function(e){var t=e.target.selectedOptions;localStorage.setItem(l+"-langCodes",JSON.stringify(_toConsumableArray(t).map(function(e){return e.value})))}}},o.map(function(e){var t=localStorage.getItem(l+"-langCodes");t=t&&JSON.parse(t);var r={value:e.code};return t&&t.includes(e.code)&&(r.selected="selected"),["option",r,[i(["languages",e.code])]]})]]],["div",[["button",{title:s("bookmark_generation_tooltip"),$on:{click:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var o,i,u,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(new Date).getTime(),i=o,u=o,e.t0=Blob,e.t1=new XMLSerializer,e.t2=jml,e.t3={name:"NETSCAPE-Bookmark-file-1"},e.t4=s("Bookmarks"),e.t5=[["h1",[s("Bookmarks_Menu")]]],e.t6=_toConsumableArray,e.next=12,n();case 12:e.t7=function(e){var n=e.groupName,o=e.worksToFields;return[["dt",[["h3",{ADD_DATE:i,LAST_MODIFIED:u},[n]]]],["dl",[["p"]].concat(_toConsumableArray(o.map(function(e){var n=e.fieldAliasOrNames,o=e.workName,s=e.shortcut,l=t(_objectSpread({},getDataForSerializingParamsAsURL(),{fieldAliasOrNames:n,workName:a,type:"shortcutResult"}));return["dt",[["a",{href:r(l)+"&work=".concat(o,"&").concat(o,"-startEnd1=%s"),ADD_DATE:i,LAST_MODIFIED:u,SHORTCUTURL:s},[o]]]]})))]]},e.t8=e.sent.flatMap(e.t7),e.t9=(0,e.t6)(e.t8),e.t10=e.t5.concat.call(e.t5,e.t9),e.t11={$DOCTYPE:e.t3,title:e.t4,body:e.t10},e.t12={$document:e.t11},e.t13=(0,e.t2)(e.t12),e.t14=e.t1.serializeToString.call(e.t1,e.t13).replace(/<dt>/g,"\n<dt>"),e.t15=[e.t14],e.t16={type:"text/html"},l=new e.t0(e.t15,e.t16),c=window.URL.createObjectURL(l),jml("a",{hidden:!0,download:"bookmarks.html",href:c},body).click(),URL.revokeObjectURL(c);case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},[s("Generate_bookmarks")]]]]]]},addBrowseFields:function(e){var t,r=e.browseFields,n=e.fieldInfo,a=e.ld,o=e.i,i=e.iil,s=e.$p,u=e.content,l=s.get("work");[o>0?[["td",{colspan:12,align:"center"},[["br"],a("or"),["br"],["br"]]]]:"",_toConsumableArray((t=function(e){return r.reduce(function(t,r,n){var a=r.fieldName,u=r.aliases,c=r.fieldSchema,f=c.minimum,p=c.maximum,d=l+"-"+i(e)+(o+1)+"-"+(n+1),h=d;return t["#"].push(["td",[["label",{for:d},[a]]]],["td",[u?["datalist",{id:"dl-"+h},u.map(function(e){return["option",[e]]})]:"",u?["input",{name:d,id:h,class:"browseField",list:"dl-"+h,value:s.get(d,!0),$on:"start"===e?{change:function(e){$$("input.browseField").forEach(function(t){t.id.includes(o+1+"-"+(n+1))&&(t.value=e.target.value)})}}:void 0}]:["input",{name:d,id:h,type:"number",min:f,max:p,value:s.get(d,!0)}],nbsp3]]),t},{"#":[]})},[t("start"),["td",[["b",[a("to")]],nbsp3]],t("end")])).concat([["td",[r.length>1?a("versesendingdataoptional"):""]]]),[["td",{colspan:4*r.length+2+1,align:"center"},[["table",[["tr",[r.reduce(function(e,t,r){var n=t.fieldName,a=t.aliases,u=t.fieldSchema,c=u.minimum,f=u.maximum,p=l+"-"+i("anchor")+(o+1)+"-"+(r+1),d=p;return e["#"].push(["td",[["label",{for:p},[n]]]],["td",[a?["datalist",{id:"dl-"+d},a.map(function(e){return["option",[e]]})]:"",a?["input",{name:p,id:d,class:"browseField",list:"dl-"+d,value:s.get(p,!0)}]:["input",{name:p,id:d,type:"number",min:c,max:f,value:s.get(p,!0)}],nbsp2]]),e},{"#":[["td",{style:"font-weight: bold; vertical-align: bottom;"},[a("anchored-at")+nbsp3]]]}),["td",[["label",[a("field")+nbsp2,["select",{name:i("anchorfield")+(o+1),size:"1"},n.map(function(e){var t=e.fieldAliasOrName;return s.get(i("anchorfield")+(o+1),!0)===t?["option",{selected:!0},[t]]:["option",[t]]})]]]]]]]]]]]]].forEach(function(e){e&&e.length&&u.push(["tr",e])})},main:function(e){var t=e.lf,r=e.languageParam,n=e.l,a=e.namespace,o=e.heading,i=e.fallbackDirection,s=e.imfl,u=e.langs,l=e.fieldInfo,c=e.localizeParamNames,f=e.serializeParamsAsURL,p=e.paramsSetter,d=e.replaceHash,h=e.getFieldAliasOrNames,g=e.hideFormattingSection,m=e.$p,v=e.metadataObj,y=e.il,b=e.le,_=e.ld,w=e.iil,x=e.fieldMatchesLocale,k=e.preferredLocale,S=e.schemaItems,A=e.content,O=e.groups,E=m.get("work"),C=function(e){var t=e.type;return f(_objectSpread({},getDataForSerializingParamsAsURL(),{type:t}))};jml("div",{class:"focus"},[["div",{style:"float: left;"},[["button",{$on:{click:function(){var e=$("#preferences");e.hidden=!e.hidden}}},[n("Preferences")]],Templates.workDisplay.getPreferences({languageParam:r,lf:t,paramsSetter:p,replaceHash:d,getFieldAliasOrNames:h,work:E,langs:u,imfl:s,l:n,localizeParamNames:c,namespace:a,groups:O,hideFormattingSection:g})]],["h2",[o]],["br"],["form",{id:"browse",$custom:{$submit:function(){var e=C({type:"saveSettings"}).replace(/^[^#]*#/,"");console.log("history thisParams",e),history.replaceState(e,document.title,location.href);var t=C({type:"result"});location.href=t}},$on:{keydown:function(e){var t=e.key,r=e.target;"Enter"===t&&"textarea"!==r.localName.toLowerCase()&&this.$submit()},submit:function(e){e.preventDefault(),this.$submit()}},name:y("browse")},[["table",{align:"center"},A],["br"],["div",{style:"margin-left: 20px"},[["br"],["br"],["table",{border:"1",align:"center",cellpadding:"5"},[["tr",{valign:"top"},[["td",[Templates.workDisplay.columnsTable({ld:_,fieldInfo:l,$p:m,le:b,iil:w,l:n,metadataObj:v,preferredLocale:k,schemaItems:S,fieldMatchesLocale:x}),b("save-settings-URL","input","value",{type:"button",$on:{click:function(){var e=C({type:"saveSettings"});$("#settings-URL").value=e}}}),["input",{id:"settings-URL"}],["br"],["button",{$on:{click:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=p(_objectSpread({},getDataForSerializingParamsAsURL(),{workName:E,type:"startEndResult"})),n=d(r)+"&work=".concat(E,"&").concat(E,"-startEnd1=%s"),e.prev=3,e.next=6,navigator.clipboard.writeText(n);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t){return e.apply(this,arguments)}}()}},[n("Copy_shortcut_URL")]]]],Templates.workDisplay.advancedFormatting({ld:_,il:y,l:n,lo:function(e,t){return["option",t,[n({key:e,fallback:function(e){var r=e.message;return t.dir=i,r}})]]},le:b,$p:m,hideFormattingSection:g})]]]]]],["p",{align:"center"},[b("submitgo","input","value",{type:"submit"})]]]]],body)}},resultsDisplayServerOrClient={caption:function(e){return e.heading+" "+e.ranges},startSeparator:function(e){return(0,e.l)("colon")},innerBrowseFieldSeparator:function(e){return(0,e.l)("comma-space")},ranges:function(e){var t=e.l,r=e.startRange,n=e.endVals,a=e.rangeNames;return r+"-"+n.join(Templates.resultsDisplayServerOrClient.startSeparator({l:t}))+" ("+a+")"},fieldValueAlias:function(e){var t=e.key;return e.value+" ("+t+")"},interlinearSegment:function(e){var t=e.lang,r=e.dir,n=e.html;return"<span".concat(t?' lang="'.concat(t,'"'):"").concat(r?' dir="'.concat(r,'"'):"",">").concat(n,"</span>")},interlinearTitle:function(e){var t=e.l,r=e.val,n=t("colon-space");return'<span class="interlintitle">'.concat(r,"</span>").concat(n)},styles:function(e){var t=e.$p,r=e.$pRaw,n=e.$pRawEsc,a=e.$pEscArbitrary,o=(e.escapeQuotedCSS,e.escapeCSS),i=e.tableWithFixedHeaderAndFooter,s=e.checkedFieldIndexes,u=e.hasCaption,l=t.has("color",!0)&&"#"!==t.get("color",!0)?a("color"):n("colorName"),c=t.has("bgcolor",!0)&&"#"!==t.get("bgcolor",!0)?a("bgcolor"):n("bgcolorName"),f=1+(0+(u?2:0)),p=f+1+"em",d="100% - ".concat(p," - ").concat("2em"," - ").concat("0.5em"),h="calc(".concat(d,")"),g="calc(".concat(d," + ").concat("0.5em",")");return["style",[(i?"\nhtml, body, body > div {\n    height: 100%; /* Needed to ensure descendent heights retain 100%; could be avoided if didn't want percent on table height */\n    overflow-y: hidden; /* Not sure why we're getting extra here, but... */\n}\n.anchor-table-header {\n    background-color: ".concat(c||"white","; /* Header background (not just for div text inside header, but for whole header area) */\n    overflow-x: hidden; /* Not sure why we're getting extra here, but... */\n    position: relative; /* Ensures we are still flowing, but provides anchor for absolutely positioned thead below (absolute positioning positions relative to nearest non-static ancestor; clear demo at https://www.w3schools.com/cssref/playit.asp?filename=playcss_position&preval=fixed ) */\n    padding-top: ").concat(p,"; /* Provides space for the header (and caption) (the one that is absolutely positioned below relative to here) */\n    height: ").concat("100%","; /* Percent of the whole screen taken by the table */\n}\n.anchor-table-body {\n    overflow-y: auto; /* Provides scrollbars when text fills up beyond the height */\n    height: ").concat(h,"; /* If < 100%, the header anchor background color will seep below table */\n}\n\n.caption, .thead .th, .tfoot .th {\n    line-height: 0; /* th div will have own line-height; reducing here avoids fattening it by an inner div */\n    color: transparent; /* Hides the non-div duplicated header text */\n    white-space: nowrap; /* Ensures column header text uses up full width without overlap (esp. wrap no longer seems to work); this must be applied outside of the div */\n    border: none; /* We don't want a border for this invisible section */\n}\ndiv.inner-caption, .thead .th div.th-inner, .tfoot .th div.th-inner { /* divs are used as th is supposedly problematic */\n    position: absolute; /* Puts relative to nearest non-static ancestor (our relative header anchor) */\n    color: initial; /* Header must have an explicit color or it will get transparent container color */\n    line-height: normal; /* Revert ancestor line height of 0 */\n}\n.thead .th div.th-inner {\n    top: ").concat(f,"em; /* Ensures our header stays fixed at top outside of normal flow of table */\n}\ndiv.inner-caption {\n    top: ").concat(1,"em;\n}\n.tfoot .th div.th-inner { /* divs are used as th is supposedly problematic */\n    top: ").concat(g,"; /* Ensures our header stays fixed at top outside of normal flow of table */\n}\n.zupa div.zupa1 {\n    margin: 0 auto !important;\n    width: 0 !important;\n}\n.zupa div.th-inner, .zupa div.inner-caption {\n    width: 100%;\n    margin-left: -50%;\n    text-align: center;\n}\n"):"")+("y"===r("caption")?i?".caption div.inner-caption, ":".caption, ":"")+("y"===r("header")?i?"":".thead .th, ":"")+("y"===r("footer")?i?"":".tfoot .th, ":"")+".tbody td"+" {\n    vertical-align: top;\n    font-style: ".concat(n("fontstyle"),";\n    font-variant: ").concat(n("fontvariant"),";\n    font-weight: ").concat(a("fontweight"),";\n    ").concat(a("fontsize")?"font-size: ".concat(a("fontsize"),";"):"","\n    font-family: ").concat(a("fontSeq"),";\n\n    font-stretch: ").concat(n("fontstretch"),";\n    letter-spacing: ").concat(a("letterspacing"),";\n    line-height: ").concat(a("lineheight"),";\n    ").concat(l?"color: ".concat(o(l),";"):"","\n    ").concat(c?"background-color: ".concat(o(c),";"):"","\n}\n").concat(o(a("pagecss")||""),"\n")+s.map(function(e,t){return("y"===r("header")?".thead .th:nth-child(".concat(t+1,i?") div.th-inner, ":"), "):"")+("y"===r("footer")?".tfoot .th:nth-child(".concat(t+1,i?") div.th-inner, ":"), "):"")+".tbody td:nth-child(".concat(t+1,") ")+"{\n    ".concat(a("css"+(e+1)),"\n}\n")}).join("")+(a("interlintitle_css")?"\n/* http://salzerdesign.com/test/fixedTable.html */\n.interlintitle {\n    ".concat(o(a("interlintitle_css")),"\n}\n"):"")+(c?"\nbody {\n    background-color: ".concat(c,";\n}\n"):"")]]},main:function(e){var t=e.tableData,r=e.$p,n=e.$pRaw,a=e.$pRawEsc,o=e.$pEscArbitrary,i=e.escapeQuotedCSS,s=e.escapeCSS,u=e.escapeHTML,l=e.l,c=e.localizedFieldNames,f=e.fieldLangs,p=e.fieldDirs,d=e.caption,h=e.hasCaption,g=e.showInterlinTitles,m=e.determineEnd,v=e.getCanonicalID,y=e.canonicalBrowseFieldSetName,b=e.getCellValue,_=e.checkedAndInterlinearFieldInfo,w=e.interlinearSeparator,x=void 0===w?"<br /><br />":w,k={table:[["table",{class:"table",border:n("border")||"0"}],["tr",{class:"tr"}],["td"],["th",{class:"th"}],["caption",{class:"caption"}],["thead",{class:"thead"}],["tbody",{class:"tbody"}],["tfoot",{class:"tfoot"}]],div:[["div",{class:"table",style:"display: table;"}],["div",{class:"tr",style:"display: table-row;"}],["div",{class:"td",style:"display: table-cell;"}],["div",{class:"th",style:"display: table-cell;"}],["div",{class:"caption",style:"display: table-caption;"}],["div",{class:"thead",style:"display: table-header-group;"}],["div",{class:"tbody",style:"display: table-row-group;"}],["div",{class:"tfoot",style:"display: table-footer-group;"}]],"json-array":"json","json-object":"json"},S=r.get("outputmode",!0),A=k[Object.keys(k).includes(S)?S:"table"];if("json"===A)throw new Error("JSON support is currently not available");var O,E=_slicedToArray(A,8),C=E[0],T=E[1],j=E[2],P=E[3],F=E[4],$=E[5],N=E[6],D=E[7],L=_slicedToArray(_,3),R=L[0],I=L[1],M=L[2],U="yes"===n("headerfooterfixed"),z=function(e,t){return(e=JSON.parse(JSON.stringify(e))).push(t),e},q=function(e,t){var r=_slicedToArray(e,2);return[r[0],_objectSpread({},r[1],t)]},W={start:!1,end:!1},B=[],H=this.showEmptyInterlinear,V=this.showTitleOnSingleInterlinear,G=function(e,t){if(!H&&(t||(_toConsumableArray((e=(new DOMParser).parseFromString(e,"text/html").body).querySelectorAll("br")).forEach(function(e){e.remove()}),e=e.innerHTML),!e.trim()))return!0};return t.some(function(e,t){var r=m({tr:e,foundState:W});if("boolean"==typeof r)return r;var n=v({tr:e});return B.push(z(q(T,{dataset:{row:r,"canonical-type":y,"canonical-id":n}}),I.map(function(r,n){var a=M[n],o=a,i=b({tr:e,idx:r}),s=i.tdVal,u=i.htmlEscaped,d=o&&a.map(function(t){var r=b({tr:e,idx:t}),n=r.tdVal,a=r.htmlEscaped;return console.log("showEmptyInterlinear",H,a),G(n,a)?"":o?Templates.resultsDisplayServerOrClient.interlinearSegment({lang:f[t],dir:p[t],html:(g?Templates.resultsDisplayServerOrClient.interlinearTitle({l:l,val:c[t]}):"")+n}):n}).filter(function(e){return""!==e});return q(j,{id:"row"+(t+1)+"col"+(n+1),lang:f[r],dir:p[r],dataset:{col:c[r]},innerHTML:(o&&!G(s,u)&&(V||d.length)?Templates.resultsDisplayServerOrClient.interlinearSegment({lang:f[r],html:(g?Templates.resultsDisplayServerOrClient.interlinearTitle({l:l,val:c[r]}):"")+s}):s)+(a&&d.length?x+d.join(x):"")})}))),!1}),["div",[Templates.resultsDisplayServerOrClient.styles({$p:r,$pRaw:n,$pRawEsc:a,$pEscArbitrary:o,escapeQuotedCSS:i,escapeCSS:s,tableWithFixedHeaderAndFooter:U,checkedFieldIndexes:I,hasCaption:h}),(O=[z(C,[d?z(F,[d,U?["div",{class:"zupa1"},[["div",{class:"inner-caption"},[["span",[d]]]]]]:""]):"","0"!==n("header")?z($,[z(T,R.map(function(e,t){var r=M[t];return e=u(e)+(r?l("comma-space")+r.map(function(e){return c[e]}).join(l("comma-space")):""),z(P,[e,U?["div",{class:"zupa1"},[["div",{class:"th-inner"},[["span",[e]]]]]]:""])}))]):"",n("footer")&&"0"!==n("footer")?z(D,[z(T,R.map(function(e,t){var r=M[t];return e=u(e)+(r?l("comma-space")+r.map(function(e){return c[e]}).join(l("comma-space")):""),z(P,[e,U?["div",{class:"zupa1"},[["div",{class:"th-inner"},[["span",[e]]]]]]:""])}))]):"",z(N,B)])],U?["div",{class:"table-responsive anchor-table-header zupa"},[["div",{class:"table-responsive anchor-table-body"},O]]]:["div",{class:"table-responsive"},O])]]}},resultsDisplayClient={anchorRowCol:function(e){var t=e.anchorRowCol;return $("#"+t)},anchors:function(e){var t=e.escapedRow,r=e.escapedCol;return $('tr[data-row="'+t+'"]'+(r?'> td[data-col="'+r+'"]':""))},main:function(){var e;try{var t;e=(t=Templates.resultsDisplayServerOrClient).main.apply(t,arguments)}catch(e){"JSON support is currently not available"===e.message&&dialogs.alert(e.message)}jml.apply(void 0,_toConsumableArray(e).concat([body]))}},Templates={languageSelect:languageSelect,workSelect:workSelect,workDisplay:workDisplay,resultsDisplayServerOrClient:resultsDisplayServerOrClient,resultsDisplayClient:resultsDisplayClient,defaultBody:function(){for($("html").style.height="100%";body.hasChildNodes();)body.firstChild.remove();return jml(body,{style:"height: 100%;"})}};function _prepareParam(e,t){if(t||!this.localizeParamNames)return e;var r=/\d+(-\d+)?$/,n=e.match(r);return n?this.l10n(["params","indexed",e.replace(r,"")])+n[0]:this.l10n(["params",e])}Templates.permissions={versionChange:function(){$("#versionChange").showModal()},addLogEntry:function(e){var t=e.text,r=$("#installationLogContainer");try{r.showModal(),$("#dialogContainer").hidden=!1}catch(e){}$("#installationLog").append(t+"\n")},exitDialogs:function(){var e=$("#dialogContainer");e&&(e.hidden=!0)},dbError:function(e){var t=e.type,r=e.escapedErrorMessage;t&&jml("span",[t," ",r],$("#dbError")),$("#dbError").showModal()},errorRegistering:function(e){e&&jml("span",[e],$("#errorRegistering")),$("#errorRegistering").showModal()},browserNotGrantingPersistence:function(){$("#browserNotGrantingPersistence").showModal()},main:function(e){var t=e.l,r=e.ok,n=e.refuse,a=e.close,o=e.closeBrowserNotGranting,i=jml("dialog",{style:"text-align: center; height: 100%",id:"installationLogContainer",class:"focus"},[["p",[t("wait-installing")]],["div",{style:"height: 80%; overflow: auto;"},[["pre",{id:"installationLog"},[]]]]]),s="";r&&(s=jml("dialog",{id:"willRequestStoragePermissions",$on:{close:a}},[["section",[t("will-request-storage-permissions")]],["br"],["div",{class:"focus"},[["button",{$on:{click:r}},[t("OK")]],["br"],["br"],["button",{$on:{click:n}},[t("refuse-request-storage-permissions")]]]]]));var u=jml("dialog",{id:"errorRegistering"},[["section",[t("errorRegistering")]]]),l="";o&&(l=jml("dialog",{id:"browserNotGrantingPersistence"},[["section",[t("browser-not-granting-persistence")]],["br"],["div",{class:"focus"},[["button",{$on:{click:o}},[t("OK")]]]]]));var c=jml("dialog",{id:"versionChange"},[["section",[t("versionChange")]]]),f=jml("dialog",{id:"dbError"},[["section",[t("dbError")]]]);return jml("div",{id:"dialogContainer",style:"height: 100%"},[i,s,l,u,c,f],body),[i,s,l,u,c,f]}};var IntlURLSearchParams=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.l10n,n=t.params;_classCallCheck(this,e),this.l10n=r,n||(n=location.hash.slice(1)),"string"==typeof n&&(n=new URLSearchParams(n)),this.params=n}return _createClass(e,[{key:"get",value:function(e,t){return this.params.get(_prepareParam.call(this,e,t))}},{key:"getAll",value:function(e,t){return this.params.getAll(_prepareParam.call(this,e,t))}},{key:"has",value:function(e,t){return this.params.has(_prepareParam.call(this,e,t))}},{key:"delete",value:function(e,t){return this.params.delete(_prepareParam.call(this,e,t))}},{key:"set",value:function(e,t,r){return this.params.set(_prepareParam.call(this,e,r),t)}},{key:"append",value:function(e,t,r){return this.params.append(_prepareParam.call(this,e,r),t)}},{key:"toString",value:function(){return this.params.toString()}}]),e}();function workSelect$1(e){return _workSelect.apply(this,arguments)}function _workSelect(){return(_workSelect=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,u,l,c,f,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.files,n=t.lang,a=t.fallbackLanguages,o=t.$p,i=t.followParams,e.prev=1,e.next=4,getJSON(r);case 4:return s=e.sent,u=function(e){return s["localization-strings"][e]},e.next=8,getJSON(s.groups.reduce(function(e,t){var r=(s.metadataBaseDirectory||"")+(t.metadataBaseDirectory||"")+"/";return t.files.reduce(function(e,t){return e.concat(r+t.metadataFile)},e)},[]));case 8:l=e.sent,c=IMFClass({locales:n.map(u),fallbackLocales:a.map(u)}),f=c.getFormatter(),document.title=f({key:"browserfile-workselect",fallback:!0}),p=l[Symbol.iterator](),d=function(){var e=p.next().value;return getMetaProp(n,e,"alias")},Templates.workSelect({groups:s.groups,lf:f,getNextAlias:d,$p:o,followParams:i}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),dialogs.alert(e.t0);case 20:case"end":return e.stop()}},e,this,[[1,17]])}))).apply(this,arguments)}var self$1,replaceHash=function(e){return location.href.replace(/#.*$/,"")+"#"+e.toString()},getSerializeParamsAsURL=function(){var e=getParamsSetter.apply(void 0,arguments);return function(){var t=e.apply(void 0,arguments);return replaceHash(t)}},getParamsSetter=function(e){var t=e.l,r=e.il,n=e.$p;return function(e){var a=e.form,o=e.random,i=void 0===o?{}:o,s=e.checkboxes,u=e.type,l=e.fieldAliasOrNames,c=void 0===l?[]:l,f=e.workName,p=new URLSearchParams(n.params),d=serialize(a,{hash:!0,empty:!0});function h(){for(var e=1,t=1;p.has("".concat(f,"-start").concat(e,"-").concat(t),!0);){for(;p.has("".concat(f,"-start").concat(e,"-").concat(t),!0);)p.delete("".concat(f,"-start").concat(e,"-").concat(t),!0),p.delete("".concat(f,"-end").concat(e,"-").concat(t),!0),p.delete("".concat(f,"-anchor").concat(e,"-").concat(t),!0),t++;t=1,e++}}switch(Object.keys(d).forEach(function(e){p.set(e,d[e])}),p.delete(r("rand")),p.set(r("rand"),i.checked?t("yes"):t("no")),s.forEach(function(e){p.delete(e.name),e.name&&p.set(e.name,e.checked?t("yes"):t("no"))}),u){case"saveSettings":p.delete(r("rand"));break;case"shortcutResult":p.delete(r("rand"));for(var g=1;p.has("anchorfield".concat(g),!0);)p.delete("anchorfield".concat(g),!0),g++;for(h(),g=1;p.has("field".concat(g),!0);)p.delete("field".concat(g),!0),p.delete("checked".concat(g),!0),p.delete("interlin".concat(g),!0),p.delete("css".concat(g),!0),g++;c.forEach(function(e,r){p.set("field".concat(r+1),e,!0),p.set("checked".concat(r+1),t("yes"),!0),p.set("interlin".concat(r+1),""),p.set("css".concat(r+1),"")}),p.delete("work",!0);case"startEndResult":case"randomResult":case"result":"startEndResult"===u&&h(),("randomResult"===u||i.checked)&&(p.delete(r("rand")),p.set(r("rand"),t("yes"))),p.set(r("result"),t("yes"));break;default:console.error("Unexpected type",u)}return p}};function workDisplay$1(e){return _workDisplay.apply(this,arguments)}function _workDisplay(){return(_workDisplay=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,u,l,c,f,p,d,h,g,m,v,y,b,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(){return(m=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var f,d,g,m,v,y,b,_,w,x,k,S,A,O,E,C,T,j,P,F,$,N,D,L=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.lf,d=t.metadataObj,g=t.getFieldAliasOrName,t.schemaObj,m=t.schemaItems,v=t.fieldInfo,y=t.metadata,b=t.pluginsForWork,_=t.groupsToWorks,w=p?function(e){return r(["params",e])}:function(e){return e},x=p?function(e){return r(["params","indexed",e])}:function(e){return e},k=i.localeFromLangData.bind(i),S=IMFClass({locales:a.map(k),fallbackLocales:s.map(k)}),A=S.getFormatter(),O=function(e,t,n,a,o){return a[n]=r({key:e,fallback:function(e){var t=e.message;return a.dir=c,t}}),[t,a,o]},E=function(e,t,n){return r({key:e,values:t,formats:n,fallback:function(e){var t=e.message;return Templates.workDisplay.bdo({fallbackDirection:c,message:t})}})},C=y.getFieldMatchesLocale({namespace:this.namespace,preferredLocale:o,schemaItems:m,pluginsForWork:b}),T=[],this.getBrowseFieldData({metadataObj:d,schemaItems:m,getFieldAliasOrName:g,callback:function(e){var t=e.browseFields,r=e.i;Templates.workDisplay.addBrowseFields({browseFields:t,fieldInfo:v,ld:E,i:r,iil:x,$p:u,content:T})}}),j=getSerializeParamsAsURL({l:r,il:w,$p:u}),P=getParamsSetter({l:r,il:w,$p:u}),e.next=15,getJSON(this.files);case 15:F=e.sent,$=F.groups,N=getMetaProp(a,d,"heading"),D=function(){var e=Promise.all(_.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.workNames,u=t.shortcuts,e.next=3,Promise.all(n.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=u[r],e.next=4,L.getWorkData({lang:a,fallbackLanguages:s,preferredLocale:o,languages:i,work:t});case 4:return e.t2=function(e){return e.fieldAliasOrName},e.t3=e.sent.fieldInfo.map(e.t2),e.abrupt("return",{workName:e.t0,shortcut:e.t1,fieldAliasOrNames:e.t3});case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()));case 3:return l=e.sent,e.abrupt("return",{groupName:r,worksToFields:l});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},t,this)}))}(),Templates.workDisplay.main({languageParam:n,lang:a,lf:f,l:r,namespace:this.namespace,groups:$,heading:N,imfl:A,fallbackDirection:c,langs:l,fieldInfo:v,localizeParamNames:p,serializeParamsAsURL:j,paramsSetter:P,replaceHash:replaceHash,getFieldAliasOrNames:D,hideFormattingSection:h,$p:u,metadataObj:d,il:w,le:O,ld:E,iil:x,fieldMatchesLocale:C,preferredLocale:o,schemaItems:m,content:T});case 20:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},g=function(e){return m.apply(this,arguments)},r=t.l,n=t.languageParam,a=t.lang,o=t.preferredLocale,i=t.languages,s=t.fallbackLanguages,u=t.$p,l=this.langData.languages,c=this.getDirectionForLanguageCode(s[0]),f=localStorage.getItem(this.namespace+"-localizeParamNames"),p=u.localizeParamNames=u.has("i18n",!0)?"1"===u.get("i18n",!0):"true"===f||"false"!==f&&this.localizeParamNames,d=localStorage.getItem(this.namespace+"-hideFormattingSection"),h=u.has("formatting",!0)?"0"===u.get("formatting",!0):"true"===d||"false"!==d&&this.hideFormattingSection,e.prev=9,e.next=12,this.getWorkData({lang:a,fallbackLanguages:s,preferredLocale:o,languages:i,work:u.get("work")});case 12:return v=e.sent,y=v.lf,b=v.fileData,_=v.metadataObj,w=_objectWithoutProperties(v,["lf","fileData","metadataObj"]),document.title=y({key:"browserfile-workdisplay",values:{work:b?getMetaProp(a,_,"alias"):""},fallback:!0}),e.next=20,g.call(this,_objectSpread({lf:y,metadataObj:_},w));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),dialogs.alert(e.t0);case 25:case"end":return e.stop()}},e,this,[[9,22]])}))).apply(this,arguments)}var RtlDetectLib=self$1={_escapeRegExpPattern:function(e){return"string"!=typeof e?e:e.replace(/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,"\\$1")},_toLowerCase:function(e,t){return"string"!=typeof e?t&&e:e.toLowerCase()},_toUpperCase:function(e,t){return"string"!=typeof e?t&&e:e.toUpperCase()},_trim:function(e,t,r){var n,a=[],o=function(e){a.push("^"+e+"+|"+e+"+$")};if("boolean"==typeof t&&(r=t,t=null),"string"!=typeof e)return r&&e;if(Array.isArray(t)&&t.map(function(e){var t=self$1._escapeRegExpPattern(e);o(t)}),"string"==typeof t){var i=self$1._escapeRegExpPattern(t);o(i)}t||o("\\s");var s="("+a.join("|")+")";for(n=new RegExp(s,"g");e.match(n);)e=e.replace(n,"");return e},_parseLocale:function(e){var t,r=/^([a-zA-Z]*)([_\-a-zA-Z]*)$/.exec(e);if(e&&r)return r[2]=self$1._trim(r[2],["-","_"]),{lang:self$1._toLowerCase(r[1]),countryCode:t=self$1._toUpperCase(r[2])||t}},isRtlLang:function(e){var t=self$1._parseLocale(e);if(t)return self$1._BIDI_RTL_LANGS.indexOf(t.lang)>=0},getLangDir:function(e){return self$1.isRtlLang(e)?"rtl":"ltr"}};Object.defineProperty(self$1,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1});var rtlDetect=RtlDetectLib,rtlDetect_1={isRtlLang:rtlDetect.isRtlLang,getLangDir:rtlDetect.getLangDir},rtlDetect_3=rtlDetect_1.getLangDir,fieldValueAliasRegex=/^.* \((.*?)\)$/,getRawFieldValue=function(e){return"string"==typeof e?e.replace(fieldValueAliasRegex,"$1"):e},setAnchor=function(e){var t,r=e.applicableBrowseFieldSet,n=e.fieldValueAliasMapPreferred,a=e.ilRaw,o=e.iil,i=e.max,s=e.$p,u=r.map(function(e){return e.fieldSchemaIndex}),l=s.get("work"),c=a("anchorrowcol");if(c&&(t=Templates.resultsDisplayClient.anchorRowCol({anchorRowCol:c})),!t){for(var f,p=[],d="",h=1;!f&&!p.length;h++)for(var g=1;;g++){var m=l+"-anchor"+h+"-"+g,v=s.get(m,!0);if(!v){(h===i||p.length)&&(f=!0);break}d=s.get(o("anchorfield")+h,!0);var y=u[g-1],b=getRawFieldValue(v),_=n[y]&&n[y][b];p.push(_||v)}if(p.length){var w=function(e){return(e||"").replace(/["\\]/g,"\\$&")},x=w(p.join("-")),k=d?w(d):void 0;t=Templates.resultsDisplayClient.anchors({escapedRow:x,escapedCol:k})}}t&&t.scrollIntoView()},resultsDisplayClient$1=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,u,l,c,f,p,d,h,g,m,v,y=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.storage.persisted();case 2:return r=e.sent,n=this.skipIndexedDB||!r||!navigator.serviceWorker.controller,a=localStorage.getItem(this.namespace+"-localizeParamNames"),e.next=7,resultsDisplayServerOrClient$1.call(this,_objectSpread({},t,{skipIndexedDB:n,prefI18n:a}));case 7:o=e.sent,i=o.fieldInfo,s=o.$p,u=o.browseFieldSets,l=o.applicableBrowseFieldSet,c=o.lang,f=o.metadataObj,p=o.fileData,d=o.fieldValueAliasMapPreferred,h=o.lf,g=o.iil,m=o.ilRaw,v=o.templateArgs,document.title=h({key:"browserfile-resultsdisplay",values:{work:p?getMetaProp(c,f,"alias"):""},fallback:!0}),Templates.resultsDisplayClient.main(v),setAnchor({applicableBrowseFieldSet:l,fieldValueAliasMapPreferred:d,iil:g,ilRaw:m,$p:t.$p,max:u.length}),i.forEach(function(e){var t=e.plugin,r=e.applicableField,n=e.meta,a=e.j;t&&t.done&&t.done({$p:s,applicableField:r,meta:n,j:a,thisObj:y})});case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),resultsDisplayServer=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,resultsDisplayServerOrClient$1.call(this,_objectSpread({},t));case 2:r=e.sent,n=r.templateArgs,e.t0=t.serverOutput,e.next="json"===e.t0?7:"jamilih"===e.t0?8:"html"===e.t0?9:7;break;case 7:return e.abrupt("return",n.tableData);case 8:return e.abrupt("return",Templates.resultsDisplayServerOrClient.main(n));case 9:return a=Templates.resultsDisplayServerOrClient.main(n),e.abrupt("return",jml.toHTML.apply(jml,_toConsumableArray(a)));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),resultsDisplayServerOrClient$1=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,u,l,c,f,p,d,h,g,m,v,y,b,_,w,x,k,S,A,O,E,C,T,j,P,F,$,N,D,L,R,I,M,U,z,q,W,B,H,V,G,J,X,Y,K,Z,Q,ee,te,re,ne,ae,oe,ie,se,ue,le,ce,fe,pe,de,he,ge,me,ve,ye,be,_e,we,xe,ke,Se,Ae,Oe,Ee,Ce,Te,je,Pe,Fe,$e,Ne,De,Le,Re,Ie,Me,Ue=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.l,n=t.lang,a=t.fallbackLanguages,o=t.imfLocales,i=t.$p,s=t.skipIndexedDB,u=t.noIndexedDB,l=t.prefI18n,c=t.files,f=t.allowPlugins,p=t.langData,d=t.basePath,h=void 0===d?"":d,g=t.dynamicBasePath,m=void 0===g?"":g,v=new Languages({langData:p}),y=function(e){var t=e.fieldValueAliasMapPreferred,n=e.escapeColumnIndexes;return function(e){var a=e.tr,o=e.idx,i=void 0!==t[o]?t[o][a[o]]:a[o];return i&&"object"===_typeof(i)&&(i=Object.values(i)),Array.isArray(i)&&(i=i.join(r("comma-space"))),!n[o]&&Ue.trustFormatHTML||"string"!=typeof i?{tdVal:i}:{tdVal:escapeHTML(i),htmlEscaped:!0}}},b=function(e){var t=e.fieldValueAliasMap,r=e.fieldValueAliasMapPreferred,n=e.localizedFieldNames,a=e.canonicalBrowseFieldNames;return function(e){var o=e.tr;e.foundState;return a.map(function(e){var a=n.indexOf(e);return void 0!==t[a]?r[a][o[a]]:o[a]}).join("-")}},_=function(e){var t=e.fieldValueAliasMap,r=e.fieldValueAliasMapPreferred,n=e.localizedFieldNames,a=e.applicableBrowseFieldNames,o=e.startsRaw,i=e.endsRaw;return function(e){var s=e.tr,u=e.foundState,l=[],c=a.map(function(e){var a=n.indexOf(e);return void 0!==t[a]?l.push(r[a][s[a]]):l.push(s[a]),s[a]});if(!u.start){if(o.some(function(e,t){return e!==c[t]}))return!1;u.start=!0}if(i.every(function(e,t){return e===c[t]}))u.end=!0;else if(u.end)return!0;return l.join("-")}},w=function(e){var t,n,a=e.localizedFieldNames,o=1,s=[];do{t=i.get("field"+o,!0),n=i.get("checked"+o,!0),o++,!t||n!==r("yes")&&null!==n||s.push(t)}while(t);var u=(s=s.filter(function(e){return a.includes(e)})).map(function(e){return a.indexOf(e)}),l=u.map(function(e,t){var r=i.get("interlin"+(e+1),!0);return r&&r.split(/\s*,\s*/).map(function(e){return parseInt(e)-1}).filter(function(e){return!Number.isNaN(e)})});return[s,u,l]},x=function(e){var t,n,a,o,i=e.starts,s=e.ends,u=e.applicableBrowseFieldNames,l=e.heading,c="0"!==A("caption");if(c){var f=Templates.resultsDisplayServerOrClient.startSeparator({l:r}),p=Templates.resultsDisplayServerOrClient.innerBrowseFieldSeparator({l:r}),d=(n=[],a=i.reduce(function(e,t,r){var a=e+t;return t===s[r]?a+(r>0?p:" "):(n.push(s[r]),a+f)},"").slice(0,-f.length),o=u.join(p),escapeHTML(Templates.resultsDisplayServerOrClient.ranges({l:r,startRange:a,endVals:n,rangeNames:o})));t=Templates.resultsDisplayServerOrClient.caption({heading:l,ranges:d})}return[c,t]},k=function(e){var t=e.presort,r=e.tableData,n=e.applicableBrowseFieldNames,a=e.localizedFieldNames;t&&r.sort(function(e,t){var r;return n.some(function(n){var o=a.indexOf(n),i=e[o]<t[o],s=e[o]>t[o];return r=s?1:-1,i||s}),r})},S=function(e){var t=e.schemaItems,r=e.fieldInfo,a=e.metadataObj,o=e.getFieldAliasOrName,i=e.usePreferAlias;return r.map(function(e){var r=e.field;if(!e.plugin){var s=getFieldNameAndValueAliases({field:r,schemaItems:t,metadataObj:a,getFieldAliasOrName:o,lang:n}),u=s.preferAlias,l=s.fieldValueAliasMap;return i?l?(Object.entries(l).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];Array.isArray(n)?l[r]=n.map(function(e){return Templates.resultsDisplayServerOrClient.fieldValueAlias({key:r,value:e})}):n&&"object"===_typeof(n)?"string"==typeof u?l[r]=Templates.resultsDisplayServerOrClient.fieldValueAlias({key:r,value:n[u]}):Object.entries(n).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];l[r][n]=Templates.resultsDisplayServerOrClient.fieldValueAlias({key:r,value:a})}):l[r]=Templates.resultsDisplayServerOrClient.fieldValueAlias({key:r,value:n})}),!1!==u?l:void 0):void 0:!1!==u?l:void 0}})},A=function(e,t){var r,n=i.get(e,!0);return function e(t){return Array.isArray(t)?t.some(e):Object.values(t).some(function(a,o){return"string"!=typeof a?e(a):a===n&&(r=Object.keys(t)[o],!0)})}(o),r||t||console.log("Bad param/value",e,"::",n),r},O=function(e){return e.replace(/"/g,'\\"')},E=escapeHTML,C=function(e){return escapeHTML(A(e))},T=function(e){return escapeHTML(i.get(e,!0))},e.next=16,getWorkData({files:c||this.files,allowPlugins:f||this.allowPlugins,lang:n,fallbackLanguages:a,work:i.get("work"),basePath:h});case 16:if(j=e.sent,P=j.fileData,F=j.lf,$=j.getFieldAliasOrName,N=j.schemaObj,D=j.metadataObj,L=j.pluginsForWork,console.log("pluginsForWork",L),R=getMetaProp(n,D,"heading"),I=N.items.items,M=[],U=[],z=[],getBrowseFieldData({metadataObj:D,schemaItems:I,getFieldAliasOrName:$,lang:n,callback:function(e){var t=e.setName,r=e.browseFields,n=e.presort;M.push(t),U.push(n),z.push(r)}}),q=I.map(function(e){var t=e.title,r=e.format;return{field:t,fieldAliasOrName:$(t)||t,escapeColumn:"html"!==r,fieldLang:D.fields[t].lang}}),W=_slicedToArray(n,1),B=W[0],H=new Metadata({metadataObj:D}),L&&(console.log("pluginsForWork",L),V=this.lang,L.iterateMappings(function(e){e.plugin;var t=e.pluginName,r=e.pluginLang,n=e.onByDefaultDefault,a=e.placement,o=e.applicableFields,i=e.meta;a="end"===a?1/0:a;var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.applicableField,s=e.targetLanguage,u=e.onByDefault,l=e.metaApplicableField,c=L.getPluginObject(t)||{},f=H.getFieldLang(o);c.getTargetLanguage&&(s=c.getTargetLanguage({applicableField:o,targetLanguage:s,pluginLang:r,applicableFieldLang:f})),"{locale}"===s&&(s=B);var p=getMetaProp(V,D,["fieldnames",o]),d=c.getFieldAliasOrName?c.getFieldAliasOrName({locales:V,lf:F,targetLanguage:s,applicableField:o,applicableFieldI18N:p,meta:i,metaApplicableField:l,targetLanguageI18N:v.getLanguageFromCode(s)}):v.getFieldNameFromPluginNameAndLocales({pluginName:t,locales:V,lf:F,targetLanguage:s,applicableFieldI18N:p,meta:i,metaApplicableField:l});q.splice(a,0,{plugin:c,meta:i,placement:a,fieldAliasOrName:d,escapeColumn:!1!==c.escapeColumn,onByDefault:"boolean"==typeof u?u:n||!1,applicableField:o,metaApplicableField:l,fieldLang:s})};L.processTargetLanguages(o,s)||s()})),G=q.map(function(e){return e.fieldAliasOrName}),J=q.map(function(e){return e.escapeColumn}),X=q.map(function(e){var t=e.fieldLang;return t!==B?t:null}),Y=S({schemaItems:I,fieldInfo:q,metadataObj:D,getFieldAliasOrName:$,usePreferAlias:!1}),K=S({schemaItems:I,fieldInfo:q,metadataObj:D,getFieldAliasOrName:$,usePreferAlias:!0}),Z=i.localizeParamNames=i.has("i18n",!0)?"1"===i.get("i18n",!0):"true"===l||"false"!==l&&this.localizeParamNames,Q=Z?function(e){return r(["params",e])}:function(e){return e},ee=Z?function(e){return r(["params","indexed",e])}:function(e){return e},te=Z?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.get(Q(e)+t,!0)}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.get(e+t,!0)},re=Z?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.get(i.get("work")+"-"+ee(e)+t,!0)}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.get(i.get("work")+"-"+e+t,!0)},-1!==(ne=z.findIndex(function(e,t){return re("startEnd",t+1)}))&&("-",":",ae=(re("startEnd",ne+1)||"").trim(),oe=ae.split("-"),ie=_slicedToArray(oe,2),se=ie[0],void 0!==(ue=ie[1])&&(le=se.split(":"),ce=ue.split(":"),(fe=le.length-ce.length)>0?ce.unshift.apply(ce,_toConsumableArray(le.slice(0,fe))):fe<0&&le.push.apply(le,_toConsumableArray(new Array(-fe).fill("1"))),console.log("startPartVals",le),console.log("endPartVals",ce),le.forEach(function(e,t){var r=ce[t];i.set("".concat(i.get("work"),"-start").concat(ne+1,"-").concat(t+1),e,!0),i.set("".concat(i.get("work"),"-end").concat(ne+1,"-").concat(t+1),r,!0)}))),pe=z.findIndex(function(e,t){return re("start",t+1+"-1")}),de=z[pe],he=M[pe],ge=de.map(function(e){return e.fieldName}),me=z[0],ve=M[0],ye=me.map(function(e){return e.fieldName}),be=de.map(function(e){return e.fieldSchema.type}),we=(_e=function(e){return ge.map(function(t,r){return i.get(i.get("work")+"-"+e+(pe+1)+"-"+(r+1),!0)})})("start"),xe=_e("end"),ke=x({starts:we,ends:xe,applicableBrowseFieldNames:ge,heading:R}),Se=_slicedToArray(ke,2),Ae=Se[0],Oe=Se[1],Ee="1"===A("interlintitle"),console.log("rand","yes"===te("rand")),Ce=function(e,t){var r;if(e.match(/^\d+$/)||e.match(fieldValueAliasRegex))r=getRawFieldValue(e);else{var n,a=de[t].rawFieldValueAliasMap;if(a){var o=Object.entries(a);Array.isArray(o[0][1])?o.some(function(t){var r=_slicedToArray(t,2),a=r[0];return!!r[1].includes(e)&&(n=a,!0)}):o.some(function(t){var r=_slicedToArray(t,2),a=r[0],o=r[1];return!!Object.values(o).includes(e)&&(n=a,!0)})}r=void 0===n?e:n}return"integer"===be[t]?parseInt(r):r},Te=P.name,je=we.map(Ce),Pe=xe.map(Ce),$e=!1,s||u){e.next=71;break}return e.next=68,new Promise(function(e,t){var r=Ue.namespace+"-textbrowser-cache-data";indexedDB.open(r).onsuccess=function(t){var r=t.target.result,n="files-to-cache-"+Te;r.transaction(n).objectStore(n).index("browseFields-"+he).getAll(IDBKeyRange.bound(je,Pe)).onsuccess=function(t){var r=t.target.result.map(function(e){return e.value});e(r)}}});case 68:Fe=e.sent,e.next=87;break;case 71:if(Ne=U[pe],!this.noDynamic){e.next=80;break}return e.next=75,JsonRefs.resolveRefs(P.file);case 75:De=e.sent,Fe=De.resolved.data,k({presort:Ne,tableData:Fe,applicableBrowseFieldNames:ge,localizedFieldNames:G}),e.next=87;break;case 80:return Le="".concat(m,"textbrowser?").concat(i.toString()),e.next=83,fetch(Le);case 83:return e.next=85,e.sent.json();case 85:Fe=e.sent,$e=!0;case 87:return!$e&&L&&(q.forEach(function(e,t){var r=e.plugin,n=e.placement;r&&Fe.forEach(function(e,t){e.splice(n,0,null)})}),q.forEach(function(e,t){var r=e.plugin,n=e.applicableField,a=e.fieldLang,o=e.meta,s=e.metaApplicableField;if(r){var u=q.findIndex(function(e){return e.field===n});Fe.forEach(function(e,l){var c=e[u];e[t]=r.getCellData&&r.getCellData({tr:e,tableData:Fe,i:l,j:t,applicableField:n,fieldInfo:q,applicableFieldIdx:u,applicableFieldText:c,fieldLang:a,getLangDir:rtlDetect_3,meta:o,metaApplicableField:s,$p:i,thisObj:Ue})||c}),console.log("applicableFieldIdx",u)}})),Re=rtlDetect_3(B),Ie=X.map(function(e){if(!e)return null;var t=rtlDetect_3(e);return t!==Re?t:null}),Me={tableData:Fe,$p:i,$pRaw:A,$pRawEsc:C,$pEscArbitrary:T,escapeQuotedCSS:O,escapeCSS:E,escapeHTML:escapeHTML,l:r,localizedFieldNames:G,fieldLangs:X,fieldDirs:Ie,caption:Oe,hasCaption:Ae,showInterlinTitles:Ee,determineEnd:_({applicableBrowseFieldNames:ge,fieldValueAliasMap:Y,fieldValueAliasMapPreferred:K,localizedFieldNames:G,startsRaw:je,endsRaw:Pe}),canonicalBrowseFieldSetName:ve,getCanonicalID:b({canonicalBrowseFieldNames:ye,fieldValueAliasMap:Y,fieldValueAliasMapPreferred:K,localizedFieldNames:G}),getCellValue:y({fieldValueAliasMapPreferred:K,escapeColumnIndexes:J,escapeHTML:escapeHTML}),checkedAndInterlinearFieldInfo:w({localizedFieldNames:G}),interlinearSeparator:this.interlinearSeparator},e.abrupt("return",{fieldInfo:q,$p:i,applicableBrowseFieldSet:de,fieldValueAliasMapPreferred:K,lf:F,iil:ee,ilRaw:te,browseFieldSets:z,lang:n,metadataObj:D,fileData:P,templateArgs:Me});case 92:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function prepareForServiceWorker(e){return _prepareForServiceWorker.apply(this,arguments)}function _prepareForServiceWorker(){return(_prepareForServiceWorker=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Templates.permissions.addLogEntry({text:"Worker registration: Beginning..."}),e.next=4,navigator.storage.persist();case 4:if(e.sent){e.next=8;break}return Templates.permissions.browserNotGrantingPersistence(),e.abrupt("return");case 8:return e.next=10,registerServiceWorker({serviceWorkerPath:this.serviceWorkerPath,logger:Templates.permissions});case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(0),console.log("err",e.t0),!e.t0||"object"!==_typeof(e.t0)){e.next=20;break}if("versionChange"!==e.t0.errorType){e.next=20;break}return Templates.permissions.versionChange(),e.abrupt("return");case 20:Templates.permissions.errorRegistering(escapeHTML(e.t0&&e.t0.message));case 21:case"end":return e.stop()}},e,this,[[0,12]])}))).apply(this,arguments)}function requestPermissions(e,t){return _requestPermissions.apply(this,arguments)}function _requestPermissions(){return(_requestPermissions=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,a){var o=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:t=e.sent,u.close(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),i=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=function(){localStorage.setItem(this.namespace+"-refused","true")},r.prev=1,u.returnValue){r.next=5;break}return a(),r.abrupt("return");case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),Templates.permissions.errorRegistering(escapeHTML(r.t0&&r.t0.message));case 10:r.t1=u.returnValue,r.next="denied"===r.t1?13:"default"===r.t1?15:"granted"===r.t1?17:23;break;case 13:case 15:return e(),r.abrupt("return");case 17:if(!navigator.serviceWorker.controller){r.next=20;break}return e(),r.abrupt("return");case 20:return r.next=22,prepareForServiceWorker.call(n,t);case 22:return r.abrupt("break",25);case 23:return console.error("Unexpected returnValue",u.returnValue),r.abrupt("break",25);case 25:case"end":return r.stop()}},r,this,[[1,7]])}));return function(){return r.apply(this,arguments)}}(),s=_slicedToArray(Templates.permissions.main({l:r,ok:o,refuse:function(){u.close()},close:i,closeBrowserNotGranting:function(e){l.close()}}),3),u=s[1],l=s[2];u.showModal()});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var TextBrowser=function(){function e(t){_classCallCheck(this,e);var r=new URL("node_modules/textbrowser/resources/index.js",location);this.site=t.site||"site.json",setServiceWorkerDefaults(this,t),this.allowPlugins=t.allowPlugins,this.dynamicBasePath=t.dynamicBasePath,this.trustFormatHTML=t.trustFormatHTML,this.requestPersistentStorage=t.requestPersistentStorage,this.localizeParamNames=void 0===t.localizeParamNames||t.localizeParamNames,this.hideFormattingSection=Boolean(t.hideFormattingSection),this.interlinearSeparator=t.interlinearSeparator,this.showEmptyInterlinear=t.showEmptyInterlinear,this.showTitleOnSingleInterlinear=t.showTitleOnSingleInterlinear,this.noDynamic=t.noDynamic,this.skipIndexedDB=t.skipIndexedDB,this.stylesheets=(t.stylesheets||["@builtin"]).map(function(e){return"@builtin"===e?new URL("index.css",r).href:e})}return _createClass(e,[{key:"init",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,loadStylesheets(this.stylesheets);case 2:return this._stylesheetElements=e.sent,e.abrupt("return",this.displayLanguages());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayLanguages",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,getJSON([this.languages,this.site]);case 3:return t=e.sent,r=_slicedToArray(t,2),n=r[0],a=r[1],this.langData=n,this.siteData=a,o=this.paramChange(),window.addEventListener("hashchange",function(){return i.paramChange()}),e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(0),dialogs.alert(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"getWorkData",value:function(e){try{return getWorkData.call(this,_objectSpread({},e,{files:this.files,allowPlugins:this.allowPlugins}))}catch(e){dialogs.alert("catch:"+e)}}},{key:"getDirectionForLanguageCode",value:function(e){var t=this.langData.languages,r=t.find(function(t){return t.code===e});return r&&r.direction||t.find(function(t){return t.code.startsWith(e+"-")})}},{key:"getFieldNameAndValueAliases",value:function(e){return getFieldNameAndValueAliases(_objectSpread({},e,{lang:this.lang}))}},{key:"getBrowseFieldData",value:function(e){return getBrowseFieldData(_objectSpread({},e,{lang:this.lang}))}},{key:"paramChange",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i,s,u,l,c,f,p,d,h,g,m,v,y,b,_,w,x,k,S=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Templates.defaultBody(),t=this.$p="string"==typeof history.state?new IntlURLSearchParams({params:history.state}):new IntlURLSearchParams,r=function(e,r){var n=document.querySelector(e),a=location.href.replace(/#.*$/,"")+"#"+t.toString();history.replaceState(serialize(n,{hash:!0,empty:!0}),document.title,a),r(),location.hash="#"+t.toString()},n=new Languages({langData:this.langData}),a=n.getLanguageInfo({$p:t}),o=a.lang,i=a.langs,s=a.languageParam,u=a.fallbackLanguages,this.lang=o,l=_slicedToArray(o,1),c=l[0],f=this.getDirectionForLanguageCode(c),document.dir=f,p=localStorage.getItem(this.namespace+"-refused"),d=function(){var e=function(e){return S.siteData["localization-strings"][e]};return IMFClass({locales:o.map(e),fallbackLocales:u.map(e)}).getFormatter()},g=t.get("result"),e.next=14,navigator.storage.persisted();case 14:return m=e.sent,e.next=17,navigator.serviceWorker.getRegistration(this.serviceWorkerPath);case 17:if(v=e.sent,y=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:if(!!(p||navigator.serviceWorker.controller&&m)){e.next=14;break}if(h=d(),!m){e.next=11;break}return Templates.permissions.main({l:h}),e.next=9,prepareForServiceWorker.call(S,i);case 9:e.next=13;break;case 11:return e.next=13,requestPermissions.call(S,i,h);case 13:Templates.permissions.exitDialogs();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v){e.next=24;break}return e.next=22,y();case 22:e.next=57;break;case 24:if(h=d(),b=v.installing||v.waiting||v.active){e.next=31;break}return console.error("Unexpected error: worker registration received without a worker."),e.next=30,y();case 30:return e.abrupt("return");case 31:Templates.permissions.main({l:h}),36e5,setInterval(function(){v.update()},36e5),console.log("worker.state",b.state),_=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",respondToState({r:v,langs:i,languages:S.languages,logger:Templates.permissions}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",dialogs.alert("\n        There was an unexpected error activating the new version;\n        please save any unfinished work, close this tab, and try\n        opening this site again.\n\n        Please contact a service administrator if the problem\n        persists (Error type: worker activation).\n        "));case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),e.t0=b.state,e.next="installing"===e.t0?39:"installed"===e.t0?42:"activating"===e.t0?45:"activated"===e.t0?50:"redundant"===e.t0?52:55;break;case 39:return _(),listenForWorkerUpdate({r:v,logger:{addLogEntry:function(e){console.log(e)}}}),e.abrupt("break",57);case 42:return e.next=44,_();case 44:return e.abrupt("break",57);case 45:return e.next=47,dialogs.alert("\n    Please wait for a short while as we work to update to a new version.\n    ");case 47:return _(),navigator.serviceWorker.onmessage({data:"finishActivate"}),e.abrupt("return");case 50:return listenForWorkerUpdate({r:v,logger:{addLogEntry:function(e){console.log(e)}}}),e.abrupt("break",57);case 52:return e.next=54,_();case 54:return e.abrupt("return");case 55:return console.log("Unexpected worker.state",b.state),e.abrupt("break",57);case 57:if(Templates.permissions.exitDialogs(),s){e.next=63;break}return w=function(e){t.l10n=e,document.title=e("browser-title"),Templates.languageSelect.main({langs:i,languages:n,followParams:r,$p:t})},x=h||d(),w(x),e.abrupt("return");case 63:return document.documentElement.lang=c,k=function(e){return S.l10n=e,t.l10n=e,t.get("work")?!g&&(S.workDisplay({l:e,lang:o,preferredLocale:c,fallbackLanguages:u,languageParam:s,$p:t,languages:n}),!0):(workSelect$1({files:S.files,lang:o,fallbackLanguages:u,$p:t,followParams:r}),!0)},e.abrupt("return",getIMFFallbackResults({$p:t,lang:o,langs:i,langData:this.langData,fallbackLanguages:u,resultsDisplay:function(e){var t=p||!navigator.serviceWorker.controller;return S.resultsDisplayClient(_objectSpread({langData:S.langData},e,{noIndexedDB:t,dynamicBasePath:S.dynamicBasePath,files:S.files,allowPlugins:S.allowPlugins}))},localeCallback:k}));case 66:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();TextBrowser.prototype.workDisplay=workDisplay$1,TextBrowser.prototype.resultsDisplayClient=resultsDisplayClient$1,TextBrowser.prototype.getWorkFiles=getWorkFiles;export default TextBrowser;
