function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}let i,a;function s(){}const u=(c=function(){return function(e){var t=e();if(t&&t.then)return t.then(s)}((function(){if(!i)return e=import("path"),t=function(e){({dirname:i}=e)},n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e);var e,t,n}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(c.apply(this,e))}catch(e){return Promise.reject(e)}});var c;function l(e){return t=i(new URL(e).pathname),a||(a="win32"===process.platform),t.slice(a?1:0);var t}function f(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}let p;function d(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const h=function({baseURL:e,cwd:t}={}){const n="undefined"!=typeof window||"undefined"!=typeof self?"undefined"!=typeof window?window.fetch:self.fetch:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}((function(n){let r=!1;return d((function(){if(/^https?:/u.test(n))return d((function(){if(!p)return f(import("node-fetch"),(function(e){p=e}))}),(function(){const e=p.default(n);return r=!0,e}))}),(function(o){return r?o:d((function(){if(!t)return function(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}(u,(function(){t=e?l(e):"undefined"==typeof window&&process.cwd()}))}),(function(){return f(import("local-xmlhttprequest"),(function(e){const r=e.default({basePath:t});return new Promise(((e,t)=>{const o=new r;o.open("GET",n,!0),o.onreadystatechange=function(){if(4===o.readyState)if(200!==o.status)t(new SyntaxError("Failed to fetch URL: "+n+"state: "+o.readyState+"; status: "+o.status));else{const t=o.responseText;e({json:()=>JSON.parse(t)})}},o.send()}))}))}))}))})),r=function({fetch:e=("undefined"!=typeof window?window.fetch:self.fetch)}={}){return function t(n,r,i){try{let a=!1;return o(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(Array.isArray(n))return o(Promise.all(n.map((e=>t(e)))),(function(e){return r&&r(...e),a=!0,e}))}),(function(t){return a?t:o(e(n),(function(e){return o(e.json(),(function(e){return"function"==typeof r?r(e):e}))}))}))}),(function(e){if(e.message+=` (File: ${n})`,i)return i(e,n);throw e})))}catch(e){return Promise.reject(e)}}}({fetch:n});return r._fetch=n,r.hasURLBasePath=Boolean(e),r.basePath=t,r}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(){m=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=new RegExp(e,r);return t.set(i,o||t.get(e)),j(i,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var o=r[n];if("number"==typeof o)t[n]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;)i++;t[n]=e[o[i]]}return t}),Object.create(null))}return S(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var o=n.indices;o&&(o.groups=r(o,this))}return n},n.prototype[Symbol.replace]=function(n,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(e,t){var n=i[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,a)),o.apply(this,e)}))}return e[Symbol.replace].call(this,n,o)},m.apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=globalThis.jsonExtra,D=function(e){return e.replace(/\\+/g,(function(e){return e.slice(0,e.length/2)}))},C=function(e){return T.parse("{"+(e||"").replace(/^\{/,"").replace(/\}$/,"")+"}")},F=function(e,t,n){var r,o=n.onMatch,i=n.extra,a=n.betweenMatches,s=n.afterMatch,u=n.escapeAtOne,c=0;for(i&&(a=i,s=i,u=i);null!==(r=e.exec(t));){var l=A(r,2),f=l[0],p=l[1],d=e.lastIndex,h=d-f.length;h>c&&a(t.slice(c,h)),u&&p.length%2?(c=d,u(f)):(o.apply(void 0,P(r)),c=d)}c!==t.length&&s(t.slice(c))},L="undefined"!=typeof fetch?fetch:null,$=function(){return L},R="undefined"!=typeof document?document:null,M=function(){return R};var U=function(e,t,n){return t.sort(new Intl.Collator(e,n).compare)},z=function(e,t,n){return new Intl.ListFormat(e,n).format(t)},B=function(e,t,n,r,o){if("function"!=typeof n)return function(e,t,n,r){return U(e,t,r),z(e,t,n)}(e,t,n,r);U(e,t,o);var i,a=(i=Date.now(),"undefined"!=typeof performance&&"function"==typeof performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.trunc((i+16*Math.random())%16);return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)}))),s=P(t).map((function(e,t){return"<<".concat(a).concat(t,">>")})),u=[],c=function(){u.push.apply(u,arguments)};F(new RegExp("<<".concat(a,"(\\d)>>"),"gu"),z(e,s,r),{betweenMatches:c,afterMatch:c,onMatch:function(e,r){c(n(t[r],r))}});var l=M().createDocumentFragment();return l.append.apply(l,u),l},q=function(e){var t=e.object;if(Array.isArray(t)){if("function"==typeof t[1]){var n=A(t,4);return{value:n[0],callback:n[1],options:n[2],extraOpts:n[3]}}var r=A(t,3);return{value:r[0],options:r[1],extraOpts:r[2]}}return{value:t}},W=function(e){var t,n=e.value,r=e.arg;e.key;var o,i=e.locale;if("string"==typeof n||n&&"object"===y(n)&&"nodeType"in n)return n;var a=function(e){var t=e.type,n=e.options,i=void 0===n?o:n,a=e.checkArgOptions,s=void 0!==a&&a;if("string"==typeof r){var u=A(r.split("|"),3),c=u[0],l=u[1],f=u[2];"DATE"===c&&(c="DATETIME"),c===t&&(l?s&&!f||(i=g(g({},i),C(s&&f?f:l))):i={})}return i},s=!1;if(n&&"object"===y(n)&&!Array.isArray(n)){var u=Object.keys(n)[0];if(["number","date","datetime","dateRange","datetimeRange","relative","region","language","script","currency","list","plural"].includes(u)){var c,l,f=q({object:n[u]});switch(n=f.value,o=f.options,c=f.extraOpts,l=f.callback,u){case"date":case"datetime":s=!0;break;case"dateRange":case"datetimeRange":return(t=new Intl.DateTimeFormat(i,a({type:"DATERANGE",options:c}))).formatRange.apply(t,P([n,o].map((function(e){return"number"==typeof e?new Date(e):e}))));case"region":case"language":case"script":case"currency":return new Intl.DisplayNames(i,g(g({},a({type:u.toUpperCase()})),{},{type:u})).of(n);case"relative":var p=[o,c];return c=p[0],o=p[1],new Intl.RelativeTimeFormat(i,a({type:"RELATIVE"})).format(n,c);case"list":return l?B(i,n,l,a({type:"LIST"}),a({type:"LIST",options:c,checkArgOptions:!0})):B(i,n,a({type:"LIST"}),a({type:"LIST",options:c,checkArgOptions:!0}))}}}if(n&&("number"==typeof n&&(s||/^DATE(?:TIME)(?:\||$)/.test(r))&&(n=new Date(n)),"object"===y(n)&&"function"==typeof n.getTime))return new Intl.DateTimeFormat(i,a({type:"DATETIME"})).format(n);if(Array.isArray(n)){var d,h=n[2];return(d=new Intl.DateTimeFormat(i,a({type:"DATERANGE",options:h}))).formatRange.apply(d,P(n.slice(0,2).map((function(e){return"number"==typeof e?new Date(e):e}))))}if("number"==typeof n)return new Intl.NumberFormat(i,a({type:"NUMBER"})).format(n);throw new TypeError("Unknown formatter")},V=_((function e(){b(this,e)})),H=function(e){var t=e.key,n=e.body,r=e.type,o=e.messageStyle,i=se({messageStyle:void 0===o?"richNested":o})({body:n},t);if(!i)throw new Error("Key value not found for ".concat(r," key: (").concat(t,")"));return i.value},J=function(e){S(n,V);var t=E(n);function n(e){var r;return b(this,n),(r=t.call(this)).locals=e,r}return _(n,[{key:"getSubstitution",value:function(e){return H({key:e.slice(1),body:this.locals,type:"local"})}},{key:"isMatch",value:function(e){var t=e.slice(1).split("."),n=this.locals;return this.constructor.isMatchingKey(e)&&t.every((function(e){var t=e in n;return n=n[e],t}))}}],[{key:"isMatchingKey",value:function(e){return e.startsWith("-")}}]),n}(),K=function(e){S(n,V);var t=E(n);function n(e){var r;return b(this,n),(r=t.call(this)).substitutions=e,r}return _(n,[{key:"isMatch",value:function(e){return this.constructor.isMatchingKey(e)&&e in this.substitutions}}],[{key:"isMatchingKey",value:function(e){return/^[0-9A-Z_a-z]/.test(e)}}]),n}(),G=function(e){S(n,V);var t=E(n);function n(e,r){var o,i=r.substitutions;return b(this,n),(o=t.call(this)).switches=e,o.substitutions=i,o}return _(n,[{key:"getSubstitution",value:function(e,t){var n,r,o=t.locale,i=t.usedKeys,a=t.arg,s=t.missingSuppliedFormatters,u=this.constructor.getKey(e).slice(1),c=A(this.getMatch(u),3),l=c[0],f=c[1],p=c[2];if(i.push(p),l&&l.includes("|")){var d=A(l.split("|"),3);n=d[1],r=d[2]}if(!f)return s({key:e,formatter:this}),"\\{"+e+"}";var h=function(e,t){var n=C(r);return new Intl.NumberFormat(o,g(g({},t),n)).format(e)},v=function(e,t){var n=C(r);return new Intl.PluralRules(o,g(g({},t),n)).select(e)},m=this.substitutions[p],b=m;if("number"==typeof m)switch(n){case"NUMBER":b=h(m);break;case"PLURAL":b=v(m);break;default:b=new Intl.PluralRules(o).select(m)}else if(m&&"object"===y(m)){var w=Object.keys(m)[0];if(["number","plural"].includes(w)){var _=q({object:m[w]}),x=_.value,S=_.options;if(n||(n=w.toUpperCase()),!(w.toUpperCase()===n))throw new TypeError('Expecting type "'.concat(n.toLowerCase(),'"; instead found "').concat(w,'".'));switch(n){case"NUMBER":b=h(x,S);break;case"PLURAL":b=v(x,S)}}}var k="richNested",j=function(e){return e.replace(/\\/g,"\\\\").replace(/\./g,"\\.")};try{return H({messageStyle:k,key:b?j(b):a,body:f,type:"switch"})}catch(e){try{return H({messageStyle:k,key:"*"+j(b),body:f,type:"switch"})}catch(e){var O=Object.keys(f).find((function(e){return e.startsWith("*")}));if(!O)throw new Error("No defaults found for switch ".concat(u));return H({messageStyle:k,key:j(O),body:f,type:"switch"})}}}},{key:"isMatch",value:function(e){return e&&this.constructor.isMatchingKey(e)&&Boolean(this.getMatch(e.slice(1)).length)}},{key:"getMatch",value:function(e){var t=this,n=e.split(".");return n.reduce((function(r,o,i){if(i<n.length-1){if(!(o in r))throw new Error('Switch key "'.concat(o,'" not found (from "~').concat(e,'")'));return r[o]}var a=Object.entries(r).find((function(e){var n=A(e,1)[0];return o===t.constructor.getKey(n)}));return a?[].concat(P(a),[o]):[]}),this.switches)}}],[{key:"isMatchingKey",value:function(e){return e.startsWith("~")}},{key:"getKey",value:function(e){var t=e.match(/^(?:(?!\|)[\s\S])*/);return t&&t[0]}}]),n}();function X(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Z(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Y(e,t,n){if(!e.s){if(n instanceof Q){if(!n.s)return void(n.o=Y.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Y.bind(null,e,t),Y.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Q=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{Y(r,1,i(this.v))}catch(e){Y(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?Y(r,1,t?t(o):o):n?Y(r,1,n(o)):Y(r,2,o)}catch(e){Y(r,2,e)}},r},e}();function ee(e){return e instanceof Q&&1&e.s}function te(e,t,n){for(var r;;){var o=e();if(ee(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!ee(i)){r=1;break}i=i.s}if(t){var a=t();if(a&&a.then&&!ee(a)){r=2;break}}}var s=new Q,u=Y.bind(null,s,2);return(0===r?o.then(l):1===r?i.then(c):a.then(f)).then(void 0,u),s;function c(r){i=r;do{if(t&&(a=t())&&a.then&&!ee(a))return void a.then(f).then(void 0,u);if(!(o=e())||ee(o)&&!o.v)return void Y(s,1,i);if(o.then)return void o.then(l).then(void 0,u);ee(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,u)}function l(e){e?(i=n())&&i.then?i.then(c).then(void 0,u):c(i):Y(s,1,i)}function f(){(o=e())?o.then?o.then(l).then(void 0,u):l(o):Y(s,1,i)}}function ne(e,t){return e&&e.then?e.then(t):t(e)}function re(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var oe=function(e,t){if("string"!=typeof e)throw new TypeError("`defaultLocaleResolver` expects a string `localesBasePath`.");if("string"!=typeof t)throw new TypeError("`defaultLocaleResolver` expects a string `locale`.");if(/[\.\/\\]/.test(t))throw new TypeError("Locales cannot use file-reserved characters, `.`, `/` or `\\`");return"".concat(e.replace(/\/$/,""),"/_locales/").concat(t,"/messages.json")},ie=function(e){var t=e.string,n=e.dom,r=e.usedKeys,o=e.substitutions,i=e.allSubstitutions,a=e.locale,s=e.locals,u=e.switches,c=e.maximumLocalNestingDepth,l=void 0===c?3:c,f=e.missingSuppliedFormatters,p=e.checkExtraSuppliedFormatters;if("number"!=typeof l)throw new TypeError("`maximumLocalNestingDepth` must be a number.");var d=function(){Object.entries(o).forEach((function(e){var t=A(e,2),n=t[0];"function"==typeof t[1]&&r.push(n)}))};d();var h=new J(s),v=new K(o),m=new G(u,{substitutions:o}),b=/(\\*)\{((?:(?:(?!\})[\s\S])|\\\})*?)(?:(\|)((?:(?!\})[\s\S])*))?\}/g;i&&(i=Array.isArray(i)?i:[i]);var w=function(e){var t,n=e.key,o=e.arg,s=e.substs;return h.constructor.isMatchingKey(n)?t=h.getSubstitution(n):m.constructor.isMatchingKey(n)?t=m.getSubstitution(n,{locale:a,usedKeys:r,arg:o,missingSuppliedFormatters:f}):"function"==typeof(t=s[n])&&(t=t({arg:o,key:n})),i?t=i.reduce((function(e,t){return t({value:e,arg:o,key:n,locale:a})}),t):o&&/^(?:NUMBER|DATE(?:TIME|RANGE|TIMERANGE)?|REGION|LANGUAGE|SCRIPT|CURRENCY|RELATIVE|LIST)(?:\||$)/.test(o)&&(t=W({value:t,arg:o,key:n,locale:a})),t},_=1,x=function(e){var t=e.substitution,n=e.ky,r=e.arg,i=e.processSubsts;if("string"==typeof t&&t.includes("{")){if(_++>l)throw new TypeError("Too much recursion in local variables.");if(h.constructor.isMatchingKey(n)){var a,s=o;r&&(a=C(r),s=g(g({},o),a)),t=i({str:t,substs:s,formatter:h}),a&&p({substitutions:a})}else m.constructor.isMatchingKey(n)&&(t=i({str:t}))}return t};if(!n){var S=!1,k=function e(t){var n=t.str,i=t.substs,a=void 0===i?o:i,s=t.formatter,u=void 0===s?v:s;return n.replace(b,(function(t,n,o,i,s){if(n.length%2)return t;if(f({key:o,formatter:u}))return t;var c=w({key:o,arg:s,substs:a});return c=x({substitution:c,ky:o,arg:s,processSubsts:e}),S=S||c&&"object"===y(c)&&"nodeType"in c,r.push(o),n+c}))}({str:t});if(!S)return p({substitutions:o}),r.length=0,d(),D(k);r.length=0,d()}_=1;var j=function e(t){var n=t.str,i=t.substs,a=void 0===i?o:i,s=t.formatter,u=void 0===s?v:s,c=[],l=new RegExp(b,"gu"),p=function(){c.push.apply(c,arguments)};return F(l,n,{extra:p,onMatch:function(t,n,o,i,s){if(f({key:o,formatter:u}))p(t);else{n.length&&p(n);var c=w({key:o,arg:s,substs:a});c=x({substitution:c,ky:o,arg:s,processSubsts:e}),Array.isArray(c)?p.apply(void 0,P(c)):c&&"object"===y(c)&&"nodeType"in c?p(c.cloneNode(!0)):p(c)}r.push(o)}}),c}({str:t});return p({substitutions:o}),r.length=0,j.map((function(e){return"string"==typeof e?D(e):e}))};function ae(e,t){if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))&&"string"==typeof t&&t.endsWith("Nested"))return e.map((function(e){return e.replace(m(/(\\+)/g,{backslashes:1}),"\\$<backslashes>").replace(/\./g,"\\.")})).join(".");if("string"!=typeof e)throw new TypeError("`key` is expected to be a string (or array of strings for nested style)");return e}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageStyle,n=void 0===t?"richNested":t;return"function"==typeof n?n:"richNested"===n?function(e,t){var n=e&&"object"===y(e)&&e.body,r=[],o=function(e){r.length||(r[0]=""),r[r.length-1]+=e};F(/(\\*)\./g,t,{extra:o,onMatch:function(e,t){o(t),r.push("")}});var i=r.map((function(e){return D(e)})),a=!1,s=n;return i.some((function(e,t,n){return!s||"object"!==y(s)||(t===n.length-1&&e in s&&s[e]&&"object"===y(s[e])&&"message"in s[e]&&"string"==typeof s[e].message&&(a={value:s[e].message,info:s[e]}),s=s[e],!1)})),a}:"rich"===n?function(e,t){var n=e&&"object"===y(e)&&e.body;return!!(n&&"object"===y(n)&&t in n&&n[t]&&"object"===y(n[t])&&"message"in n[t]&&"string"==typeof n[t].message)&&{value:n[t].message,info:n[t]}}:"plain"===n?function(e,t){var n=e&&"object"===y(e)&&e.body;return!!(n&&"object"===y(n)&&t in n&&n[t]&&"string"==typeof n[t])&&{value:n[t]}}:"plainNested"===n?function(e,t){var n=e&&"object"===y(e)&&e.body;if(n&&"object"===y(n)){var r=t.split(/(?<!\\)\./).reduce((function(e,t){return e&&e[t]?e[t]:null}),n);if(r&&"string"==typeof r)return{value:r}}return!1}:function(){throw new TypeError("Unknown `messageStyle` ".concat(n))}()},ue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.message,r=t.defaults,o=t.messageStyle,i=t.messageForKey,a=void 0===i?se({messageStyle:o}):i,s=t.key;if("string"==typeof n)e=n;else if(!1===r||null==r)e=!1;else{if(!r||"object"!==y(r))throw new TypeError("Default locale strings must resolve to `false`, nullish, or an object!");(e=a(r,s))&&(e=e.value)}if(!1===e)throw new Error("Key value not found for key: (".concat(s,")"));return e},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.string,n=e.locale,r=e.locals,o=e.switches;e.maximumLocalNestingDepth;var i=e.allSubstitutions,a=void 0===i?[W]:i,s=e.insertNodes,u=void 0===s?ie:s,c=e.substitutions,l=void 0!==c&&c,f=e.dom,p=void 0!==f&&f,d=e.forceNodeReturn,h=void 0!==d&&d,v=e.throwOnMissingSuppliedFormatters,g=void 0===v||v,y=e.throwOnExtraSuppliedFormatters,m=void 0===y||y;if("string"!=typeof t)throw new TypeError("An options object with a `string` property set to a string must be provided for `getDOMForLocaleString`.");var b=function(e){var t=M();return h?t.createTextNode(e):e},w=[],_=function(e){var t=e.substitutions;m&&Object.keys(t).forEach((function(e){if(!w.includes(e))throw new Error("Extra formatting key: ".concat(e))}))},x=function(e){var t=e.key,n=e.formatter,r=n.isMatch(t);if(n.constructor.isMatchingKey(t)&&!r){if(g)throw new Error("Missing formatting key: ".concat(t));return!0}return!1};if(!l&&!a&&!g)return b(t);l||(l={});var S=u({string:t,dom:p,usedKeys:w,substitutions:l,allSubstitutions:a,locale:n,locals:r,switches:o,missingSuppliedFormatters:x,checkExtraSuppliedFormatters:_});if("string"==typeof S)return b(S);var k=M(),j=k.createDocumentFragment();return j.append.apply(j,P(S)),j};function le(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function fe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var pe=function(e){if(!e.includes("-"))throw new Error("Locale not available");return e.replace(/\x2D(?:(?!\x2D)[\s\S])*$/,"")},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locales,n=e.defaultLocales,r=e.localeResolver,o=e.localesBasePath,i=e.localeMatcher;return he({locales:t,defaultLocales:n,localeResolver:r,localesBasePath:o,localeMatcher:i})},he=fe((function(e){var t=fe((function(e){if("string"!=typeof e)throw new TypeError("Non-string locale type");var n=s(c,e);if("string"!=typeof n)throw new TypeError("`localeResolver` expected to resolve to (URL) string.");return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var t=$();return le(d?t(n,{method:"HEAD"}):t(n),(function(t){if(404===t.status)throw new Error("Trying again");return d?e:le(t.json(),(function(t){return{locale:e,strings:t}}))}))}),(function(n){if("SyntaxError"===n.name)throw n;return le(f(e),t)}))})),n=e.locales,r=void 0===n?"undefined"!=typeof intlDomLocale?[intlDomLocale]:"undefined"==typeof navigator?[]:navigator.languages:n,o=e.defaultLocales,i=void 0===o?["en-US"]:o,a=e.localeResolver,s=void 0===a?oe:a,u=e.localesBasePath,c=void 0===u?".":u,l=e.localeMatcher,f=void 0===l?"lookup":l,p=e.headOnly,d=void 0!==p&&p;if("lookup"===f)f=pe;else if("function"!=typeof f)throw new TypeError('`localeMatcher` must be "lookup" or a function!');return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Reached end of values array.";if(!Array.isArray(e))throw new TypeError("The `values` argument to `promiseChainForValues` must be an array.");if("function"!=typeof t)throw new TypeError("The `errBack` argument to `promiseChainForValues` must be a function.");return re((function(){var r,o,i=!1,a=Promise.reject(new Error("Intentionally reject so as to begin checking chain"));return ne(te((function(){return!i}),void 0,(function(){var s=e.shift();return Z((function(){return X(a,(function(e){r=e,i=!0}))}),(function(){if(o)throw new Error(n);e.length||(o=!0),a=t(s)}))})),(function(e){return r}))}))()}([].concat(P(r),P(i)),t,"No matching locale found for "+[].concat(P(r),P(i)).join(", "))}));function ve(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function ge(e,t){var n=e();return n&&n.then?n.then(t):t(n)}var ye=function(e){var t=e.strings,n=e.resolvedLocale,r=e.messageStyle,o=void 0===r?"richNested":r,i=e.allSubstitutions,a=e.insertNodes,s=e.keyCheckerConverter,u=void 0===s?ae:s,c=e.defaults,l=e.substitutions,f=e.maximumLocalNestingDepth,p=e.dom,d=void 0!==p&&p,h=e.forceNodeReturn,v=void 0!==h&&h,m=e.throwOnMissingSuppliedFormatters,b=void 0===m||m,w=e.throwOnExtraSuppliedFormatters,_=void 0===w||w;if(!t||"object"!==y(t))throw new TypeError("Locale strings must be an object!");var x=se({messageStyle:o}),S=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=s.allSubstitutions,h=void 0===p?i:p,y=s.defaults,m=void 0===y?c:y,w=s.dom,S=void 0===w?d:w,k=s.forceNodeReturn,j=void 0===k?v:k,O=s.throwOnMissingSuppliedFormatters,E=void 0===O?b:O,A=s.throwOnExtraSuppliedFormatters,P=void 0===A?_:A;e=u(e,o);var I=x(t,e),N=ue({message:!(!I||"string"!=typeof I.value)&&I.value,defaults:m,messageForKey:x,key:e});return ce({string:N,locals:t.head&&t.head.locals,switches:t.head&&t.head.switches,locale:n,maximumLocalNestingDepth:f,allSubstitutions:h,insertNodes:a,substitutions:g(g({},l),r),dom:S,forceNodeReturn:j,throwOnMissingSuppliedFormatters:E,throwOnExtraSuppliedFormatters:P})};return S.resolvedLocale=n,S.strings=t,S.sort=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return U.apply(void 0,[n].concat(t))},S.sortList=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return B.apply(void 0,[n].concat(t))},S.list=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z.apply(void 0,[n].concat(t))},S},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locales,n=e.defaultLocales,r=e.localeStringFinder,o=void 0===r?de:r,i=e.localesBasePath,a=e.localeResolver,s=e.localeMatcher,u=e.messageStyle,c=e.allSubstitutions,l=e.insertNodes,f=e.keyCheckerConverter,p=e.defaults,d=e.substitutions,h=e.maximumLocalNestingDepth,v=e.dom,g=e.forceNodeReturn,y=e.throwOnMissingSuppliedFormatters,m=e.throwOnExtraSuppliedFormatters;try{return ve(o({locales:t,defaultLocales:n,localeResolver:a,localesBasePath:i,localeMatcher:s}),(function(e){var t=e.strings,r=e.locale;return ge((function(){if(!p&&n)return ve(o({locales:n,defaultLocales:[],localeResolver:a,localesBasePath:i,localeMatcher:s}),(function(e){p=e.strings,e.locale===r&&(p=null)}))}),(function(){return ye({strings:t,resolvedLocale:r,messageStyle:u,allSubstitutions:c,insertNodes:l,keyCheckerConverter:f,defaults:p,substitutions:d,maximumLocalNestingDepth:h,dom:v,forceNodeReturn:g,throwOnMissingSuppliedFormatters:y,throwOnExtraSuppliedFormatters:m})}))}))}catch(e){return Promise.reject(e)}};function be(e,{before:t,after:n,favicon:r,canvas:o,image:i=!0,acceptErrors:a}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map((e=>function(e){let s={};Array.isArray(e)&&([e,s={}]=e);let{favicon:u=r}=s;const{before:c=t,after:l=n,canvas:f=o,image:p=i}=s;function d(){c?c.before(h):l?l.after(h):document.head.appendChild(h)}const h=document.createElement("link");return new Promise(((t,n)=>{let r=n;if(a&&(r="function"==typeof a?r=>{a({error:r,stylesheetURL:e,options:s,resolve:t,reject:n})}:t),e.endsWith(".css")?u=!1:e.endsWith(".ico")&&(u=!0),u){if(h.rel="shortcut icon",h.type="image/x-icon",!1===p)return h.href=e,d(),void t(h);const r=document.createElement("canvas");r.width=16,r.height=16;const o=r.getContext("2d"),i=document.createElement("img");return i.addEventListener("error",(e=>{n(e)})),i.addEventListener("load",(()=>{o.drawImage(i,0,0),h.href=f?r.toDataURL("image/x-icon"):e,d(),t(h)})),void(i.src=e)}h.rel="stylesheet",h.type="text/css",h.href=e,d(),h.addEventListener("error",(e=>{r(e)})),h.addEventListener("load",(()=>{t(h)}))}))}(e))))}function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i,Ee=/(\[[^[\]]*])/g;function Ae(e,t){"object"!==we(t)?t={hash:Boolean(t)}:void 0===t.hash&&(t.hash=!0);var n=t.hash?{}:"",r=t.serializer||(t.hash?Ie:Ne),o=e&&e.elements?xe(e.elements):[],i=Object.create(null);return o.forEach((function(e){if((t.disabled||!e.disabled)&&e.name&&Oe.test(e.nodeName)&&!je.test(e.type)){var o=e.name,a=e.type,s=e.name,u=e.checked,c=e.value;if("checkbox"!==a&&"radio"!==a||u||(c=void 0),t.empty){if("checkbox"!==a||u||(c=""),"radio"===a&&(i[s]||u?u&&(i[s]=!0):i[s]=!1,void 0===c))return}else if(!c)return;if("select-multiple"===a){var l=!1;return xe(e.options).forEach((function(e){var i=t.empty&&!e.value,a=e.value||i;e.selected&&a&&(l=!0,n=t.hash&&"[]"!==o.slice(-2)?r(n,o+"[]",e.value):r(n,o,e.value))})),void(!l&&t.empty&&(n=r(n,o,"")))}n=r(n,o,c)}})),t.empty&&Object.entries(i).forEach((function(e){var t=_e(e,2),o=t[0];t[1]||(n=r(n,o,""))})),n}function Pe(e,t,n){if(0===t.length)return n;var r=t.shift(),o=r.match(/^\[(.+?)]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(Pe(null,t,n)):(e._values=e._values||[],e._values.push(Pe(null,t,n))),e;if(o){var i=o[1],a=Number(i);isNaN(a)?(e=e||{})[i]=Pe(e[i],t,n):(e=e||[])[a]=Pe(e[a],t,n)}else e[r]=Pe(e[r],t,n);return e}function Ie(e,t,n){if(t.match(Ee)){var r=function(e){var t=[],n=new RegExp(Ee),r=/^([^[\]]*)/.exec(e);for(r[1]&&t.push(r[1]);null!==(r=n.exec(e));)t.push(r[1]);return t}(t);Pe(e,r,n)}else{var o=e[t];o?(Array.isArray(o)||(e[t]=[o]),e[t].push(n)):e[t]=n}return e}function Ne(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}function Te(e,t){Object.entries(t).forEach((function(t){var n=_e(t,2),r=n[0],o=n[1],i=e[r],a=!1;if(!i&&!(i=e.querySelector('[name="'.concat(r,'"]')))){if(!((i=e[r+"[]"])&&"object"===we(i)&&"length"in i||(i=e.querySelectorAll('[name="'.concat(r,'[]"]'))).length))throw new Error("Name not found ".concat(r));a=!0}var s=i.type;if("checkbox"===s&&(i.checked=""!==o),("radio"===s||i[0]&&"radio"===i[0].type)&&xe(e.querySelectorAll('[name="'.concat(r+(a?"[]":""),'"]'))).forEach((function(e){e.checked=o===e.value})),i[0]&&"select-multiple"===i[0].type)xe(i[0].options).forEach((function(e){o.includes(e.value)&&(e.selected=!0)}));else if(Array.isArray(o)){if("select-multiple"===s)return void xe(i.options).forEach((function(e){o.includes(e.value)&&(e.selected=!0)}));o.forEach((function(e,t){var n=i[t];if("checkbox"!==n.type)"select-multiple"!==n.type?n.value=e:xe(n.options).forEach((function(t){e.includes(t.value)&&(t.selected=!0)}));else{var r=n.value===e||"on"===e;n.checked=r}}))}else i.value=o}))}let De="undefined"!=typeof window&&window,Ce="undefined"!=typeof document&&document||De&&De.document;const Fe=["$plugins","$map"],Le="http://www.w3.org/1999/xhtml",$e=/-([a-z])/gu,Re={maxlength:"maxLength",minlength:"minLength",readonly:"readOnly"},Me=["checked","defaultChecked","defaultSelected","disabled","indeterminate","open","readOnly","selected"].concat(["accessKey","async","autocapitalize","autofocus","contentEditable","defaultValue","defer","draggable","formnovalidate","hidden","innerText","inputMode","ismap","multiple","novalidate","pattern","required","spellcheck","translate","value","willvalidate"]),Ue=["autocomplete","dir","integrity","lang","max","min","minLength","maxLength","title"],ze=e=>Ce.querySelector(e),Be=e=>[...Ce.querySelectorAll(e)];function qe(e){return e.nodeName&&e.nodeName.toLowerCase()}function We(e){if(Ce.createStyleSheet&&"style"===qe(e)){Ce.createStyleSheet().cssText=e.cssText}}function Ve(e,t){const n=qe(e);if(Ce.createStyleSheet){if("script"===n)return void(e.text=t.nodeValue);if("style"===n)return void(e.cssText=t.nodeValue)}if("template"!==n)try{e.append(t)}catch(r){const o=qe(t);if("select"===n&&"option"===o){try{e.add(t)}catch(n){e.add(t,null)}return}throw r}else e.content.append(t)}function He(e,t,n){if(!/^\w+$/u.test(n))throw new TypeError(`Bad ${e} reference; with prefix "${t}" and arg "${n}"`);const r=Ce.createElement("div");return r.innerHTML="&"+t+n+";",Ce.createTextNode(r.innerHTML)}function Je(e,t){return t.toUpperCase()}function Ke(e){return null==e}function Ge(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array";if("nodeType"in e)switch(e.nodeType){case 1:return"element";case 9:return"document";case 11:return"fragment";default:return"non-container node"}}return t}function Xe(e,t){return e.append(t),e}function Ze(e){return function(t){let n=e[""]?' xmlns="'+e[""]+'"':t;for(const[t,r]of Object.entries(e))""!==t&&(n+=" xmlns:"+t+'="'+r+'"');return n}}function Ye(e){return function(t,n){const r=e.childNodes[n],o=Array.isArray(t)?rt(...t):rt(t);r.replaceWith(o)}}function Qe(e){return function(t){Array.isArray(t)?e.append(rt(...t)):e.append(rt(t))}}function et(e){return function(t){"string"==typeof t?e.append(t):Array.isArray(t)?e.append(rt(...t)):e.append(rt(t))}}function tt(e,t,n,r){if(r.$state="attributeValue",n&&"object"==typeof n){const o=nt(r,Object.keys(n)[0]);if(o)return o.set({opts:r,element:e,attribute:{name:t,value:n}})}return n}function nt(e,t){return e.$plugins&&e.$plugins.find((e=>e.name===t))}const rt=function e(...t){let n=Ce.createDocumentFragment();function r(r){for(let[p,d]of Object.entries(r))if(p=p in Re?Re[p]:p,Ue.includes(p))d=tt(n,p,d,a),Ke(d)||(n[p]=d);else if(Me.includes(p))d=tt(n,p,d,a),n[p]=d;else switch(p){case"#":a.$state="fragmentChilden",o[o.length]=e(a,d);break;case"$shadow":{const{open:t,closed:r}=d;let{content:o,template:i}=d;const a=n.attachShadow({mode:r||!1===t?"closed":"open"});i?(Array.isArray(i)?i="object"===Ge(i[0])?e("template",...i,Ce.body):e("template",i,Ce.body):"string"==typeof i&&(i=ze(i)),e(i.content.cloneNode(!0),a)):(o||(o=t||r),o&&"boolean"!=typeof o&&(Array.isArray(o)?e({"#":o},a):e(o,a)));break}case"$state":case"is":case"xmlns":break;case"$custom":Object.assign(n,d);break;case"$define":{const e=n.localName.toLowerCase(),o=!e.includes("-");let i;if(o&&(i=n.getAttribute("is"),!i)){if(!{}.hasOwnProperty.call(r,"is"))throw new TypeError(`Expected \`is\` with \`$define\` on built-in; args: ${JSON.stringify(t)}`);r.is=tt(n,"is",r.is,a),n.setAttribute("is",r.is),({is:i}=r)}const s=o?i:e;if(window.customElements.get(s))break;const u=t=>{const n=l&&l.extends?Ce.createElement(l.extends).constructor:o?Ce.createElement(e).constructor:window.HTMLElement;return t?class extends n{constructor(){super(),t.call(this)}}:class extends n{}};let c,l,f;Array.isArray(d)?d.length<=2?([c,l]=d,"string"==typeof l?l={extends:l}:l&&!{}.hasOwnProperty.call(l,"extends")&&(f=l),"object"==typeof c&&(f=c,c=u())):([c,f,l]=d,"string"==typeof l&&(l={extends:l})):"function"==typeof d?c=d:(f=d,c=u()),c.toString().startsWith("class")||(c=u(c)),!l&&o&&(l={extends:e}),f&&Object.entries(f).forEach((([e,t])=>{c.prototype[e]=t})),window.customElements.define(s,c,"object"==typeof l?l:void 0);break}case"$symbol":{const[e,t]=d;if("function"==typeof t){const r=t.bind(n);"string"==typeof e?n[Symbol.for(e)]=r:n[e]=r}else{const r=t;r.elem=n,"string"==typeof e?n[Symbol.for(e)]=r:n[e]=r}break}case"$data":l(d);break;case"$attribute":{const e=3===d.length?Ce.createAttributeNS(d[0],d[1]):Ce.createAttribute(d[0]);e.value=d[d.length-1],o[o.length]=e;break}case"$text":{const e=Ce.createTextNode(d);o[o.length]=e;break}case"$document":{const t=Ce.implementation.createHTMLDocument();if(d.childNodes){const e=d.childNodes.length;for(;t.childNodes[e];){t.childNodes[e].remove()}d.childNodes.forEach(Ye(t))}else{if(d.$DOCTYPE){const n={$DOCTYPE:d.$DOCTYPE},r=e(n);t.firstChild.replaceWith(r)}const n=t.childNodes[1],r=n.childNodes[0],o=n.childNodes[1];if(d.title||d.head){const e=Ce.createElement("meta");e.setAttribute("charset","utf-8"),r.append(e),d.title&&(t.title=d.title),d.head&&d.head.forEach(Qe(r))}d.body&&d.body.forEach(et(o))}o[o.length]=t;break}case"$DOCTYPE":{const e=Ce.implementation.createDocumentType(d.name,d.publicId||"",d.systemId||"");o[o.length]=e;break}case"$on":for(let[e,r]of Object.entries(d||{})){if("function"==typeof r&&(r=[r,!1]),"function"!=typeof r[0])throw new TypeError(`Expect a function for \`$on\`; args: ${JSON.stringify(t)}`);s=n,u=e,c=r[0],f=r[1],s.addEventListener(u,c,Boolean(f))}break;case"className":case"class":d=tt(n,p,d,a),Ke(d)||(n.className=d);break;case"dataset":{const e=(t,r)=>{let o="";const i=""!==r;Object.keys(t).forEach((a=>{const s=t[a];if(o=i?r+a.replace($e,Je).replace(/^([a-z])/u,Je):r+a.replace($e,Je),null===s||"object"!=typeof s)return Ke(s)||(n.dataset[o]=s),void(o=r);e(s,o)}))};e(d,"");break}case"innerHTML":Ke(d)||(n.innerHTML=d);break;case"htmlFor":case"for":if("label"===i){d=tt(n,p,d,a),Ke(d)||(n.htmlFor=d);break}d=tt(n,p,d,a),n.setAttribute(p,d);break;default:{if(p.startsWith("on")){d=tt(n,p,d,a),n[p]=d;break}if("style"===p){if(d=tt(n,p,d,a),Ke(d))break;if("object"==typeof d){for(const[e,t]of Object.entries(d))Ke(t)||("float"===e?(n.style.cssFloat=t,n.style.styleFloat=t):n.style[e.replace($e,Je)]=t);break}n.setAttribute(p,d);break}const e=nt(a,p);if(e){e.set({opts:a,element:n,attribute:{name:p,value:d}});break}d=tt(n,p,d,a),n.setAttribute(p,d);break}}var s,u,c,f}const o=[];let i,a,s=!1;if("object"===Ge(t[0])&&Object.keys(t[0]).some((e=>Fe.includes(e)))){if(a=t[0],void 0===a.$state&&(s=!0,a.$state="root"),a.$map&&!a.$map.root&&!1!==a.$map.root&&(a.$map={root:a.$map}),"$plugins"in a){if(!Array.isArray(a.$plugins))throw new TypeError(`\`$plugins\` must be an array; args: ${JSON.stringify(t)}`);a.$plugins.forEach((e=>{if(!e||"object"!=typeof e)throw new TypeError(`Plugin must be an object; args: ${JSON.stringify(t)}`);if(!e.name||!e.name.startsWith("$_"))throw new TypeError(`Plugin object name must be present and begin with \`$_\`; args: ${JSON.stringify(t)}`);if("function"!=typeof e.set)throw new TypeError(`Plugin object must have a \`set\` method; args: ${JSON.stringify(t)}`)}))}t=t.slice(1)}else a={$state:void 0};const u=t.length,c=a.$map&&a.$map.root,l=e=>{let t,r;if(!0===e)[t,r]=c;else if(Array.isArray(e)){if("string"==typeof e[0])return void e.forEach((e=>{l(a.$map[e])}));t=e[0]||c[0],r=e[1]||c[1]}else/^\[object (?:Weak)?Map\]$/u.test([].toString.call(e))?(t=e,r=c[1]):(t=c[0],r=e);t.set(n,r)};for(let s=0;s<u;s++){let c=t[s];const l=Ge(c);switch(l){case"null":if(s===u-1)return We(o[0]),o.length<=1?o[0]:o.reduce(Xe,Ce.createDocumentFragment());throw new TypeError(`\`null\` values not allowed except as final Jamilih argument; index ${s} on args: ${JSON.stringify(t)}`);case"string":switch(c){case"!":o[o.length]=Ce.createComment(t[++s]);break;case"?":{c=t[++s];let e=t[++s];const n=e;if(n&&"object"==typeof n){e=[];for(const[t,r]of Object.entries(n))e.push(t+'="'+r.replace(/"/gu,"&quot;")+'"');e=e.join(" ")}try{o[o.length]=Ce.createProcessingInstruction(c,e)}catch(t){o[o.length]=Ce.createComment("?"+c+" "+e+"?")}break}case"&":o[o.length]=He("entity","",t[++s]);break;case"#":o[o.length]=He("decimal",c,String(t[++s]));break;case"#x":o[o.length]=He("hexadecimal",c,t[++s]);break;case"![":try{o[o.length]=Ce.createCDATASection(t[++s])}catch(e){o[o.length]=Ce.createTextNode(t[s])}break;case"":o[o.length]=n=Ce.createDocumentFragment(),a.$state="fragment";break;default:{i=c;const e=t[s+1];if("object"===Ge(e)&&e.is){const{is:t}=e;n=Ce.createElementNS?Ce.createElementNS(Le,i,{is:t}):Ce.createElement(i,{is:t})}else n=Ce.createElementNS?Ce.createElementNS(Le,i):Ce.createElement(i);a.$state="element",o[o.length]=n;break}}break;case"object":{const e=c;if(void 0!==e.xmlns){const t="object"==typeof e.xmlns?Ze(e.xmlns):' xmlns="'+e.xmlns+'"';n=o[o.length-1]=(new De.DOMParser).parseFromString((new De.XMLSerializer).serializeToString(n).replace(' xmlns="'+Le+'"',t),"application/xml").documentElement,a.$state="element"}r(e);break}case"document":case"fragment":case"element":if(0===s&&(n=c,a.$state="element"),s===u-1||s===u-2&&null===t[s+1]){const e=o.length;for(let t=0;t<e;t++)Ve(c,o[t]);We(o[0])}else o[o.length]=c;break;case"array":{const r=c,o=r.length;for(let i=0;i<o;i++){const o=r[i],s=typeof o;if(Ke(o))throw new TypeError(`Bad children (parent array: ${JSON.stringify(t)}; index ${i} of child: ${JSON.stringify(r)})`);switch(s){case"string":case"number":case"boolean":Ve(n,Ce.createTextNode(o));break;default:if(Array.isArray(o))a.$state="children",Ve(n,e(a,...o));else if(o["#"])a.$state="fragmentChildren",Ve(n,e(a,o["#"]));else{const e=tt(n,null,o,a);Ve(n,e)}}}break}default:throw new TypeError(`Unexpected type: ${l}; arg: ${c}; index ${s} on args: ${JSON.stringify(t)}`)}}const f=o[0]||n;return s&&a.$map&&a.$map.root&&l(!0),f};rt.toJML=function(e,{stringOutput:t=!1,reportInvalidState:n=!0,stripWhitespace:r=!1}={}){"string"==typeof e&&(e=(new De.DOMParser).parseFromString(e,"text/html"));const o=[];let i=o,a=0;function s(e){class t extends Error{constructor(e,t){super(e),this.name=t}}if(n){const n=new t(e,"INVALID_STATE_ERR");throw n.code=11,n}}function u(e){i[a]=e,a++}function c(){u([]),i=i[a-1],a=0}function l(e,t){i=i[a-1][e],a=0,t&&(i=i[t])}return function e(t,n){const o="nodeType"in t?t.nodeType:null;let f,p;function d(){f=i,p=a}function h(){i=f,a=p,a++}switch(n={...n},[2,3,4,7,8].includes(o)&&!/^([\u0009\u000A\u000D\u0020-\uD7FF\uE000-\uFFFD]|[\uD800-\uDBFF][\uDC00-\uDFFF])*$/u.test(t.nodeValue)&&s("Node has bad XML character value"),o){case 1:{d();const r=t.nodeName.toLowerCase();c(),u(r);const o={};let i=!1;n[t.prefix||""]!==t.namespaceURI&&(n[t.prefix||""]=t.namespaceURI,t.prefix?o["xmlns:"+t.prefix]=t.namespaceURI:t.namespaceURI?o.xmlns=t.namespaceURI:o.xmlns=null,i=!0),t.attributes.length?u([...t.attributes].reduce((function(e,t){return e[t.name]=t.value,e}),o)):i&&u(o);const{childNodes:a}=t;a.length&&(c(),[...a].forEach((function(t){e(t,n)}))),h();break}case void 0:case 2:u({$attribute:[t.namespaceURI,t.name,t.value]});break;case 3:if(r&&/^\s+$/u.test(t.nodeValue))return void u("");u(t.nodeValue);break;case 4:t.nodeValue.includes("]]>")&&s("CDATA cannot end with closing ]]>"),u(["![",t.nodeValue]);break;case 5:u(["&",t.nodeName]);break;case 7:/^xml$/iu.test(t.target)&&s('Processing instructions cannot be "xml".'),t.target.includes("?>")&&s("Processing instruction targets cannot include ?>"),t.target.includes(":")&&s('The processing instruction target cannot include ":"'),t.data.includes("?>")&&s("Processing instruction data cannot include ?>"),u(["?",t.target,t.data]);break;case 8:(t.nodeValue.includes("--")||t.nodeValue.length&&t.nodeValue.lastIndexOf("-")===t.nodeValue.length-1)&&s("Comments cannot include --"),u(["!",t.nodeValue]);break;case 9:{d();u({$document:{childNodes:[]}}),l("$document","childNodes");const{childNodes:r}=t;r.length||s("Documents must have a child node"),[...r].forEach((function(t){e(t,n)})),h();break}case 10:{d();const e={$DOCTYPE:{name:t.name}};/^(\u0020|\u000D|\u000A|[a-zA-Z0-9]|[-'()+,./:=?;!*#@$_%])*$/u.test(t.publicId)||s("A publicId must have valid characters."),function(e,t){t.systemId.includes('"')&&t.systemId.includes("'")&&s("systemId cannot have both single and double quotes.");const{publicId:n,systemId:r}=t;r&&(e.systemId=r),n&&(e.publicId=n)}(e.$DOCTYPE,t),u(e),h();break}case 11:{d(),u({"#":[]}),l("#");const{childNodes:r}=t;[...r].forEach((function(t){e(t,n)})),h();break}default:throw new TypeError("Not an XML type")}}(e,{}),t?JSON.stringify(o[0]):o[0]},rt.toJMLString=function(e,t){return rt.toJML(e,Object.assign(t||{},{stringOutput:!0}))},rt.toDOM=function(...e){return rt(...e)},rt.toHTML=function(...e){return rt(...e).outerHTML},rt.toDOMString=function(...e){return rt.toHTML(...e)},rt.toXML=function(...e){const t=rt(...e);return(new De.XMLSerializer).serializeToString(t)},rt.toXMLDOMString=function(...e){return rt.toXML(...e)};class ot extends Map{get(e){return e="string"==typeof e?ze(e):e,super.get.call(this,e)}set(e,t){return e="string"==typeof e?ze(e):e,super.set.call(this,e,t)}invoke(e,t,...n){return e="string"==typeof e?ze(e):e,this.get(e)[t](e,...n)}}class it extends WeakMap{get(e){return e="string"==typeof e?ze(e):e,super.get.call(this,e)}set(e,t){return e="string"==typeof e?ze(e):e,super.set.call(this,e,t)}invoke(e,t,...n){return e="string"==typeof e?ze(e):e,this.get(e)[t](e,...n)}}rt.Map=ot,rt.WeakMap=it,rt.weak=function(e,...t){const n=new it;return[n,rt({$map:[n,e]},...t)]},rt.strong=function(e,...t){const n=new ot;return[n,rt({$map:[n,e]},...t)]},rt.symbol=rt.sym=rt.for=function(e,t){return(e="string"==typeof e?ze(e):e)["symbol"==typeof t?t:Symbol.for(t)]},rt.command=function(e,t,n,...r){let o;return e="string"==typeof e?ze(e):e,["symbol","string"].includes(typeof t)?(o=rt.sym(e,t),"function"==typeof o?o(n,...r):o[n](...r)):(o=t.get(e),"function"==typeof o?o.call(e,n,...r):o[n](e,...r))},rt.setWindow=e=>{De=e,Ce=De.document,Ce&&Ce.body&&({body:at}=Ce)},rt.getWindow=()=>De;let at=Ce&&Ce.body;const st=(e,t)=>e.querySelector(t),ut=["submit","submitClass"],ct=["submit","cancel","cancelClass","submitClass"],lt=["message","submit"],ft={en:{submit:"Submit",cancel:"Cancel",ok:"Ok"}};const pt=new class{constructor({locale:e,localeObject:t}={}){this.setLocale({locale:e,localeObject:t})}setLocale({locale:e={},localeObject:n={}}){this.localeStrings=t(t(t({},ft.en),ft[e]),n)}makeDialog({atts:e={$on:null},children:t=[],close:n,remove:r=!0}){n&&(e.$on||(e.$on={}),e.$on.close||(e.$on.close=n));const o=rt("dialog",e,t,ze("#main"));return o.showModal(),r&&o.addEventListener("close",(()=>{o.remove()})),o}makeSubmitDialog(e){let{submit:t,submitClass:n="submit"}=e,o=r(e,ut);const i=this.makeCancelDialog(o);return st(i,`button.${o.cancelClass||"cancel"}`).before(rt("button",{class:n,$on:{click(e){t&&t.call(this,{e:e,dialog:i})}}},[this.localeStrings.submit])," ".repeat(2)),i}makeCancelDialog(e){let{submit:t,cancel:n,cancelClass:o="cancel",submitClass:i="submit"}=e,a=r(e,ct);const s=this.makeDialog(a);return rt("div",{class:i},[["br"],["br"],["button",{class:o,$on:{click(e){e.preventDefault(),n&&!1===n.call(this,{e:e,dialog:s})||s.close()}}},[this.localeStrings.cancel]]],s),s}alert(e,t){e="string"==typeof e?{message:e}:e;const{ok:n=("object"==typeof t?!1!==t.ok:!1!==t),message:r,submitClass:o="submit"}=e;return new Promise(((e,t)=>{const i=rt("dialog",[r,...n?[["br"],["br"],["div",{class:o},[["button",{$on:{click(){i.close(),e()}}},[this.localeStrings.ok]]]]]:[]],ze("#main"));i.showModal()}))}prompt(e){e="string"==typeof e?{message:e}:e;const{message:n,submit:o}=e,i=r(e,lt);return new Promise(((e,r)=>{this.makeSubmitDialog(t(t({},i),{},{submit:function({e:t,dialog:n}){o&&o.call(this,{e:t,dialog:n}),n.close(),e(st(n,"input").value)},cancel(){r(new Error("cancelled"))},children:[["label",[n," ".repeat(3),["input"]]]]}))}))}confirm(e){e="string"==typeof e?{message:e}:e;const{message:t,submitClass:n="submit"}=e;return new Promise(((e,r)=>{const o=rt("dialog",[t,["br"],["br"],["div",{class:n},[["button",{$on:{click(){o.close(),e()}}},[this.localeStrings.ok]]," ".repeat(2),["button",{$on:{click(){o.close(),r(new Error("cancelled"))}}},[this.localeStrings.cancel]]]]],ze("#main"));o.showModal()}))}};class dt{constructor({langData:e}){this.langData=e}localeFromLangData(e){return this.langData["localization-strings"][e]}getLanguageFromCode(e){return this.localeFromLangData(e).languages[e]}getFieldNameFromPluginNameAndLocales({pluginName:e,locales:n,workI18n:r,targetLanguage:o,applicableFieldI18N:i,meta:a,metaApplicableField:s}){return r(["plugins",e,"fieldname"],t(t(t({},a),s),{},{applicableField:i,targetLanguage:o?this.getLanguageFromCode(o):""}),{throwOnExtraSuppliedFormatters:!1})}getLanguageInfo({$p:e}){const t=this.langData.languages,n=e=>!!t.some((({code:t})=>t===e))&&e,r=e.get("lang",!0),o=navigator.languages.filter(n),i=o.length?o:[n(navigator.language)||"en-US"];return{lang:[...(r||i[0]).split("."),...i],langs:t,languageParam:r,fallbackLanguages:i}}}var ht=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=84)}([function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r;try{r={clone:n(88),constant:n(64),each:n(146),filter:n(152),has:n(175),isArray:n(0),isEmpty:n(177),isFunction:n(17),isUndefined:n(178),keys:n(6),map:n(179),reduce:n(181),size:n(184),transform:n(190),union:n(191),values:n(210)}}catch(e){}r||(r=window._),e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(47),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();e.exports=a},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!=e&&"object"==n(e)}},function(e,t,n){var r=n(100),o=n(105);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=n(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(52),o=n(37),i=n(7);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(17),o=n(34);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(9),o=n(101),i=n(102),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t,n){var r=n(132),o=n(31),i=n(133),a=n(61),s=n(134),u=n(8),c=n(48),l=c(r),f=c(o),p=c(i),d=c(a),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(2),i=n(121),a="object"==r(t)&&t&&!t.nodeType&&t,s=a&&"object"==r(e)&&e&&!e.nodeType&&e,u=s&&s.exports===a?o.Buffer:void 0,c=(u?u.isBuffer:void 0)||i;e.exports=c}).call(this,n(14)(e))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(90),o=n(91),i=n(92),a=n(93),s=n(94);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(30);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(8),o=n(5);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(4)(Object,"create");e.exports=r},function(e,t,n){var r=n(114);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(49),o=n(50);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(120),o=n(3),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(122),o=n(35),i=n(36),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(65),o=n(150)(r);e.exports=o},function(e,t){e.exports=function(e){return e}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(154),i=n(164),a=n(25),s=n(0),u=n(173);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==r(e)?s(e)?i(e[0],e[1]):o(e):u(e)}},function(e,t,n){var r=n(44);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(1);function i(e){this._isDirected=!o.has(e,"directed")||e.directed,this._isMultigraph=!!o.has(e,"multigraph")&&e.multigraph,this._isCompound=!!o.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+""+a+""+(o.isUndefined(r)?"\0":r)}function c(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function l(e,t){return u(e,t.v,t.w,t.name)}e.exports=i,i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._in[t])}))},i.prototype.sinks=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._out[t])}))},i.prototype.setNodes=function(e,t){var n=arguments,r=this;return o.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},i.prototype.setNode=function(e,t){return o.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return o.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(o.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),o.each(o.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],o.each(o.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(t))t="\0";else{for(var n=t+="";!o.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},i.prototype.children=function(e){if(o.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return o.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return o.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return o.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return o.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),o.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};return this._isCompound&&o.each(t.nodes(),(function(e){t.setParent(e,function e(o){var i=n.parent(o);return void 0===i||t.hasNode(i)?(r[o]=i,i):i in r?r[i]:e(i)}(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,r=arguments;return o.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},i.prototype.setEdge=function(){var e,t,n,i,s=!1,l=arguments[0];"object"===r(l)&&null!==l&&"v"in l?(e=l.v,t=l.w,n=l.name,2===arguments.length&&(i=arguments[1],s=!0)):(e=l,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,t=""+t,o.isUndefined(n)||(n=""+n);var f=u(this._isDirected,e,t,n);if(o.has(this._edgeLabels,f))return s&&(this._edgeLabels[f]=i),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[f]=s?i:this._defaultEdgeLabelFn(e,t,n);var p=c(this._isDirected,e,t,n);return e=p.v,t=p.w,Object.freeze(p),this._edgeObjs[f]=p,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][f]=p,this._out[e][f]=p,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return o.has(this._edgeLabels,r)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.v===t})):r}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.w===t})):r}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},function(e,t,n){var r=n(15),o=n(95),i=n(96),a=n(97),s=n(98),u=n(99);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(4)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(106),o=n(113),i=n(115),a=n(116),s=n(117);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(47),i="object"==r(t)&&t&&!t.nodeType&&t,a=i&&"object"==r(e)&&e&&!e.nodeType&&e,s=a&&a.exports===i&&o.process,u=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(this,n(14)(e))},function(e,t,n){var r=n(23),o=n(123),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(56),o=n(57),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(54)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(62);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),i=n(44),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(8),i=n(3);e.exports=function(e){return"symbol"==r(e)||i(e)&&"[object Symbol]"==o(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t;e.exports=r}).call(this,n(11))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(50),o=n(30),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(51);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(4),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(119),o=n(21),i=n(0),a=n(12),s=n(53),u=n(22),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),p=!n&&!l&&!f&&u(e),d=n||l||f||p,h=d?r(e.length,String):[],v=h.length;for(var g in e)!t&&!c.call(e,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||h.push(g);return h}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=n(e);return!!(t=null==t?9007199254740991:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(52),o=n(125),i=n(7);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(39),o=n(40),i=n(38),a=n(57),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,n){var r=n(60),o=n(38),i=n(6);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(39),o=n(0);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(4)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t,n){var r=n(5),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(148),o=n(6);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(156),o=n(3);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(68),o=n(159),i=n(69);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var p=u.get(e);if(p&&u.get(t))return p==t;var d=-1,h=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++d<l;){var g=e[d],y=t[d];if(a)var m=c?a(y,g,d,t,e,u):a(g,y,d,e,t,u);if(void 0!==m){if(m)continue;h=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(g===e||s(g,e,n,a,u)))return v.push(t)}))){h=!1;break}}else if(g!==y&&!s(g,y,n,a,u)){h=!1;break}}return u.delete(e),u.delete(t),h}},function(e,t,n){var r=n(32),o=n(157),i=n(158);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(5);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(73),o=n(27);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(0),o=n(43),i=n(166),a=n(169);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(73),o=n(21),i=n(0),a=n(53),s=n(34),u=n(27);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var p=u(t[c]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(p,l)&&(i(e)||o(e))}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(1),o=n(77);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},u=new o,c=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},function(e,t,n){var r=n(1);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},function(e,t,n){var r=n(1);e.exports=function(e){var t=0,n=[],o={},i=[];return e.nodes().forEach((function(a){r.has(o,a)||function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),o[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}(a)})),i}},function(e,t,n){var r=n(1);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))})),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},function(e,t,n){var r=n(1);e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,o,i,a,s){r.has(i,n)||(i[n]=!0,o||s.push(n),r.each(a(n),(function(n){e(t,n,o,i,a,s)})),o&&s.push(n))}(e,t,"post"===n,a,o,i)})),i}},function(e,t,n){(function(t){var r=n(226),o=["delete","get","head","patch","post","put"];e.exports.load=function(e,n,i){var a,s,u=n.method?n.method.toLowerCase():"get";function c(e,n){e?i(e):("[object process]"===Object.prototype.toString.call(void 0!==t?t:0)&&"function"==typeof n.buffer&&n.buffer(!0),n.end((function(e,t){e?i(e):i(void 0,t)})))}if(void 0!==n.method?"string"!=typeof n.method?a=new TypeError("options.method must be a string"):-1===o.indexOf(n.method)&&(a=new TypeError("options.method must be one of the following: "+o.slice(0,o.length-1).join(", ")+" or "+o[o.length-1])):void 0!==n.prepareRequest&&"function"!=typeof n.prepareRequest&&(a=new TypeError("options.prepareRequest must be a function")),a)i(a);else if(s=r["delete"===u?"del":u](e),n.prepareRequest)try{n.prepareRequest(s,c)}catch(e){i(e)}else c(void 0,s)}}).call(this,n(13))},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!==e&&"object"===r(e)}},function(e,t,n){(function(r,o){var i,a,s,u;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! Native Promise Only
        v0.8.1 (c) Kyle Simpson
        MIT License: http://getify.mit-license.org
    */u=function(){var e,t,n,r=Object.prototype.toString,i=void 0!==o?function(e){return o(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function a(e,r){n.add(e,r),t||(t=i(n.drain))}function s(e){var t,n=c(e);return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=s(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function f(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=s(e))?a((function(){var r=new h(n);try{t.call(e,(function(){f.apply(r,arguments)}),(function(){p.apply(r,arguments)}))}catch(e){p.call(r,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&a(u,n))}catch(e){p.call(new h(n),e)}}}function p(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(u,t))}function d(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){n(o,e)}),r)}(o)}function h(e){this.def=e,this.triggered=!1}function v(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new v(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&a(u,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){f.call(t,e)}),(function(e){p.call(t,e)}))}catch(e){p.call(t,e)}}n=function(){var e,n,r;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,i){r=new o(t,i),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var y=e({},"constructor",g,!1);return g.prototype=y,e(y,"__NPO__",0,!1),e(g,"resolve",(function(e){return e&&"object"==c(e)&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(g,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(g,"all",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;d(t,e,(function(e,t){i[e]=t,++a===o&&n(i)}),r)}))})),e(g,"race",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");d(t,e,(function(e,t){n(t)}),r)}))})),g},(s=void 0!==r?r:this)[a="Promise"]=s[a]||u(),e.exports?e.exports=s[a]:void 0===(i=function(){return s[a]}.call(t,n,t,e))||(e.exports=i)}).call(this,n(11),n(232).setImmediate)},function(e,t,n){(function(t){var r=n(85),o=n(86),i=n(223),a=n(224),s=n(234),u=n(237),c=n(238),l=/~(?:[^01]|$)/g,f={},p=["relative","remote"],d=["absolute","uri"],h={};function v(e,t){r.isString(e)&&(e=u(e)),r.isString(t)&&(t=u(t));var n,o,a=j(r.isUndefined(t)?"":t);return d.indexOf(a.reference)>-1?o=a:(n=r.isUndefined(e)?void 0:j(e),r.isUndefined(n)?o=a:((o=n).path=u(i.join(n.path,a.path)),o.query=function(e,t){var n={};function o(e){r.forOwn(e,(function(e,t){n[t]=e}))}return o(s.parse(e||"")),o(s.parse(t||"")),0===Object.keys(n).length?void 0:s.stringify(n)}(n.query,a.query))),o.fragment=void 0,(-1===d.indexOf(o.reference)&&0===o.path.indexOf("../")?"../":"")+c.serialize(o)}function g(e){return p.indexOf(w(e))>-1}function y(e){return r.isUndefined(e.error)&&"invalid"!==e.type}function m(e,t){var n=e;return t.forEach((function(e){if(!(e in n))throw Error("JSON Pointer points to missing location: "+C(t));n=n[e]})),n}function b(e){return Object.keys(e).filter((function(e){return"$ref"!==e}))}function w(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function _(e,t){var n=f[e],o=Promise.resolve(),i=r.cloneDeep(t.loaderOptions||{});return r.isUndefined(n)?(r.isUndefined(i.processContent)&&(i.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),o=(o=a.load(decodeURI(e),i)).then((function(t){return f[e]={value:t},t})).catch((function(t){throw f[e]={error:t},t}))):o=o.then((function(){if(r.isError(n.error))throw n.error;return n.value})),o.then((function(e){return r.cloneDeep(e)}))}function x(e,t){var n=!0;try{if(!r.isPlainObject(e))throw new Error("obj is not an Object");if(!r.isString(e.$ref))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;n=!1}return n}function S(e){return-1!==e.indexOf("://")||i.isAbsolute(e)?e:i.resolve(t.cwd(),e)}function k(e,t){e.error=t.message,e.missing=!0}function j(e){return c.parse(e)}function O(e,t,n){m(e,t.slice(0,t.length-1))[t[t.length-1]]=n}function E(e,t){var n,o;if(e=r.isUndefined(e)?{}:r.cloneDeep(e),!r.isObject(e))throw new TypeError("options must be an Object");if(!r.isUndefined(e.resolveCirculars)&&!r.isBoolean(e.resolveCirculars))throw new TypeError("options.resolveCirculars must be a Boolean");if(!(r.isUndefined(e.filter)||r.isArray(e.filter)||r.isFunction(e.filter)||r.isString(e.filter)))throw new TypeError("options.filter must be an Array, a Function of a String");if(!r.isUndefined(e.includeInvalid)&&!r.isBoolean(e.includeInvalid))throw new TypeError("options.includeInvalid must be a Boolean");if(!r.isUndefined(e.location)&&!r.isString(e.location))throw new TypeError("options.location must be a String");if(!r.isUndefined(e.refPreProcessor)&&!r.isFunction(e.refPreProcessor))throw new TypeError("options.refPreProcessor must be a Function");if(!r.isUndefined(e.refPostProcessor)&&!r.isFunction(e.refPostProcessor))throw new TypeError("options.refPostProcessor must be a Function");if(!r.isUndefined(e.subDocPath)&&!r.isArray(e.subDocPath)&&!T(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(r.isUndefined(e.resolveCirculars)&&(e.resolveCirculars=!1),e.filter=function(e){var t,n;return r.isArray(e.filter)||r.isString(e.filter)?(n=r.isString(e.filter)?[e.filter]:e.filter,t=function(e){return n.indexOf(e.type)>-1||n.indexOf(w(e))>-1}):r.isFunction(e.filter)?t=e.filter:r.isUndefined(e.filter)&&(t=function(){return!0}),function(n,r){return("invalid"!==n.type||!0===e.includeInvalid)&&t(n,r)}}(e),r.isUndefined(e.location)&&(e.location=S("./root.json")),(n=e.location.split("#")).length>1&&(e.subDocPath="#"+n[1]),o=decodeURI(e.location)===e.location,e.location=v(e.location,void 0),o&&(e.location=decodeURI(e.location)),e.subDocPath=function(e){var t;return r.isArray(e.subDocPath)?t=e.subDocPath:r.isString(e.subDocPath)?t=D(e.subDocPath):r.isUndefined(e.subDocPath)&&(t=[]),t}(e),!r.isUndefined(t))try{m(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function A(e){if(!r.isArray(e))throw new TypeError("path must be an array");return e.map((function(e){return r.isString(e)||(e=JSON.stringify(e)),e.replace(/~1/g,"/").replace(/~0/g,"~")}))}function P(e){if(!r.isArray(e))throw new TypeError("path must be an array");return e.map((function(e){return r.isString(e)||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")}))}function I(e,t){var n={};if(!r.isArray(e)&&!r.isObject(e))throw new TypeError("obj must be an Array or an Object");return function e(t,n,o,i){var a=!0;function s(n,r){o.push(r),e(t,n,o,i),o.pop()}r.isFunction(i)&&(a=i(t,n,o)),-1===t.indexOf(n)&&(t.push(n),!1!==a&&(r.isArray(n)?n.forEach((function(e,t){s(e,t.toString())})):r.isObject(n)&&r.forOwn(n,(function(e,t){s(e,t)}))),t.pop())}(function(e,t){var n,r=[];return t.length>0&&(n=e,t.slice(0,t.length-1).forEach((function(e){e in n&&(n=n[e],r.push(n))}))),r}(e,(t=E(t,e)).subDocPath),m(e,t.subDocPath),r.cloneDeep(t.subDocPath),(function(e,o,i){var a,s,u=!0;return x(o)&&(r.isUndefined(t.refPreProcessor)||(o=t.refPreProcessor(r.cloneDeep(o),i)),a=N(o),r.isUndefined(t.refPostProcessor)||(a=t.refPostProcessor(a,i)),t.filter(a,i)&&(s=C(i),n[s]=a),b(o).length>0&&(u=!1)),u})),n}function N(e){var t,n,o,i={def:e};try{if(x(e,!0),t=e.$ref,o=h[t],r.isUndefined(o)&&(o=h[t]=j(t)),i.uri=t,i.uriDetails=o,r.isUndefined(o.error)){i.type=w(i);try{["#","/"].indexOf(t[0])>-1?T(t,!0):t.indexOf("#")>-1&&T(o.fragment,!0)}catch(e){i.error=e.message,i.type="invalid"}}else i.error=i.uriDetails.error,i.type="invalid";(n=b(e)).length>0&&(i.warning="Extra JSON Reference properties will be ignored: "+n.join(", "))}catch(e){i.error=e.message,i.type="invalid"}return i}function T(e,t){var n,o=!0;try{if(!r.isString(e))throw new Error("ptr is not a String");if(""!==e){if(n=e.charAt(0),-1===["#","/"].indexOf(n))throw new Error("ptr must start with a / or #/");if("#"===n&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(l))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===t)throw e;o=!1}return o}function D(e){try{T(e,!0)}catch(e){throw new Error("ptr must be a JSON Pointer: "+e.message)}var t=e.split("/");return t.shift(),A(t)}function C(e,t){if(!r.isArray(e))throw new Error("path must be an Array");return(!1!==t?"#":"")+(e.length>0?"/":"")+P(e).join("/")}function F(e,t){var n=Promise.resolve();return n.then((function(){if(!r.isArray(e)&&!r.isObject(e))throw new TypeError("obj must be an Array or an Object");t=E(t,e),e=r.cloneDeep(e)})).then((function(){var n={deps:{},docs:{},refs:{}};return function e(t,n,o){var a,s,u=Promise.resolve(),c=C(n.subDocPath),l=S(n.location),f=i.dirname(n.location),p=l+c;return r.isUndefined(o.docs[l])&&(o.docs[l]=t),r.isUndefined(o.deps[p])&&(o.deps[p]={},a=I(t,n),r.forOwn(a,(function(i,a){var l,d,h=S(n.location)+a,m=i.refdId=decodeURI(S(g(i)?v(f,i.uri):n.location)+"#"+(i.uri.indexOf("#")>-1?i.uri.split("#")[1]:""));o.refs[h]=i,y(i)&&(i.fqURI=m,o.deps[p][a===c?"#":a.replace(c+"/","#/")]=m,0!==h.indexOf(m+"/")&&h!==m?((s=r.cloneDeep(n)).subDocPath=r.isUndefined(i.uriDetails.fragment)?[]:D(decodeURI(i.uriDetails.fragment)),g(i)?(delete s.filter,s.location=m.split("#")[0],u=u.then((l=o,d=s,function(){var e=S(d.location),t=l.docs[e];return r.isUndefined(t)?_(e,d).catch((function(t){return l.docs[e]=t,t})):Promise.resolve().then((function(){return t}))}))):u=u.then((function(){return t})),u=u.then(function(t,n,o){return function(i){if(r.isError(i))k(o,i);else try{return e(i,n,t).catch((function(e){k(o,e)}))}catch(e){k(o,e)}}}(o,s,i))):i.circular=!0)}))),u}(e,t,n).then((function(){return n}))})).then((function(e){var n={},a=[],s=[],u=new o.Graph,c=S(t.location),l=c+C(t.subDocPath),f=i.dirname(c);return Object.keys(e.deps).forEach((function(e){u.setNode(e)})),r.forOwn(e.deps,(function(e,t){r.forOwn(e,(function(e){u.setEdge(t,e)}))})),(a=o.alg.findCycles(u)).forEach((function(e){e.forEach((function(e){-1===s.indexOf(e)&&s.push(e)}))})),r.forOwn(e.deps,(function(t,n){r.forOwn(t,(function(t,r){var o,i=!1,u=n+r.slice(1),c=e.refs[n+r.slice(1)],l=g(c);s.indexOf(t)>-1&&a.forEach((function(e){i||(o=e.indexOf(t))>-1&&e.forEach((function(n){i||0===u.indexOf(n+"/")&&(l&&o!==e.length-1&&"#"===t[t.length-1]||(i=!0))}))})),i&&(c.circular=!0)}))})),r.forOwn(Object.keys(e.deps).reverse(),(function(n){var o=e.deps[n],i=n.split("#"),a=e.docs[i[0]],s=D(i[1]);r.forOwn(o,(function(n,o){var u=n.split("#"),c=e.docs[u[0]],l=s.concat(D(o)),f=e.refs[i[0]+C(l)];if(r.isUndefined(f.error)&&r.isUndefined(f.missing))if(!t.resolveCirculars&&f.circular)f.value=r.cloneDeep(f.def);else{try{f.value=m(c,D(u[1]))}catch(e){return void k(f,e)}""===i[1]&&"#"===o?e.docs[i[0]]=f.value:O(a,l,f.value)}}))})),Object.keys(e.refs).forEach((function(o){var i,a,s=e.refs[o];"invalid"!==s.type&&("#"===s.fqURI[s.fqURI.length-1]&&"#"!==s.uri[s.uri.length-1]&&(s.fqURI=s.fqURI.substr(0,s.fqURI.length-1)),i=s.fqURI.split("/"),a=s.uri.split("/"),r.times(a.length-1,(function(e){var t=a[a.length-e-1],n=a[a.length-e],r=i.length-e-1;"."!==t&&".."!==t&&".."!==n&&(i[r]=t)})),s.fqURI=i.join("/"),0===s.fqURI.indexOf(c)?s.fqURI=s.fqURI.replace(c,""):0===s.fqURI.indexOf(f)&&(s.fqURI=s.fqURI.replace(f,"")),"/"===s.fqURI[0]&&(s.fqURI="."+s.fqURI)),0===o.indexOf(l)&&function r(o,i,a){var s,u=i.split("#"),c=e.refs[i];n[u[0]===t.location?"#"+u[1]:C(t.subDocPath.concat(a))]=c,!c.circular&&y(c)?(s=e.deps[c.refdId],0!==c.refdId.indexOf(o)&&Object.keys(s).forEach((function(e){r(c.refdId,c.refdId+e.substr(1),a.concat(D(e)))}))):!c.circular&&c.error&&(c.error=c.error.replace("options.subDocPath","JSON Pointer"),c.error.indexOf("#")>-1&&(c.error=c.error.replace(c.uri.substr(c.uri.indexOf("#")),c.uri)),0!==c.error.indexOf("ENOENT:")&&0!==c.error.indexOf("Not Found")||(c.error="JSON Pointer points to missing location: "+c.uri))}(l,o,D(o.substr(l.length)))})),r.forOwn(n,(function(t,n){delete t.refdId,t.circular&&"local"===t.type&&(t.value.$ref=t.fqURI,O(e.docs[c],D(n),t.value)),t.missing&&(t.error=t.error.split(": ")[0]+": "+t.def.$ref)})),{refs:n,resolved:e.docs[c]}}))}"undefined"==typeof Promise&&n(83),e.exports.clearCache=function(){f={}},e.exports.decodePath=function(e){return A(e)},e.exports.encodePath=function(e){return P(e)},e.exports.findRefs=function(e,t){return I(e,t)},e.exports.findRefsAt=function(e,t){return function(e,t){var n=Promise.resolve();return n.then((function(){if(!r.isString(e))throw new TypeError("location must be a string");return r.isUndefined(t)&&(t={}),r.isObject(t)&&(t.location=e),_((t=E(t)).location,t)})).then((function(e){var n=r.cloneDeep(f[t.location]),o=r.cloneDeep(t);return r.isUndefined(n.refs)&&(delete o.filter,delete o.subDocPath,o.includeInvalid=!0,f[t.location].refs=I(e,o)),r.isUndefined(t.filter)||(o.filter=t.filter),{refs:I(e,o),value:e}}))}(e,t)},e.exports.getRefDetails=function(e){return N(e)},e.exports.isPtr=function(e,t){return T(e,t)},e.exports.isRef=function(e,t){return function(e,t){return x(e,t)&&"invalid"!==N(e).type}(e,t)},e.exports.pathFromPtr=function(e){return D(e)},e.exports.pathToPtr=function(e,t){return C(e,t)},e.exports.resolveRefs=function(e,t){return F(e,t)},e.exports.resolveRefsAt=function(e,t){return function(e,t){var n=Promise.resolve();return n.then((function(){if(!r.isString(e))throw new TypeError("location must be a string");return r.isUndefined(t)&&(t={}),r.isObject(t)&&(t.location=e),_((t=E(t)).location,t)})).then((function(e){return F(e,t).then((function(t){return{refs:t.refs,resolved:t.resolved,value:e}}))}))}(e,t)}}).call(this,n(13))},function(e,t,n){(function(e,r){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */(function(){var a="Expected a function",s="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Function]",v="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Object]",b="[object RegExp]",w="[object Set]",_="[object String]",x="[object Symbol]",S="[object WeakMap]",k="[object ArrayBuffer]",j="[object DataView]",O="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",T="[object Uint16Array]",D="[object Uint32Array]",C=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,M=RegExp($.source),U=RegExp(R.source),z=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,K=RegExp(J.source),G=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,ee=/,? & /,te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ne=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,oe=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,ue=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fe=/($^)/,pe=/['\n\r\u2028\u2029\\]/g,de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ve="["+he+"]",ge="["+de+"]",ye="\\d+",me="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+he+ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",je="(?:"+me+"|"+be+")",Oe="(?:"+ke+"|"+be+")",Ee="(?:"+ge+"|"+we+")?",Ae="[\\ufe0e\\ufe0f]?"+Ee+"(?:\\u200d(?:"+[_e,xe,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*",Pe="(?:"+["[\\u2700-\\u27bf]",xe,Se].join("|")+")"+Ae,Ie="(?:"+[_e+ge+"?",ge,xe,Se,"[\\ud800-\\udfff]"].join("|")+")",Ne=RegExp("['’]","g"),Te=RegExp(ge,"g"),De=RegExp(we+"(?="+we+")|"+Ie+Ae,"g"),Ce=RegExp([ke+"?"+me+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ve,ke,"$"].join("|")+")",Oe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ve,ke+je,"$"].join("|")+")",ke+"?"+je+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,Pe].join("|"),"g"),Fe=RegExp("[\\u200d\\ud800-\\udfff"+de+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$e=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Me={};Me[O]=Me[E]=Me[A]=Me[P]=Me[I]=Me[N]=Me["[object Uint8ClampedArray]"]=Me[T]=Me[D]=!0,Me[c]=Me[l]=Me[k]=Me[f]=Me[j]=Me[p]=Me[d]=Me[h]=Me[g]=Me[y]=Me[m]=Me[b]=Me[w]=Me[_]=Me[S]=!1;var Ue={};Ue[c]=Ue[l]=Ue[k]=Ue[j]=Ue[f]=Ue[p]=Ue[O]=Ue[E]=Ue[A]=Ue[P]=Ue[I]=Ue[g]=Ue[y]=Ue[m]=Ue[b]=Ue[w]=Ue[_]=Ue[x]=Ue[N]=Ue["[object Uint8ClampedArray]"]=Ue[T]=Ue[D]=!0,Ue[d]=Ue[h]=Ue[S]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Be=parseFloat,qe=parseInt,We="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,Ve="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,He=We||Ve||Function("return this")(),Je="object"==i(t)&&t&&!t.nodeType&&t,Ke=Je&&"object"==i(r)&&r&&!r.nodeType&&r,Ge=Ke&&Ke.exports===Je,Xe=Ge&&We.process,Ze=function(){try{return Ke&&Ke.require&&Ke.require("util").types||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Ye=Ze&&Ze.isArrayBuffer,Qe=Ze&&Ze.isDate,et=Ze&&Ze.isMap,tt=Ze&&Ze.isRegExp,nt=Ze&&Ze.isSet,rt=Ze&&Ze.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function it(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function lt(e,t){return!(null==e||!e.length)&&wt(e,t,0)>-1}function ft(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ht(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function vt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=kt("length");function mt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function wt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,xt,n)}function _t(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function xt(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?Et(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function jt(e){return function(t){return null==e?void 0:e[t]}}function Ot(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Et(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Pt(e){return function(t){return e(t)}}function It(e,t){return pt(t,(function(t){return e[t]}))}function Nt(e,t){return e.has(t)}function Tt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Ct(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Ft=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Lt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $t(e){return"\\"+ze[e]}function Rt(e){return Fe.test(e)}function Mt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function zt(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function qt(e){return Rt(e)?function(e){for(var t=De.lastIndex=0;De.test(e);)++t;return t}(e):yt(e)}function Wt(e){return Rt(e)?function(e){return e.match(De)||[]}(e):function(e){return e.split("")}(e)}var Vt=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ht=function e(t){var n,r=(t=null==t?He:Ht.defaults(He.Object(),t,Ht.pick(He,$e))).Array,o=t.Date,de=t.Error,he=t.Function,ve=t.Math,ge=t.Object,ye=t.RegExp,me=t.String,be=t.TypeError,we=r.prototype,_e=he.prototype,xe=ge.prototype,Se=t["__core-js_shared__"],ke=_e.toString,je=xe.hasOwnProperty,Oe=0,Ee=(n=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=xe.toString,Pe=ke.call(ge),Ie=He._,De=ye("^"+ke.call(je).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=Ge?t.Buffer:void 0,ze=t.Symbol,We=t.Uint8Array,Ve=Fe?Fe.allocUnsafe:void 0,Je=Ut(ge.getPrototypeOf,ge),Ke=ge.create,Xe=xe.propertyIsEnumerable,Ze=we.splice,yt=ze?ze.isConcatSpreadable:void 0,jt=ze?ze.iterator:void 0,Jt=ze?ze.toStringTag:void 0,Kt=function(){try{var e=Qo(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Xt=o&&o.now!==He.Date.now&&o.now,Zt=t.setTimeout!==He.setTimeout&&t.setTimeout,Yt=ve.ceil,Qt=ve.floor,en=ge.getOwnPropertySymbols,tn=Fe?Fe.isBuffer:void 0,nn=t.isFinite,rn=we.join,on=Ut(ge.keys,ge),an=ve.max,sn=ve.min,un=o.now,cn=t.parseInt,ln=ve.random,fn=we.reverse,pn=Qo(t,"DataView"),dn=Qo(t,"Map"),hn=Qo(t,"Promise"),vn=Qo(t,"Set"),gn=Qo(t,"WeakMap"),yn=Qo(ge,"create"),mn=gn&&new gn,bn={},wn=Oi(pn),_n=Oi(dn),xn=Oi(hn),Sn=Oi(vn),kn=Oi(gn),jn=ze?ze.prototype:void 0,On=jn?jn.valueOf:void 0,En=jn?jn.toString:void 0;function An(e){if(qa(e)&&!Ta(e)&&!(e instanceof Tn)){if(e instanceof Nn)return e;if(je.call(e,"__wrapped__"))return Ei(e)}return new Nn(e)}var Pn=function(){function e(){}return function(t){if(!Ba(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function In(){}function Nn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Fn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Cn(e);this.size=t.size}function Rn(e,t){var n=Ta(e),r=!n&&Na(e),o=!n&&!r&&La(e),i=!n&&!r&&!o&&Za(e),a=n||r||o||i,s=a?At(e.length,me):[],u=s.length;for(var c in e)!t&&!je.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ai(c,u))||s.push(c);return s}function Mn(e){var t=e.length;return t?e[Fr(0,t-1)]:void 0}function Un(e,t){return Si(yo(e),Gn(t,0,e.length))}function zn(e){return Si(yo(e))}function Bn(e,t,n){(void 0===n||Aa(e[t],n))&&(void 0!==n||t in e)||Jn(e,t,n)}function qn(e,t,n){var r=e[t];je.call(e,t)&&Aa(r,n)&&(void 0!==n||t in e)||Jn(e,t,n)}function Wn(e,t){for(var n=e.length;n--;)if(Aa(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return er(e,(function(e,o,i){t(r,e,n(e),i)})),r}function Hn(e,t){return e&&mo(t,bs(t),e)}function Jn(e,t,n){"__proto__"==t&&Kt?Kt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,o=t.length,i=r(o),a=null==e;++n<o;)i[n]=a?void 0:hs(e,t[n]);return i}function Gn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,r,o,i){var a,s=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Ba(e))return e;var d=Ta(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return yo(e,a)}else{var S=ni(e),C=S==h||S==v;if(La(e))return lo(e,s);if(S==m||S==c||C&&!o){if(a=u||C?{}:oi(e),!s)return u?function(e,t){return mo(e,ti(e),t)}(e,function(e,t){return e&&mo(t,ws(t),e)}(a,e)):function(e,t){return mo(e,ei(e),t)}(e,Hn(a,e))}else{if(!Ue[S])return o?e:{};a=function(e,t,n){var r,o=e.constructor;switch(t){case k:return fo(e);case f:case p:return new o(+e);case j:return function(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case E:case A:case P:case I:case N:case"[object Uint8ClampedArray]":case T:case D:return po(e,n);case g:return new o;case y:case _:return new o(e);case b:return function(e){var t=new e.constructor(e.source,oe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case w:return new o;case x:return r=e,On?ge(On.call(r)):{}}}(e,S,s)}}i||(i=new $n);var F=i.get(e);if(F)return F;i.set(e,a),Ka(e)?e.forEach((function(r){a.add(Xn(r,t,n,r,e,i))})):Wa(e)&&e.forEach((function(r,o){a.set(o,Xn(r,t,n,o,e,i))}));var L=d?void 0:(l?u?Ho:Vo:u?ws:bs)(e);return at(L||e,(function(r,o){L&&(r=e[o=r]),qn(a,o,Xn(r,t,n,o,e,i))})),a}function Zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ge(e);r--;){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function Yn(e,t,n){if("function"!=typeof e)throw new be(a);return bi((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var o=-1,i=lt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=pt(t,Pt(n))),r?(i=ft,a=!1):t.length>=200&&(i=Nt,a=!1,t=new Ln(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(l)}else i(t,f,r)||u.push(l)}return u}An.templateSettings={escape:z,evaluate:B,interpolate:q,variable:"",imports:{_:An}},An.prototype=In.prototype,An.prototype.constructor=An,Nn.prototype=Pn(In.prototype),Nn.prototype.constructor=Nn,Tn.prototype=Pn(In.prototype),Tn.prototype.constructor=Tn,Dn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Dn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return je.call(t,e)?t[e]:void 0},Dn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:je.call(t,e)},Dn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Cn.prototype.clear=function(){this.__data__=[],this.size=0},Cn.prototype.delete=function(e){var t=this.__data__,n=Wn(t,e);return!(n<0||(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,0))},Cn.prototype.get=function(e){var t=this.__data__,n=Wn(t,e);return n<0?void 0:t[n][1]},Cn.prototype.has=function(e){return Wn(this.__data__,e)>-1},Cn.prototype.set=function(e,t){var n=this.__data__,r=Wn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(dn||Cn),string:new Dn}},Fn.prototype.delete=function(e){var t=Zo(this,e).delete(e);return this.size-=t?1:0,t},Fn.prototype.get=function(e){return Zo(this,e).get(e)},Fn.prototype.has=function(e){return Zo(this,e).has(e)},Fn.prototype.set=function(e,t){var n=Zo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Cn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Cn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fn(r)}return n.set(e,t),this.size=n.size,this};var er=_o(ur),tr=_o(cr,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function rr(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!Xa(a):n(a,s)))var s=a,u=i}return u}function or(e,t){var n=[];return er(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function ir(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=ii),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?ir(s,t-1,n,r,o):dt(o,s):r||(o[o.length]=s)}return o}var ar=xo(),sr=xo(!0);function ur(e,t){return e&&ar(e,t,bs)}function cr(e,t){return e&&sr(e,t,bs)}function lr(e,t){return ct(t,(function(t){return Ma(e[t])}))}function fr(e,t){for(var n=0,r=(t=ao(t,e)).length;null!=e&&n<r;)e=e[ji(t[n++])];return n&&n==r?e:void 0}function pr(e,t,n){var r=t(e);return Ta(e)?r:dt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Jt&&Jt in ge(e)?function(e){var t=je.call(e,Jt),n=e[Jt];try{e[Jt]=void 0;var r=!0}catch(e){}var o=Ae.call(e);return r&&(t?e[Jt]=n:delete e[Jt]),o}(e):function(e){return Ae.call(e)}(e)}function hr(e,t){return e>t}function vr(e,t){return null!=e&&je.call(e,t)}function gr(e,t){return null!=e&&t in ge(e)}function yr(e,t,n){for(var o=n?ft:lt,i=e[0].length,a=e.length,s=a,u=r(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=pt(f,Pt(t))),c=sn(f.length,c),u[s]=!n&&(t||i>=120&&f.length>=120)?new Ln(s&&f):void 0}f=e[0];var p=-1,d=u[0];e:for(;++p<i&&l.length<c;){var h=f[p],v=t?t(h):h;if(h=n||0!==h?h:0,!(d?Nt(d,v):o(l,v,n))){for(s=a;--s;){var g=u[s];if(!(g?Nt(g,v):o(e[s],v,n)))continue e}d&&d.push(v),l.push(h)}}return l}function mr(e,t,n){var r=null==(e=vi(e,t=ao(t,e)))?e:e[ji(Ri(t))];return null==r?void 0:ot(r,e,n)}function br(e){return qa(e)&&dr(e)==c}function wr(e,t,n,r,o){return e===t||(null==e||null==t||!qa(e)&&!qa(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=Ta(e),s=Ta(t),u=a?l:ni(e),h=s?l:ni(t),v=(u=u==c?m:u)==m,S=(h=h==c?m:h)==m,O=u==h;if(O&&La(e)){if(!La(t))return!1;a=!0,v=!1}if(O&&!v)return i||(i=new $n),a||Za(e)?qo(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case f:case p:case y:return Aa(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case _:return e==t+"";case g:var s=Mt;case w:var u=1&r;if(s||(s=Bt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=qo(s(e),s(t),r,o,i,a);return a.delete(e),l;case x:if(On)return On.call(e)==On.call(t)}return!1}(e,t,u,n,r,o,i);if(!(1&n)){var E=v&&je.call(e,"__wrapped__"),A=S&&je.call(t,"__wrapped__");if(E||A){var P=E?e.value():e,I=A?t.value():t;return i||(i=new $n),o(P,I,n,r,i)}}return!!O&&(i||(i=new $n),function(e,t,n,r,o,i){var a=1&n,s=Vo(e),u=s.length;if(u!=Vo(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:je.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var d=a;++c<u;){var h=e[l=s[c]],v=t[l];if(r)var g=a?r(v,h,l,t,e,i):r(h,v,l,e,t,i);if(!(void 0===g?h===v||o(h,v,n,r,i):g)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=e.constructor,m=t.constructor;y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}(e,t,n,r,wr,o))}function _r(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=ge(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new $n;if(r)var p=r(c,l,u,e,t,f);if(!(void 0===p?wr(l,c,3,r,f):p))return!1}}return!0}function xr(e){return!(!Ba(e)||(t=e,Ee&&Ee in t))&&(Ma(e)?De:se).test(Oi(e));var t}function Sr(e){return"function"==typeof e?e:null==e?Vs:"object"==i(e)?Ta(e)?Ar(e[0],e[1]):Er(e):eu(e)}function kr(e){if(!fi(e))return on(e);var t=[];for(var n in ge(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e,t){return e<t}function Or(e,t){var n=-1,o=Ca(e)?r(e.length):[];return er(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Er(e){var t=Yo(e);return 1==t.length&&t[0][2]?di(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Ar(e,t){return ui(e)&&pi(t)?di(ji(e),t):function(n){var r=hs(n,e);return void 0===r&&r===t?vs(n,e):wr(t,r,3)}}function Pr(e,t,n,r,o){e!==t&&ar(t,(function(i,a){if(o||(o=new $n),Ba(i))!function(e,t,n,r,o,i,a){var s=yi(e,n),u=yi(t,n),c=a.get(u);if(c)Bn(e,n,c);else{var l=i?i(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var p=Ta(u),d=!p&&La(u),h=!p&&!d&&Za(u);l=u,p||d||h?Ta(s)?l=s:Fa(s)?l=yo(s):d?(f=!1,l=lo(u,!0)):h?(f=!1,l=po(u,!0)):l=[]:Ha(u)||Na(u)?(l=s,Na(s)?l=is(s):Ba(s)&&!Ma(s)||(l=oi(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),Bn(e,n,l)}}(e,t,a,n,Pr,r,o);else{var s=r?r(yi(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),Bn(e,a,s)}}),ws)}function Ir(e,t){var n=e.length;if(n)return ai(t+=t<0?n:0,n)?e[t]:void 0}function Nr(e,t,n){var r=-1;return t=pt(t.length?t:[Vs],Pt(Xo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Or(e,(function(e,n,o){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=ho(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Tr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=fr(e,a);n(s,a)&&Ur(i,ao(a,e),s)}return i}function Dr(e,t,n,r){var o=r?_t:wt,i=-1,a=t.length,s=e;for(e===t&&(t=yo(t)),n&&(s=pt(e,Pt(n)));++i<a;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Ze.call(s,u,1),Ze.call(e,u,1);return e}function Cr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;ai(o)?Ze.call(e,o,1):Yr(e,o)}}return e}function Fr(e,t){return e+Qt(ln()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return wi(hi(e,t,Vs),e+"")}function Rr(e){return Mn(As(e))}function Mr(e,t){var n=As(e);return Si(n,Gn(t,0,n.length))}function Ur(e,t,n,r){if(!Ba(e))return e;for(var o=-1,i=(t=ao(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=ji(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Ba(l)?l:ai(t[o+1])?[]:{})}qn(s,u,c),s=s[u]}return e}var zr=mn?function(e,t){return mn.set(e,t),e}:Vs,Br=Kt?function(e,t){return Kt(e,"toString",{configurable:!0,enumerable:!1,value:Bs(t),writable:!0})}:Vs;function qr(e){return Si(As(e))}function Wr(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function Vr(e,t){var n;return er(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function Hr(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Xa(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Jr(e,t,Vs,n)}function Jr(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,a=t!=t,s=null===t,u=Xa(t),c=void 0===t;o<i;){var l=Qt((o+i)/2),f=n(e[l]),p=void 0!==f,d=null===f,h=f==f,v=Xa(f);if(a)var g=r||h;else g=c?h&&(r||p):s?h&&p&&(r||!d):u?h&&p&&!d&&(r||!v):!d&&!v&&(r?f<=t:f<t);g?o=l+1:i=l}return sn(i,4294967294)}function Kr(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Aa(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function Gr(e){return"number"==typeof e?e:Xa(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(Ta(e))return pt(e,Xr)+"";if(Xa(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,o=lt,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=ft;else if(i>=200){var c=t?null:$o(e);if(c)return Bt(c);a=!1,o=Nt,u=new Ln}else u=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Yr(e,t){return null==(e=vi(e,t=ao(t,e)))||delete e[ji(Ri(t))]}function Qr(e,t,n,r){return Ur(e,t,n(fr(e,t)),r)}function eo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Wr(e,r?0:i,r?i+1:o):Wr(e,r?i+1:0,r?o:i)}function to(e,t){var n=e;return n instanceof Tn&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function no(e,t,n){var o=e.length;if(o<2)return o?Zr(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=Qn(a[i]||s,e[u],t,n));return Zr(ir(a,1),t,n)}function ro(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function oo(e){return Fa(e)?e:[]}function io(e){return"function"==typeof e?e:Vs}function ao(e,t){return Ta(e)?e:ui(e,t)?[e]:ki(as(e))}var so=$r;function uo(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var co=Gt||function(e){return He.clearTimeout(e)};function lo(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function fo(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function po(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ho(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Xa(e),a=void 0!==t,s=null===t,u=t==t,c=Xa(t);if(!s&&!c&&!i&&e>t||i&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!u)return-1}return 0}function vo(e,t,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,c=t.length,l=an(a-s,0),f=r(c+l),p=!o;++u<c;)f[u]=t[u];for(;++i<s;)(p||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function go(e,t,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=an(a-u,0),p=r(f+l),d=!o;++i<f;)p[i]=e[i];for(var h=i;++c<l;)p[h+c]=t[c];for(;++s<u;)(d||i<a)&&(p[h+n[s]]=e[i++]);return p}function yo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function mo(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?Jn(n,s,u):qn(n,s,u)}return n}function bo(e,t){return function(n,r){var o=Ta(n)?it:Vn,i=t?t():{};return o(n,e,Xo(r,2),i)}}function wo(e){return $r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&si(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=ge(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}function _o(e,t){return function(n,r){if(null==n)return n;if(!Ca(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=ge(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function xo(e){return function(t,n,r){for(var o=-1,i=ge(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function So(e){return function(t){var n=Rt(t=as(t))?Wt(t):void 0,r=n?n[0]:t.charAt(0),o=n?uo(n,1).join(""):t.slice(1);return r[e]()+o}}function ko(e){return function(t){return ht(Ms(Ns(t).replace(Ne,"")),e,"")}}function jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),r=e.apply(n,t);return Ba(r)?r:n}}function Oo(e){return function(t,n,r){var o=ge(t);if(!Ca(t)){var i=Xo(n,3);t=bs(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}function Eo(e){return Wo((function(t){var n=t.length,r=n,o=Nn.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new be(a);if(o&&!s&&"wrapper"==Ko(i))var s=new Nn([],!0)}for(r=s?r:n;++r<n;){var u=Ko(i=t[r]),c="wrapper"==u?Jo(i):void 0;s=c&&ci(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Ko(c[0])].apply(s,c[3]):1==i.length&&ci(i)?s[u]():s.thru(i)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ta(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Ao(e,t,n,o,i,a,s,u,c,l){var f=128&t,p=1&t,d=2&t,h=24&t,v=512&t,g=d?void 0:jo(e);return function y(){for(var m=arguments.length,b=r(m),w=m;w--;)b[w]=arguments[w];if(h)var _=Go(y),x=Ct(b,_);if(o&&(b=vo(b,o,i,h)),a&&(b=go(b,a,s,h)),m-=x,h&&m<l){var S=zt(b,_);return Fo(e,t,Ao,y.placeholder,n,b,S,u,c,l-m)}var k=p?n:this,j=d?k[e]:e;return m=b.length,u?b=gi(b,u):v&&m>1&&b.reverse(),f&&c<m&&(b.length=c),this&&this!==He&&this instanceof y&&(j=g||jo(j)),j.apply(k,b)}}function Po(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Io(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Gr(n),r=Gr(r)),o=e(n,r)}return o}}function No(e){return Wo((function(t){return t=pt(t,Pt(Xo())),$r((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function To(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Yt(e/qt(t)));return Rt(t)?uo(Wt(r),0,e).join(""):r.slice(0,e)}function Do(e){return function(t,n,o){return o&&"number"!=typeof o&&si(t,n,o)&&(n=o=void 0),t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n,o){for(var i=-1,a=an(Yt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,o=void 0===o?t<n?1:-1:ts(o),e)}}function Co(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Fo(e,t,n,r,o,i,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,s,u,c],p=n.apply(void 0,f);return ci(e)&&mi(p,f),p.placeholder=r,_i(p,e,t)}function Lo(e){var t=ve[e];return function(e,n){if(e=os(e),(n=null==n?0:sn(ns(n),292))&&nn(e)){var r=(as(e)+"e").split("e");return+((r=(as(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $o=vn&&1/Bt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Xs;function Ro(e){return function(t){var n=ni(t);return n==g?Mt(t):n==w?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Mo(e,t,n,o,i,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new be(a);var p=o?o.length:0;if(p||(t&=-97,o=i=void 0),c=void 0===c?c:an(ns(c),0),l=void 0===l?l:ns(l),p-=i?i.length:0,64&t){var d=o,h=i;o=i=void 0}var v=f?void 0:Jo(e),g=[e,t,n,o,i,d,h,u,c,l];if(v&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?vo(c,u,t[4]):u,e[4]=c?zt(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?go(c,u,t[6]):u,e[6]=c?zt(e[5],s):t[6]),(u=t[7])&&(e[7]=u),128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(g,v),e=g[0],t=g[1],n=g[2],o=g[3],i=g[4],!(l=g[9]=void 0===g[9]?f?0:e.length:an(g[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var o=jo(e);return function i(){for(var a=arguments.length,s=r(a),u=a,c=Go(i);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:zt(s,c);if((a-=l.length)<n)return Fo(e,t,Ao,i.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==He&&this instanceof i?o:e;return ot(f,this,s)}}(e,t,l):32!=t&&33!=t||i.length?Ao.apply(void 0,g):function(e,t,n,o){var i=1&t,a=jo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,f=r(l+u),p=this&&this!==He&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++s];return ot(p,i?n:this,f)}}(e,t,n,o);else var y=function(e,t,n){var r=1&t,o=jo(e);return function t(){var i=this&&this!==He&&this instanceof t?o:e;return i.apply(r?n:this,arguments)}}(e,t,n);return _i((v?zr:mi)(y,g),e,t)}function Uo(e,t,n,r){return void 0===e||Aa(e,xe[n])&&!je.call(r,n)?t:e}function zo(e,t,n,r,o,i){return Ba(e)&&Ba(t)&&(i.set(t,e),Pr(e,t,void 0,zo,i),i.delete(t)),e}function Bo(e){return Ha(e)?void 0:e}function qo(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,p=2&n?new Ln:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var d=e[l],h=t[l];if(r)var v=a?r(h,d,l,t,e,i):r(d,h,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!gt(t,(function(e,t){if(!Nt(p,t)&&(d===e||o(d,e,n,r,i)))return p.push(t)}))){f=!1;break}}else if(d!==h&&!o(d,h,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function Wo(e){return wi(hi(e,void 0,Di),e+"")}function Vo(e){return pr(e,bs,ei)}function Ho(e){return pr(e,ws,ti)}var Jo=mn?function(e){return mn.get(e)}:Xs;function Ko(e){for(var t=e.name+"",n=bn[t],r=je.call(bn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Go(e){return(je.call(An,"placeholder")?An:e).placeholder}function Xo(){var e=An.iteratee||Hs;return e=e===Hs?Sr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zo(e,t){var n,r,o=e.__data__;return("string"==(r=i(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Yo(e){for(var t=bs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,pi(o)]}return t}function Qo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var ei=en?function(e){return null==e?[]:(e=ge(e),ct(en(e),(function(t){return Xe.call(e,t)})))}:ru,ti=en?function(e){for(var t=[];e;)dt(t,ei(e)),e=Je(e);return t}:ru,ni=dr;function ri(e,t,n){for(var r=-1,o=(t=ao(t,e)).length,i=!1;++r<o;){var a=ji(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&za(o)&&ai(a,o)&&(Ta(e)||Na(e))}function oi(e){return"function"!=typeof e.constructor||fi(e)?{}:Pn(Je(e))}function ii(e){return Ta(e)||Na(e)||!!(yt&&e&&e[yt])}function ai(e,t){var n=i(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function si(e,t,n){if(!Ba(n))return!1;var r=i(t);return!!("number"==r?Ca(n)&&ai(t,n.length):"string"==r&&t in n)&&Aa(n[t],e)}function ui(e,t){if(Ta(e))return!1;var n=i(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xa(e))||V.test(e)||!W.test(e)||null!=t&&e in ge(t)}function ci(e){var t=Ko(e),n=An[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var r=Jo(n);return!!r&&e===r[0]}(pn&&ni(new pn(new ArrayBuffer(1)))!=j||dn&&ni(new dn)!=g||hn&&"[object Promise]"!=ni(hn.resolve())||vn&&ni(new vn)!=w||gn&&ni(new gn)!=S)&&(ni=function(e){var t=dr(e),n=t==m?e.constructor:void 0,r=n?Oi(n):"";if(r)switch(r){case wn:return j;case _n:return g;case xn:return"[object Promise]";case Sn:return w;case kn:return S}return t});var li=Se?Ma:ou;function fi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function pi(e){return e==e&&!Ba(e)}function di(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in ge(n))}}function hi(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=an(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),ot(e,this,u)}}function vi(e,t){return t.length<2?e:fr(e,Wr(t,0,-1))}function gi(e,t){for(var n=e.length,r=sn(t.length,n),o=yo(e);r--;){var i=t[r];e[r]=ai(i,n)?o[i]:void 0}return e}function yi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var mi=xi(zr),bi=Zt||function(e,t){return He.setTimeout(e,t)},wi=xi(Br);function _i(e,t,n){var r=t+"";return wi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return at(u,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(ee):[]}(r),n)))}function xi(e){var t=0,n=0;return function(){var r=un(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Si(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=Fr(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}var ki=function(e){var t=xa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,n,r,o){t.push(r?o.replace(ne,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function ji(e){if("string"==typeof e||Xa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Oi(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ei(e){if(e instanceof Tn)return e.clone();var t=new Nn(e.__wrapped__,e.__chain__);return t.__actions__=yo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ai=$r((function(e,t){return Fa(e)?Qn(e,ir(t,1,Fa,!0)):[]})),Pi=$r((function(e,t){var n=Ri(t);return Fa(n)&&(n=void 0),Fa(e)?Qn(e,ir(t,1,Fa,!0),Xo(n,2)):[]})),Ii=$r((function(e,t){var n=Ri(t);return Fa(n)&&(n=void 0),Fa(e)?Qn(e,ir(t,1,Fa,!0),void 0,n):[]}));function Ni(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ns(n);return o<0&&(o=an(r+o,0)),bt(e,Xo(t,3),o)}function Ti(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=ns(n),o=n<0?an(r+o,0):sn(o,r-1)),bt(e,Xo(t,3),o,!0)}function Di(e){return null!=e&&e.length?ir(e,1):[]}function Ci(e){return e&&e.length?e[0]:void 0}var Fi=$r((function(e){var t=pt(e,oo);return t.length&&t[0]===e[0]?yr(t):[]})),Li=$r((function(e){var t=Ri(e),n=pt(e,oo);return t===Ri(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Xo(t,2)):[]})),$i=$r((function(e){var t=Ri(e),n=pt(e,oo);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Ri(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Mi=$r(Ui);function Ui(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var zi=Wo((function(e,t){var n=null==e?0:e.length,r=Kn(e,t);return Cr(e,pt(t,(function(e){return ai(e,n)?+e:e})).sort(ho)),r}));function Bi(e){return null==e?e:fn.call(e)}var qi=$r((function(e){return Zr(ir(e,1,Fa,!0))})),Wi=$r((function(e){var t=Ri(e);return Fa(t)&&(t=void 0),Zr(ir(e,1,Fa,!0),Xo(t,2))})),Vi=$r((function(e){var t=Ri(e);return t="function"==typeof t?t:void 0,Zr(ir(e,1,Fa,!0),void 0,t)}));function Hi(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Fa(e))return t=an(e.length,t),!0})),At(t,(function(t){return pt(e,kt(t))}))}function Ji(e,t){if(!e||!e.length)return[];var n=Hi(e);return null==t?n:pt(n,(function(e){return ot(t,void 0,e)}))}var Ki=$r((function(e,t){return Fa(e)?Qn(e,t):[]})),Gi=$r((function(e){return no(ct(e,Fa))})),Xi=$r((function(e){var t=Ri(e);return Fa(t)&&(t=void 0),no(ct(e,Fa),Xo(t,2))})),Zi=$r((function(e){var t=Ri(e);return t="function"==typeof t?t:void 0,no(ct(e,Fa),void 0,t)})),Yi=$r(Hi),Qi=$r((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ji(e,n)}));function ea(e){var t=An(e);return t.__chain__=!0,t}function ta(e,t){return t(e)}var na=Wo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Tn&&ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ta,args:[o],thisArg:void 0}),new Nn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)})),ra=bo((function(e,t,n){je.call(e,n)?++e[n]:Jn(e,n,1)})),oa=Oo(Ni),ia=Oo(Ti);function aa(e,t){return(Ta(e)?at:er)(e,Xo(t,3))}function sa(e,t){return(Ta(e)?st:tr)(e,Xo(t,3))}var ua=bo((function(e,t,n){je.call(e,n)?e[n].push(t):Jn(e,n,[t])})),ca=$r((function(e,t,n){var o=-1,i="function"==typeof t,a=Ca(e)?r(e.length):[];return er(e,(function(e){a[++o]=i?ot(t,e,n):mr(e,t,n)})),a})),la=bo((function(e,t,n){Jn(e,n,t)}));function fa(e,t){return(Ta(e)?pt:Or)(e,Xo(t,3))}var pa=bo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),da=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&si(e,t[0],t[1])?t=[]:n>2&&si(t[0],t[1],t[2])&&(t=[t[0]]),Nr(e,ir(t,1),[])})),ha=Xt||function(){return He.Date.now()};function va(e,t,n){return t=n?void 0:t,Mo(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ga(e,t){var n;if("function"!=typeof t)throw new be(a);return e=ns(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ya=$r((function(e,t,n){var r=1;if(n.length){var o=zt(n,Go(ya));r|=32}return Mo(e,r,t,n,o)})),ma=$r((function(e,t,n){var r=3;if(n.length){var o=zt(n,Go(ma));r|=32}return Mo(t,r,e,n,o)}));function ba(e,t,n){var r,o,i,s,u,c,l=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new be(a);function h(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function v(e){return l=e,u=bi(y,t),f?h(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-l>=i}function y(){var e=ha();if(g(e))return m(e);u=bi(y,function(e){var n=t-(e-c);return p?sn(n,i-(e-l)):n}(e))}function m(e){return u=void 0,d&&r?h(e):(r=o=void 0,s)}function b(){var e=ha(),n=g(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return v(c);if(p)return co(u),u=bi(y,t),h(c)}return void 0===u&&(u=bi(y,t)),s}return t=os(t)||0,Ba(n)&&(f=!!n.leading,i=(p="maxWait"in n)?an(os(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&co(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?s:m(ha())},b}var wa=$r((function(e,t){return Yn(e,1,t)})),_a=$r((function(e,t,n){return Yn(e,os(t)||0,n)}));function xa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new be(a);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(xa.Cache||Fn),n}function Sa(e){if("function"!=typeof e)throw new be(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xa.Cache=Fn;var ka=so((function(e,t){var n=(t=1==t.length&&Ta(t[0])?pt(t[0],Pt(Xo())):pt(ir(t,1),Pt(Xo()))).length;return $r((function(r){for(var o=-1,i=sn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return ot(e,this,r)}))})),ja=$r((function(e,t){return Mo(e,32,void 0,t,zt(t,Go(ja)))})),Oa=$r((function(e,t){return Mo(e,64,void 0,t,zt(t,Go(Oa)))})),Ea=Wo((function(e,t){return Mo(e,256,void 0,void 0,void 0,t)}));function Aa(e,t){return e===t||e!=e&&t!=t}var Pa=Co(hr),Ia=Co((function(e,t){return e>=t})),Na=br(function(){return arguments}())?br:function(e){return qa(e)&&je.call(e,"callee")&&!Xe.call(e,"callee")},Ta=r.isArray,Da=Ye?Pt(Ye):function(e){return qa(e)&&dr(e)==k};function Ca(e){return null!=e&&za(e.length)&&!Ma(e)}function Fa(e){return qa(e)&&Ca(e)}var La=tn||ou,$a=Qe?Pt(Qe):function(e){return qa(e)&&dr(e)==p};function Ra(e){if(!qa(e))return!1;var t=dr(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ha(e)}function Ma(e){if(!Ba(e))return!1;var t=dr(e);return t==h||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ua(e){return"number"==typeof e&&e==ns(e)}function za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ba(e){var t=i(e);return null!=e&&("object"==t||"function"==t)}function qa(e){return null!=e&&"object"==i(e)}var Wa=et?Pt(et):function(e){return qa(e)&&ni(e)==g};function Va(e){return"number"==typeof e||qa(e)&&dr(e)==y}function Ha(e){if(!qa(e)||dr(e)!=m)return!1;var t=Je(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Pe}var Ja=tt?Pt(tt):function(e){return qa(e)&&dr(e)==b},Ka=nt?Pt(nt):function(e){return qa(e)&&ni(e)==w};function Ga(e){return"string"==typeof e||!Ta(e)&&qa(e)&&dr(e)==_}function Xa(e){return"symbol"==i(e)||qa(e)&&dr(e)==x}var Za=rt?Pt(rt):function(e){return qa(e)&&za(e.length)&&!!Me[dr(e)]},Ya=Co(jr),Qa=Co((function(e,t){return e<=t}));function es(e){if(!e)return[];if(Ca(e))return Ga(e)?Wt(e):yo(e);if(jt&&e[jt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[jt]());var t=ni(e);return(t==g?Mt:t==w?Bt:As)(e)}function ts(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ns(e){var t=ts(e),n=t%1;return t==t?n?t-n:t:0}function rs(e){return e?Gn(ns(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Xa(e))return NaN;if(Ba(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ba(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=ae.test(e);return n||ue.test(e)?qe(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function is(e){return mo(e,ws(e))}function as(e){return null==e?"":Xr(e)}var ss=wo((function(e,t){if(fi(t)||Ca(t))mo(t,bs(t),e);else for(var n in t)je.call(t,n)&&qn(e,n,t[n])})),us=wo((function(e,t){mo(t,ws(t),e)})),cs=wo((function(e,t,n,r){mo(t,ws(t),e,r)})),ls=wo((function(e,t,n,r){mo(t,bs(t),e,r)})),fs=Wo(Kn),ps=$r((function(e,t){e=ge(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&si(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=ws(i),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||Aa(l,xe[c])&&!je.call(e,c))&&(e[c]=i[c])}return e})),ds=$r((function(e){return e.push(void 0,zo),ot(xs,void 0,e)}));function hs(e,t,n){var r=null==e?void 0:fr(e,t);return void 0===r?n:r}function vs(e,t){return null!=e&&ri(e,t,gr)}var gs=Po((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Bs(Vs)),ys=Po((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]}),Xo),ms=$r(mr);function bs(e){return Ca(e)?Rn(e):kr(e)}function ws(e){return Ca(e)?Rn(e,!0):function(e){if(!Ba(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=fi(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}(e)}var _s=wo((function(e,t,n){Pr(e,t,n)})),xs=wo((function(e,t,n,r){Pr(e,t,n,r)})),Ss=Wo((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=ao(t,e),r||(r=t.length>1),t})),mo(e,Ho(e),n),r&&(n=Xn(n,7,Bo));for(var o=t.length;o--;)Yr(n,t[o]);return n})),ks=Wo((function(e,t){return null==e?{}:function(e,t){return Tr(e,t,(function(t,n){return vs(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=pt(Ho(e),(function(e){return[e]}));return t=Xo(t),Tr(e,n,(function(e,n){return t(e,n[0])}))}var Os=Ro(bs),Es=Ro(ws);function As(e){return null==e?[]:It(e,bs(e))}var Ps=ko((function(e,t,n){return t=t.toLowerCase(),e+(n?Is(t):t)}));function Is(e){return Rs(as(e).toLowerCase())}function Ns(e){return(e=as(e))&&e.replace(le,Ft).replace(Te,"")}var Ts=ko((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ds=ko((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Cs=So("toLowerCase"),Fs=ko((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ls=ko((function(e,t,n){return e+(n?" ":"")+Rs(t)})),$s=ko((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Rs=So("toUpperCase");function Ms(e,t,n){return e=as(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Ce)||[]}(e):function(e){return e.match(te)||[]}(e):e.match(t)||[]}var Us=$r((function(e,t){try{return ot(e,void 0,t)}catch(e){return Ra(e)?e:new de(e)}})),zs=Wo((function(e,t){return at(t,(function(t){t=ji(t),Jn(e,t,ya(e[t],e))})),e}));function Bs(e){return function(){return e}}var qs=Eo(),Ws=Eo(!0);function Vs(e){return e}function Hs(e){return Sr("function"==typeof e?e:Xn(e,1))}var Js=$r((function(e,t){return function(n){return mr(n,e,t)}})),Ks=$r((function(e,t){return function(n){return mr(e,n,t)}}));function Gs(e,t,n){var r=bs(t),o=lr(t,r);null!=n||Ba(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=lr(t,bs(t)));var i=!(Ba(n)&&"chain"in n&&!n.chain),a=Ma(e);return at(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=yo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Xs(){}var Zs=No(pt),Ys=No(ut),Qs=No(gt);function eu(e){return ui(e)?kt(ji(e)):function(e){return function(t){return fr(t,e)}}(e)}var tu=Do(),nu=Do(!0);function ru(){return[]}function ou(){return!1}var iu,au=Io((function(e,t){return e+t}),0),su=Lo("ceil"),uu=Io((function(e,t){return e/t}),1),cu=Lo("floor"),lu=Io((function(e,t){return e*t}),1),fu=Lo("round"),pu=Io((function(e,t){return e-t}),0);return An.after=function(e,t){if("function"!=typeof t)throw new be(a);return e=ns(e),function(){if(--e<1)return t.apply(this,arguments)}},An.ary=va,An.assign=ss,An.assignIn=us,An.assignInWith=cs,An.assignWith=ls,An.at=fs,An.before=ga,An.bind=ya,An.bindAll=zs,An.bindKey=ma,An.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ta(e)?e:[e]},An.chain=ea,An.chunk=function(e,t,n){t=(n?si(e,t,n):void 0===t)?1:an(ns(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,s=r(Yt(o/t));i<o;)s[a++]=Wr(e,i,i+=t);return s},An.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},An.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return dt(Ta(n)?yo(n):[n],ir(t,1))},An.cond=function(e){var t=null==e?0:e.length,n=Xo();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new be(a);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var o=e[r];if(ot(o[0],this,n))return ot(o[1],this,n)}}))},An.conforms=function(e){return function(e){var t=bs(e);return function(n){return Zn(n,e,t)}}(Xn(e,1))},An.constant=Bs,An.countBy=ra,An.create=function(e,t){var n=Pn(e);return null==t?n:Hn(n,t)},An.curry=function e(t,n,r){var o=Mo(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},An.curryRight=function e(t,n,r){var o=Mo(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},An.debounce=ba,An.defaults=ps,An.defaultsDeep=ds,An.defer=wa,An.delay=_a,An.difference=Ai,An.differenceBy=Pi,An.differenceWith=Ii,An.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:ns(t))<0?0:t,r):[]},An.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t):[]},An.dropRightWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!0,!0):[]},An.dropWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!0):[]},An.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&si(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ns(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:ns(r))<0&&(r+=o),r=n>r?0:rs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},An.filter=function(e,t){return(Ta(e)?ct:or)(e,Xo(t,3))},An.flatMap=function(e,t){return ir(fa(e,t),1)},An.flatMapDeep=function(e,t){return ir(fa(e,t),1/0)},An.flatMapDepth=function(e,t,n){return n=void 0===n?1:ns(n),ir(fa(e,t),n)},An.flatten=Di,An.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},An.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:ns(t)):[]},An.flip=function(e){return Mo(e,512)},An.flow=qs,An.flowRight=Ws,An.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},An.functions=function(e){return null==e?[]:lr(e,bs(e))},An.functionsIn=function(e){return null==e?[]:lr(e,ws(e))},An.groupBy=ua,An.initial=function(e){return null!=e&&e.length?Wr(e,0,-1):[]},An.intersection=Fi,An.intersectionBy=Li,An.intersectionWith=$i,An.invert=gs,An.invertBy=ys,An.invokeMap=ca,An.iteratee=Hs,An.keyBy=la,An.keys=bs,An.keysIn=ws,An.map=fa,An.mapKeys=function(e,t){var n={};return t=Xo(t,3),ur(e,(function(e,r,o){Jn(n,t(e,r,o),e)})),n},An.mapValues=function(e,t){var n={};return t=Xo(t,3),ur(e,(function(e,r,o){Jn(n,r,t(e,r,o))})),n},An.matches=function(e){return Er(Xn(e,1))},An.matchesProperty=function(e,t){return Ar(e,Xn(t,1))},An.memoize=xa,An.merge=_s,An.mergeWith=xs,An.method=Js,An.methodOf=Ks,An.mixin=Gs,An.negate=Sa,An.nthArg=function(e){return e=ns(e),$r((function(t){return Ir(t,e)}))},An.omit=Ss,An.omitBy=function(e,t){return js(e,Sa(Xo(t)))},An.once=function(e){return ga(2,e)},An.orderBy=function(e,t,n,r){return null==e?[]:(Ta(t)||(t=null==t?[]:[t]),Ta(n=r?void 0:n)||(n=null==n?[]:[n]),Nr(e,t,n))},An.over=Zs,An.overArgs=ka,An.overEvery=Ys,An.overSome=Qs,An.partial=ja,An.partialRight=Oa,An.partition=pa,An.pick=ks,An.pickBy=js,An.property=eu,An.propertyOf=function(e){return function(t){return null==e?void 0:fr(e,t)}},An.pull=Mi,An.pullAll=Ui,An.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,Xo(n,2)):e},An.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},An.pullAt=zi,An.range=tu,An.rangeRight=nu,An.rearg=Ea,An.reject=function(e,t){return(Ta(e)?ct:or)(e,Sa(Xo(t,3)))},An.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Xo(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Cr(e,o),n},An.rest=function(e,t){if("function"!=typeof e)throw new be(a);return $r(e,t=void 0===t?t:ns(t))},An.reverse=Bi,An.sampleSize=function(e,t,n){return t=(n?si(e,t,n):void 0===t)?1:ns(t),(Ta(e)?Un:Mr)(e,t)},An.set=function(e,t,n){return null==e?e:Ur(e,t,n)},An.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},An.shuffle=function(e){return(Ta(e)?zn:qr)(e)},An.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&si(e,t,n)?(t=0,n=r):(t=null==t?0:ns(t),n=void 0===n?r:ns(n)),Wr(e,t,n)):[]},An.sortBy=da,An.sortedUniq=function(e){return e&&e.length?Kr(e):[]},An.sortedUniqBy=function(e,t){return e&&e.length?Kr(e,Xo(t,2)):[]},An.split=function(e,t,n){return n&&"number"!=typeof n&&si(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=as(e))&&("string"==typeof t||null!=t&&!Ja(t))&&!(t=Xr(t))&&Rt(e)?uo(Wt(e),0,n):e.split(t,n):[]},An.spread=function(e,t){if("function"!=typeof e)throw new be(a);return t=null==t?0:an(ns(t),0),$r((function(n){var r=n[t],o=uo(n,0,t);return r&&dt(o,r),ot(e,this,o)}))},An.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},An.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:ns(t))<0?0:t):[]},An.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t,r):[]},An.takeRightWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!1,!0):[]},An.takeWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3)):[]},An.tap=function(e,t){return t(e),e},An.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new be(a);return Ba(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ba(e,t,{leading:r,maxWait:t,trailing:o})},An.thru=ta,An.toArray=es,An.toPairs=Os,An.toPairsIn=Es,An.toPath=function(e){return Ta(e)?pt(e,ji):Xa(e)?[e]:yo(ki(as(e)))},An.toPlainObject=is,An.transform=function(e,t,n){var r=Ta(e),o=r||La(e)||Za(e);if(t=Xo(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Ba(e)&&Ma(i)?Pn(Je(e)):{}}return(o?at:ur)(e,(function(e,r,o){return t(n,e,r,o)})),n},An.unary=function(e){return va(e,1)},An.union=qi,An.unionBy=Wi,An.unionWith=Vi,An.uniq=function(e){return e&&e.length?Zr(e):[]},An.uniqBy=function(e,t){return e&&e.length?Zr(e,Xo(t,2)):[]},An.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},An.unset=function(e,t){return null==e||Yr(e,t)},An.unzip=Hi,An.unzipWith=Ji,An.update=function(e,t,n){return null==e?e:Qr(e,t,io(n))},An.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,io(n),r)},An.values=As,An.valuesIn=function(e){return null==e?[]:It(e,ws(e))},An.without=Ki,An.words=Ms,An.wrap=function(e,t){return ja(io(t),e)},An.xor=Gi,An.xorBy=Xi,An.xorWith=Zi,An.zip=Yi,An.zipObject=function(e,t){return ro(e||[],t||[],qn)},An.zipObjectDeep=function(e,t){return ro(e||[],t||[],Ur)},An.zipWith=Qi,An.entries=Os,An.entriesIn=Es,An.extend=us,An.extendWith=cs,Gs(An,An),An.add=au,An.attempt=Us,An.camelCase=Ps,An.capitalize=Is,An.ceil=su,An.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Gn(os(e),t,n)},An.clone=function(e){return Xn(e,4)},An.cloneDeep=function(e){return Xn(e,5)},An.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},An.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},An.conformsTo=function(e,t){return null==t||Zn(e,t,bs(t))},An.deburr=Ns,An.defaultTo=function(e,t){return null==e||e!=e?t:e},An.divide=uu,An.endsWith=function(e,t,n){e=as(e),t=Xr(t);var r=e.length,o=n=void 0===n?r:Gn(ns(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},An.eq=Aa,An.escape=function(e){return(e=as(e))&&U.test(e)?e.replace(R,Lt):e},An.escapeRegExp=function(e){return(e=as(e))&&K.test(e)?e.replace(J,"\\$&"):e},An.every=function(e,t,n){var r=Ta(e)?ut:nr;return n&&si(e,t,n)&&(t=void 0),r(e,Xo(t,3))},An.find=oa,An.findIndex=Ni,An.findKey=function(e,t){return mt(e,Xo(t,3),ur)},An.findLast=ia,An.findLastIndex=Ti,An.findLastKey=function(e,t){return mt(e,Xo(t,3),cr)},An.floor=cu,An.forEach=aa,An.forEachRight=sa,An.forIn=function(e,t){return null==e?e:ar(e,Xo(t,3),ws)},An.forInRight=function(e,t){return null==e?e:sr(e,Xo(t,3),ws)},An.forOwn=function(e,t){return e&&ur(e,Xo(t,3))},An.forOwnRight=function(e,t){return e&&cr(e,Xo(t,3))},An.get=hs,An.gt=Pa,An.gte=Ia,An.has=function(e,t){return null!=e&&ri(e,t,vr)},An.hasIn=vs,An.head=Ci,An.identity=Vs,An.includes=function(e,t,n,r){e=Ca(e)?e:As(e),n=n&&!r?ns(n):0;var o=e.length;return n<0&&(n=an(o+n,0)),Ga(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&wt(e,t,n)>-1},An.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ns(n);return o<0&&(o=an(r+o,0)),wt(e,t,o)},An.inRange=function(e,t,n){return t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n){return e>=sn(t,n)&&e<an(t,n)}(e=os(e),t,n)},An.invoke=ms,An.isArguments=Na,An.isArray=Ta,An.isArrayBuffer=Da,An.isArrayLike=Ca,An.isArrayLikeObject=Fa,An.isBoolean=function(e){return!0===e||!1===e||qa(e)&&dr(e)==f},An.isBuffer=La,An.isDate=$a,An.isElement=function(e){return qa(e)&&1===e.nodeType&&!Ha(e)},An.isEmpty=function(e){if(null==e)return!0;if(Ca(e)&&(Ta(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||Za(e)||Na(e)))return!e.length;var t=ni(e);if(t==g||t==w)return!e.size;if(fi(e))return!kr(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},An.isEqual=function(e,t){return wr(e,t)},An.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},An.isError=Ra,An.isFinite=function(e){return"number"==typeof e&&nn(e)},An.isFunction=Ma,An.isInteger=Ua,An.isLength=za,An.isMap=Wa,An.isMatch=function(e,t){return e===t||_r(e,t,Yo(t))},An.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Yo(t),n)},An.isNaN=function(e){return Va(e)&&e!=+e},An.isNative=function(e){if(li(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},An.isNil=function(e){return null==e},An.isNull=function(e){return null===e},An.isNumber=Va,An.isObject=Ba,An.isObjectLike=qa,An.isPlainObject=Ha,An.isRegExp=Ja,An.isSafeInteger=function(e){return Ua(e)&&e>=-9007199254740991&&e<=9007199254740991},An.isSet=Ka,An.isString=Ga,An.isSymbol=Xa,An.isTypedArray=Za,An.isUndefined=function(e){return void 0===e},An.isWeakMap=function(e){return qa(e)&&ni(e)==S},An.isWeakSet=function(e){return qa(e)&&"[object WeakSet]"==dr(e)},An.join=function(e,t){return null==e?"":rn.call(e,t)},An.kebabCase=Ts,An.last=Ri,An.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=ns(n))<0?an(r+o,0):sn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):bt(e,xt,o,!0)},An.lowerCase=Ds,An.lowerFirst=Cs,An.lt=Ya,An.lte=Qa,An.max=function(e){return e&&e.length?rr(e,Vs,hr):void 0},An.maxBy=function(e,t){return e&&e.length?rr(e,Xo(t,2),hr):void 0},An.mean=function(e){return St(e,Vs)},An.meanBy=function(e,t){return St(e,Xo(t,2))},An.min=function(e){return e&&e.length?rr(e,Vs,jr):void 0},An.minBy=function(e,t){return e&&e.length?rr(e,Xo(t,2),jr):void 0},An.stubArray=ru,An.stubFalse=ou,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=lu,An.nth=function(e,t){return e&&e.length?Ir(e,ns(t)):void 0},An.noConflict=function(){return He._===this&&(He._=Ie),this},An.noop=Xs,An.now=ha,An.pad=function(e,t,n){e=as(e);var r=(t=ns(t))?qt(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return To(Qt(o),n)+e+To(Yt(o),n)},An.padEnd=function(e,t,n){e=as(e);var r=(t=ns(t))?qt(e):0;return t&&r<t?e+To(t-r,n):e},An.padStart=function(e,t,n){e=as(e);var r=(t=ns(t))?qt(e):0;return t&&r<t?To(t-r,n)+e:e},An.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(as(e).replace(X,""),t||0)},An.random=function(e,t,n){if(n&&"boolean"!=typeof n&&si(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ts(e),void 0===t?(t=e,e=0):t=ts(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=ln();return sn(e+o*(t-e+Be("1e-"+((o+"").length-1))),t)}return Fr(e,t)},An.reduce=function(e,t,n){var r=Ta(e)?ht:Ot,o=arguments.length<3;return r(e,Xo(t,4),n,o,er)},An.reduceRight=function(e,t,n){var r=Ta(e)?vt:Ot,o=arguments.length<3;return r(e,Xo(t,4),n,o,tr)},An.repeat=function(e,t,n){return t=(n?si(e,t,n):void 0===t)?1:ns(t),Lr(as(e),t)},An.replace=function(){var e=arguments,t=as(e[0]);return e.length<3?t:t.replace(e[1],e[2])},An.result=function(e,t,n){var r=-1,o=(t=ao(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[ji(t[r])];void 0===i&&(r=o,i=n),e=Ma(i)?i.call(e):i}return e},An.round=fu,An.runInContext=e,An.sample=function(e){return(Ta(e)?Mn:Rr)(e)},An.size=function(e){if(null==e)return 0;if(Ca(e))return Ga(e)?qt(e):e.length;var t=ni(e);return t==g||t==w?e.size:kr(e).length},An.snakeCase=Fs,An.some=function(e,t,n){var r=Ta(e)?gt:Vr;return n&&si(e,t,n)&&(t=void 0),r(e,Xo(t,3))},An.sortedIndex=function(e,t){return Hr(e,t)},An.sortedIndexBy=function(e,t,n){return Jr(e,t,Xo(n,2))},An.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Hr(e,t);if(r<n&&Aa(e[r],t))return r}return-1},An.sortedLastIndex=function(e,t){return Hr(e,t,!0)},An.sortedLastIndexBy=function(e,t,n){return Jr(e,t,Xo(n,2),!0)},An.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Hr(e,t,!0)-1;if(Aa(e[n],t))return n}return-1},An.startCase=Ls,An.startsWith=function(e,t,n){return e=as(e),n=null==n?0:Gn(ns(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},An.subtract=pu,An.sum=function(e){return e&&e.length?Et(e,Vs):0},An.sumBy=function(e,t){return e&&e.length?Et(e,Xo(t,2)):0},An.template=function(e,t,n){var r=An.templateSettings;n&&si(e,t,n)&&(t=void 0),e=as(e),t=cs({},t,r,Uo);var o,i,a=cs({},t.imports,r.imports,Uo),s=bs(a),u=It(a,s),c=0,l=t.interpolate||fe,f="__p += '",p=ye((t.escape||fe).source+"|"+l.source+"|"+(l===q?re:fe).source+"|"+(t.evaluate||fe).source+"|$","g"),d="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Re+"]")+"\n";e.replace(p,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(pe,$t),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var h=je.call(t,"variable")&&t.variable;h||(f="with (obj) {\n"+f+"\n}\n"),f=(i?f.replace(C,""):f).replace(F,"$1").replace(L,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Us((function(){return he(s,d+"return "+f).apply(void 0,u)}));if(v.source=f,Ra(v))throw v;return v},An.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var o=At(r,t=Xo(t));++n<e;)t(n);return o},An.toFinite=ts,An.toInteger=ns,An.toLength=rs,An.toLower=function(e){return as(e).toLowerCase()},An.toNumber=os,An.toSafeInteger=function(e){return e?Gn(ns(e),-9007199254740991,9007199254740991):0===e?e:0},An.toString=as,An.toUpper=function(e){return as(e).toUpperCase()},An.trim=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Xr(t)))return e;var r=Wt(e),o=Wt(t);return uo(r,Tt(r,o),Dt(r,o)+1).join("")},An.trimEnd=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Xr(t)))return e;var r=Wt(e);return uo(r,0,Dt(r,Wt(t))+1).join("")},An.trimStart=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Xr(t)))return e;var r=Wt(e);return uo(r,Tt(r,Wt(t))).join("")},An.truncate=function(e,t){var n=30,r="...";if(Ba(t)){var o="separator"in t?t.separator:o;n="length"in t?ns(t.length):n,r="omission"in t?Xr(t.omission):r}var i=(e=as(e)).length;if(Rt(e)){var a=Wt(e);i=a.length}if(n>=i)return e;var s=n-qt(r);if(s<1)return r;var u=a?uo(a,0,s).join(""):e.slice(0,s);if(void 0===o)return u+r;if(a&&(s+=u.length-s),Ja(o)){if(e.slice(s).search(o)){var c,l=u;for(o.global||(o=ye(o.source,as(oe.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Xr(o),s)!=s){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},An.unescape=function(e){return(e=as(e))&&M.test(e)?e.replace($,Vt):e},An.uniqueId=function(e){var t=++Oe;return as(e)+t},An.upperCase=$s,An.upperFirst=Rs,An.each=aa,An.eachRight=sa,An.first=Ci,Gs(An,(iu={},ur(An,(function(e,t){je.call(An.prototype,t)||(iu[t]=e)})),iu),{chain:!1}),An.VERSION="4.17.15",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){An[e].placeholder=An})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ns(n),0);var r=this.__filtered__&&!t?new Tn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Vs)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return mr(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Sa(Xo(e)))},Tn.prototype.slice=function(e,t){e=ns(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ns(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},ur(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=An[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(An.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Tn,u=a[0],c=s||Ta(t),l=function(e){var t=o.apply(An,dt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=i&&!f,h=s&&!p;if(!i&&c){t=h?t:new Tn(this);var v=e.apply(t,a);return v.__actions__.push({func:ta,args:[l],thisArg:void 0}),new Nn(v,f)}return d&&h?e.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=we[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);An.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ta(o)?o:[],e)}return this[n]((function(n){return t.apply(Ta(n)?n:[],e)}))}})),ur(Tn.prototype,(function(e,t){var n=An[t];if(n){var r=n.name+"";je.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[Ao(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yo(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ta(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=sn(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return to(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var v=-1,g=e[c+=t];++v<f;){var y=l[v],m=y.iteratee,b=y.type,w=m(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[p++]=g}return h},An.prototype.at=na,An.prototype.chain=function(){return ea(this)},An.prototype.commit=function(){return new Nn(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(e){for(var t,n=this;n instanceof In;){var r=Ei(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},An.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:ta,args:[Bi],thisArg:void 0}),new Nn(t,this.__chain__)}return this.thru(Bi)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return to(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,jt&&(An.prototype[jt]=function(){return this}),An}();"object"==i(n(46))&&n(46)?(He._=Ht,void 0===(o=function(){return Ht}.call(t,n,t,r))||(r.exports=o)):Ke?((Ke.exports=Ht)._=Ht,Je._=Ht):He._=Ht}).call(this)}).call(this,n(11),n(14)(e))},function(e,t,n){var r=n(87);e.exports={Graph:r.Graph,json:n(213),alg:n(214),version:r.version}},function(e,t,n){e.exports={Graph:n(28),version:n(212)}},function(e,t,n){var r=n(89);e.exports=function(e){return r(e,4)}},function(e,t,n){var r=n(29),o=n(33),i=n(49),a=n(118),s=n(124),u=n(127),c=n(128),l=n(129),f=n(130),p=n(59),d=n(131),h=n(10),v=n(135),g=n(136),y=n(141),m=n(0),b=n(12),w=n(142),_=n(5),x=n(144),S=n(6),k={};k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k["[object Function]"]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,j,O,E,A){var P,I=1&n,N=2&n,T=4&n;if(j&&(P=E?j(t,O,E,A):j(t)),void 0!==P)return P;if(!_(t))return t;var D=m(t);if(D){if(P=v(t),!I)return c(t,P)}else{var C=h(t),F="[object Function]"==C||"[object GeneratorFunction]"==C;if(b(t))return u(t,I);if("[object Object]"==C||"[object Arguments]"==C||F&&!E){if(P=N||F?{}:y(t),!I)return N?f(t,s(P,t)):l(t,a(P,t))}else{if(!k[C])return E?t:{};P=g(t,C,I)}}A||(A=new r);var L=A.get(t);if(L)return L;A.set(t,P),x(t)?t.forEach((function(r){P.add(e(r,n,j,r,t,A))})):w(t)&&t.forEach((function(r,o){P.set(o,e(r,n,j,o,t,A))}));var $=T?N?d:p:N?keysIn:S,R=D?void 0:$(t);return o(R||t,(function(r,o){R&&(r=t[o=r]),i(P,o,e(r,n,j,o,t,A))})),P}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(16),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(16);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(16);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(15);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(15),o=n(31),i=n(32);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(17),o=n(103),i=n(5),a=n(48),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},function(e,t,n){var r=n(9),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(104),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(107),o=n(15),i=n(31);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(108),o=n(109),i=n(110),a=n(111),s=n(112);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(18);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(18),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(18),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(18);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(19);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=n(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(19);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(19);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(19);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(20),o=n(6);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(8),o=n(3);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(8),o=n(34),i=n(3),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(54)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(20),o=n(55);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(5),o=n(23),i=n(126),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(2),i="object"==r(t)&&t&&!t.nodeType&&t,a=i&&"object"==r(e)&&e&&!e.nodeType&&e,s=a&&a.exports===i?o.Buffer:void 0,u=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(14)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(20),o=n(38);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(20),o=n(58);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(60),o=n(58),i=n(55);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(4)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(4)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(4)(n(2),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(41),o=n(137),i=n(138),a=n(139),s=n(140);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(41);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(9),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(41);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(63),o=n(40),i=n(23);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(143),o=n(35),i=n(36),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(10),o=n(3);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(145),o=n(35),i=n(36),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(10),o=n(3);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){e.exports=n(147)},function(e,t,n){var r=n(33),o=n(24),i=n(151),a=n(0);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r=n(149)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t,n){var r=n(7);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t,n){var r=n(25);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(56),o=n(153),i=n(26),a=n(0);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(24);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},function(e,t,n){var r=n(155),o=n(163),i=n(71);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(29),o=n(66);e.exports=function(e,t,n,i){var a=n.length,s=a,u=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],p=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(i)var h=i(f,p,l,e,t,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},function(e,t,n){var r=n(29),o=n(67),i=n(160),a=n(162),s=n(10),u=n(0),c=n(12),l=n(22),f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,h,v){var g=u(e),y=u(t),m=g?"[object Array]":s(e),b=y?"[object Array]":s(t),w=(m="[object Arguments]"==m?f:m)==f,_=(b="[object Arguments]"==b?f:b)==f,x=m==b;if(x&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(x&&!w)return v||(v=new r),g||l(e)?o(e,t,n,d,h,v):i(e,t,m,n,d,h,v);if(!(1&n)){var S=w&&p.call(e,"__wrapped__"),k=_&&p.call(t,"__wrapped__");if(S||k){var j=S?e.value():e,O=k?t.value():t;return v||(v=new r),h(j,O,n,d,v)}}return!!x&&(v||(v=new r),a(e,t,n,d,h,v))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(9),o=n(62),i=n(30),a=n(67),s=n(161),u=n(42),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&r;if(d||(d=u),e.size!=t.size&&!h)return!1;var v=p.get(e);if(v)return v==t;r|=2,p.set(e,t);var g=a(d(e),d(t),r,c,f,p);return p.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(59),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var p=c[f];if(!(u?p in t:o.call(t,p)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var h=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<l;){var g=e[p=c[f]],y=t[p];if(i)var m=u?i(y,g,p,t,e,s):i(g,y,p,e,t,s);if(!(void 0===m?g===y||a(g,y,n,i,s):m)){h=!1;break}v||(v="constructor"==p)}if(h&&!v){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return s.delete(e),s.delete(t),h}},function(e,t,n){var r=n(70),o=n(6);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(66),o=n(165),i=n(171),a=n(43),s=n(70),u=n(71),c=n(27);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(72);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(167),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(168);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(32);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(170);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(9),o=n(45),i=n(0),a=n(44),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(172),o=n(74);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(75),o=n(174),i=n(43),a=n(27);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t,n){var r=n(72);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(176),o=n(74);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(37),o=n(10),i=n(21),a=n(0),s=n(7),u=n(12),c=n(23),l=n(22),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(45),o=n(26),i=n(180),a=n(0);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(24),o=n(7);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},function(e,t,n){var r=n(182),o=n(24),i=n(26),a=n(183),s=n(0);e.exports=function(e,t,n){var u=s(e)?r:a,c=arguments.length<3;return u(e,i(t,4),n,c,o)}},function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},function(e,t){e.exports=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}},function(e,t,n){var r=n(37),o=n(10),i=n(7),a=n(185),s=n(186);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},function(e,t,n){var r=n(8),o=n(0),i=n(3);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(187),o=n(188),i=n(189);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var r=n(75)("length");e.exports=r},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?"+s+"(?:\\u200d(?:"+[o,i,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="(?:"+[o+n+"?",n,i,a,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(r+"(?="+r+")|"+c+u,"g");e.exports=function(e){for(var t=l.lastIndex=0;l.test(e);)++t;return t}},function(e,t,n){var r=n(33),o=n(63),i=n(65),a=n(26),s=n(40),u=n(0),c=n(12),l=n(17),f=n(5),p=n(22);e.exports=function(e,t,n){var d=u(e),h=d||c(e)||p(e);if(t=a(t,4),null==n){var v=e&&e.constructor;n=h?d?new v:[]:f(e)&&l(v)?o(s(e)):{}}return(h?r:i)(e,(function(e,r,o){return t(n,e,r,o)})),n}},function(e,t,n){var r=n(192),o=n(194),i=n(200),a=n(209),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},function(e,t,n){var r=n(39),o=n(193);e.exports=function e(t,n,i,a,s){var u=-1,c=t.length;for(i||(i=o),s||(s=[]);++u<c;){var l=t[u];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,t,n){var r=n(9),o=n(21),i=n(0),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(25),o=n(195),i=n(197);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(196),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(u),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(198),o=n(199)(r);e.exports=o},function(e,t,n){var r=n(64),o=n(51),i=n(25),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(68),o=n(201),i=n(206),a=n(69),s=n(207),u=n(42);e.exports=function(e,t,n){var c=-1,l=o,f=e.length,p=!0,d=[],h=d;if(n)p=!1,l=i;else if(f>=200){var v=t?null:s(e);if(v)return u(v);p=!1,l=a,h=new r}else h=t?[]:d;e:for(;++c<f;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var m=h.length;m--;)if(h[m]===y)continue e;t&&h.push(y),d.push(g)}else l(h,y,n)||(h!==d&&h.push(y),d.push(g))}return d}},function(e,t,n){var r=n(202);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(203),o=n(204),i=n(205);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(61),o=n(208),i=n(42),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(7),o=n(3);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(211),o=n(6);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(45);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t){e.exports="2.1.8"},function(e,t,n){var r=n(1),o=n(28);function i(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};return r.isUndefined(e.graph())||(t.value=r.clone(e.graph())),t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},function(e,t,n){e.exports={components:n(215),dijkstra:n(76),dijkstraAll:n(216),findCycles:n(217),floydWarshall:n(218),isAcyclic:n(219),postorder:n(220),preorder:n(221),prim:n(222),tarjan:n(78),topsort:n(79)}},function(e,t,n){var r=n(1);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}},function(e,t,n){var r=n(76),o=n(1);e.exports=function(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}},function(e,t,n){var r=n(1),o=n(78);e.exports=function(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},function(e,t,n){var r=n(1);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},function(e,t,n){var r=n(79);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},function(e,t,n){var r=n(80);e.exports=function(e,t){return r(e,t,"post")}},function(e,t,n){var r=n(80);e.exports=function(e,t){return r(e,t,"pre")}},function(e,t,n){var r=n(1),o=n(28),i=n(77);e.exports=function(e,t){var n,a=new o,s={},u=new i;function c(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);for(var l=!1;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(c)}return a}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(13))},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={file:n(225),http:n(81),https:n(81)},i="object"===("undefined"==typeof window?"undefined":r(window))||"function"==typeof importScripts?o.http:o.file;"undefined"==typeof Promise&&n(83),e.exports.load=function(e,t){var n=Promise.resolve();return void 0===t&&(t={}),(n=n.then((function(){if(void 0===e)throw new TypeError("location is required");if("string"!=typeof e)throw new TypeError("location must be a string");if(void 0!==t){if("object"!==r(t))throw new TypeError("options must be an object");if(void 0!==t.processContent&&"function"!=typeof t.processContent)throw new TypeError("options.processContent must be a function")}}))).then((function(){return new Promise((function(n,r){(function(e){var t=function(e){return void 0!==e&&(e=-1===e.indexOf("://")?"":e.split("://")[0]),e}(e),n=o[t];if(void 0===n){if(""!==t)throw new Error("Unsupported scheme: "+t);n=i}return n})(e).load(e,t||{},(function(e,t){e?r(e):n(t)}))}))})).then((function(n){return t.processContent?new Promise((function(o,i){"object"!==r(n)&&(n={text:n}),n.location=e,t.processContent(n,(function(e,t){e?i(e):o(t)}))})):"object"===r(n)?n.text:n}))}},function(e,t,n){var r=new TypeError("The 'file' scheme is not supported in the browser");e.exports.getBase=function(){throw r},e.exports.load=function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw r;e(r)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;"undefined"!=typeof window?o=window:"undefined"!=typeof self?o=self:(console.warn("Using browser-only version of superagent in non-browser environment"),o=this);var i=n(227),a=n(228),s=n(82),u=n(229),c=n(231);function l(){}var f=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=m,f.getXHR=function(){if(!(!o.XMLHttpRequest||o.location&&"file:"==o.location.protocol&&o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!s(e))return e;var t=[];for(var n in e)h(t,n,e[n]);return t.join("&")}function h(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){h(e,t,n)}));else if(s(n))for(var r in n)h(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function v(e){for(var t,n,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)-1==(n=(t=o[i]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function g(e){return/[\/+]json($|[^-\w])/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,o,i=e.split(/\r?\n/),a={},s=0,u=i.length;s<u;++s)-1!==(t=(n=i[s]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),o=p(n.slice(t+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function m(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new y(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function b(e,t,n){var r=f("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}f.serializeObject=d,f.parseString=v,f.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":v,"application/json":JSON.parse},u(y.prototype),y.prototype._parseBody=function(e){var t=f.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&g(this.type)&&(t=f.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},f.Response=y,i(m.prototype),a(m.prototype),m.prototype.type=function(e){return this.set("Content-Type",f.types[e]||e),this},m.prototype.accept=function(e){return this.set("Accept",f.types[e]||e),this},m.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"===r(t)&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var o=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,o)},m.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},m.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},m.prototype._getFormData=function(){return this._formData||(this._formData=new o.FormData),this._formData},m.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},m.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},m.prototype.buffer=m.prototype.ca=m.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},m.prototype.pipe=m.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},m.prototype._isHost=function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},m.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||l,this._finalizeQueryString(),this._end()},m.prototype._end=function(){var e=this,t=this.xhr=f.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||f.serialize[o?o.split(";")[0]:""];!i&&g(o)&&(i=f.serialize["application/json"]),i&&(n=i(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},f.agent=function(){return new c},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){c.prototype[e.toLowerCase()]=function(t,n){var r=new f.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),c.prototype.del=c.prototype.delete,f.get=function(e,t,n){var r=f("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},f.head=function(e,t,n){var r=f("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},f.options=function(e,t,n){var r=f("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.del=b,f.delete=b,f.patch=function(e,t,n){var r=f("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.post=function(e,t,n){var r=f("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},f.put=function(e,t,n){var r=f("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(82);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!==r(e))return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~a.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){n.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(o(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},i.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},i.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=o(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&o(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,n){var r=n(230);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var o in n)this[o]=n[o];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),n.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))},e.exports=n},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(233),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(11))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(11),n(13))},function(e,t,n){t.decode=t.parse=n(235),t.encode=t.stringify=n(236)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,d,h,v=e[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(f=v.substr(0,g),p=v.substr(g+1)):(f=v,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===r(e)?a(s(e),(function(r){var s=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],(function(e){return s+encodeURIComponent(o(e))})).join(t):s+encodeURIComponent(o(e[r]))})).join(t):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){e.exports=function(e){var t=/^\\\\\?\\/.test(e),n=/[^\u0000-\u0080]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}},function(e,t,n){var r,o,i,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */a=function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,o=1;o<r;++o)t[o]=t[o].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){var r=t("[0-9]","[A-Fa-f]"),o=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",i),s=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),n(n(o+"|"+t(u,i,"[\\:]"))+"*");var c=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]"),l=n(c+"\\."+c+"\\."+c+"\\."+c),f=n(r+"{1,4}"),p=n(n(f+"\\:"+f)+"|"+l),d=n(n(f+"\\:")+"{6}"+p),h=n("\\:\\:"+n(f+"\\:")+"{5}"+p),v=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+p),g=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+p),y=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+p),m=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+p),b=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+p),w=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),_=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),x=n([d,h,v,g,y,m,b,w,_].join("|")),S=n(n(u+"|"+o)+"+");n("[vV]"+r+"+\\."+t(u,i,"[\\:]")+"+"),n(n(o+"|"+t(u,i))+"*");var k=n(o+"|"+t(u,i,"[\\:\\@]"));return n(n(o+"|"+t(u,i,"[\\@]"))+"+"),n(n(k+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,i,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,i),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,a),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+l+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+S+")")+"?\\]?$")}}var a=i(!1),s=i(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,f=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(d[e])}function y(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var o=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(p,".")).split("."),t).join(".");return r+o}var m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))},w=function(e){return y(e,(function(e){return f.test(e)?"xn--"+function(e){var t=[],n=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,r=128,o=0,i=72,a=!0,s=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var p=l.value;p<128&&t.push(v(p))}}catch(e){s=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}var d=t.length,y=d;for(d&&t.push("-");y<n;){var w=c,_=!0,x=!1,S=void 0;try{for(var k,j=e[Symbol.iterator]();!(_=(k=j.next()).done);_=!0){var O=k.value;O>=r&&O<w&&(w=O)}}catch(e){x=!0,S=e}finally{try{!_&&j.return&&j.return()}finally{if(x)throw S}}var E=y+1;w-r>h((c-o)/E)&&g("overflow"),o+=(w-r)*E,r=w;var A=!0,P=!1,I=void 0;try{for(var N,T=e[Symbol.iterator]();!(A=(N=T.next()).done);A=!0){var D=N.value;if(D<r&&++o>c&&g("overflow"),D==r){for(var C=o,F=36;;F+=36){var L=F<=i?1:F>=i+26?26:F-i;if(C<L)break;var $=C-L,R=36-L;t.push(v(m(L+$%R,0))),C=h($/R)}t.push(v(m(C,0))),i=b(o,E,y==d),o=0,++y}}}catch(e){P=!0,I=e}finally{try{!A&&T.return&&T.return()}finally{if(P)throw I}}++o,++r}return t.join("")}(e):e}))},_=function(e){return y(e,(function(e){return l.test(e)?function(e){var t,n=[],r=e.length,o=0,i=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&g("not-basic"),n.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<r;){for(var f=o,p=1,d=36;;d+=36){l>=r&&g("invalid-input");var v=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(v>=36||v>h((c-o)/p))&&g("overflow"),o+=v*p;var y=d<=a?1:d>=a+26?26:d-a;if(v<y)break;var m=36-y;p>h(c/m)&&g("overflow"),p*=m}var w=n.length+1;a=b(o-f,w,0==f),h(o/w)>c-i&&g("overflow"),i+=h(o/w),o%=w,n.splice(o++,0,i)}return String.fromCodePoint.apply(String,n)}(e.slice(4).toLowerCase()):e}))},x={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t="",n=0,r=e.length;n<r;){var o=parseInt(e.substr(n+1,2),16);if(o<128)t+=String.fromCharCode(o),n+=3;else if(o>=194&&o<224){if(r-n>=6){var i=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(n,6);n+=6}else if(o>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function j(e,t){function n(e){var n=k(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,o)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function E(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(O).join("."):e}function A(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),o=r[1],i=r[2];if(o){for(var a=o.toLowerCase().split("::").reverse(),s=u(a,2),c=s[0],l=s[1],f=l?l.split(":").map(O):[],p=c.split(":").map(O),d=t.IPV4ADDRESS.test(p[p.length-1]),h=d?7:8,v=p.length-h,g=Array(h),y=0;y<h;++y)g[y]=f[y]||p[v+y]||"";d&&(g[h-1]=E(g[h-1],t));var m=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(m&&m.length>1){var w=g.slice(0,m.index),_=g.slice(m.index+m.length);b=w.join(":")+"::"+_.join(":")}else b=g.join(":");return i&&(b+="%"+i),b}return e}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(P);if(o){I?(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5])):(n.scheme=o[1]||void 0,n.userinfo=-1!==e.indexOf("@")?o[3]:void 0,n.host=-1!==e.indexOf("//")?o[4]:void 0,n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=-1!==e.indexOf("?")?o[7]:void 0,n.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),n.host&&(n.host=A(E(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var i=x[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)j(n,r);else{if(n.host&&(t.domainHost||i&&i.domainHost))try{n.host=w(n.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}j(n,a)}i&&i.parse&&i.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function T(e,t){var n=!1!==t.iri?s:a,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(A(E(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var D=/^\.\.?\//,C=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function $(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,"");else if(e.match(C))e=e.replace(C,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(L);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,r=[],o=x[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?_(e.host):w(e.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}j(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var i=T(e,t);if(void 0!==i&&("suffix"!==t.reference&&r.push("//"),r.push(i),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||o&&o.absolutePath||(u=$(u)),void 0===i&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o={};return r||(e=N(R(e,n),n),t=N(R(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=$(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=$(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=$(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=$(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,k)}var z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},B={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},q={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",V="[0-9A-Fa-f]",H=n(n("%[EFef][0-9A-Fa-f]%"+V+V+"%"+V+V)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+V+V)+"|"+n("%"+V+V)),J=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),K=new RegExp(W,"g"),G=new RegExp(H,"g"),X=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',J),"g"),Z=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Y=Z;function Q(e){var t=k(e);return t.match(K)?t:e}var ee={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var o=!1,i={},a=n.query.split("&"),s=0,u=a.length;s<u;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,p=l.length;f<p;++f)r.push(l[f]);break;case"subject":n.subject=U(c[1],t);break;case"body":n.body=U(c[1],t);break;default:o=!0,i[U(c[0],t)]=U(c[1],t)}}o&&(n.headers=i)}n.query=void 0;for(var d=0,h=r.length;d<h;++d){var v=r[d].split("@");if(v[0]=U(v[0]),t.unicodeSupport)v[1]=U(v[1],t).toLowerCase();else try{v[1]=w(U(v[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[d]=v.join("@")}return n},serialize:function(e,t){var n,r=e,i=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(i){for(var a=0,s=i.length;a<s;++a){var u=String(i[a]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(G,Q).replace(G,o).replace(X,S),f=u.slice(c+1);try{f=t.iri?_(f):w(U(f,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[a]=l+"@"+f}r.path=i.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var d=[];for(var h in p)p[h]!==q[h]&&d.push(h.replace(G,Q).replace(G,o).replace(Z,S)+"="+p[h].replace(G,Q).replace(G,o).replace(Y,S));return d.length&&(r.query=d.join("&")),r}},te=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(te),r=e;if(n){var o=t.scheme||r.scheme||"urn",i=n[1].toLowerCase(),a=n[2],s=o+":"+(t.nid||i),u=x[s];r.nid=i,r.nss=a,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,o=n+":"+(t.nid||r),i=x[o];i&&(e=i.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},re=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(re)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};x[z.scheme]=z,x[B.scheme]=B,x[ee.scheme]=ee,x[ne.scheme]=ne,x[oe.scheme]=oe,e.SCHEMES=x,e.pctEncChar=S,e.pctDecChars=k,e.parse=N,e.removeDotSegments=$,e.serialize=R,e.resolveComponents=M,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return R(M(N(e,r),N(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=R(N(e,t),t):"object"===r(e)&&(e=N(R(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=R(N(e,n),n):"object"===r(e)&&(e=R(e,n)),"string"==typeof t?t=R(N(t,n),n):"object"===r(t)&&(t=R(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,S)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&void 0!==e?a(t):(o=[t],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}]);const vt=function(e,t,n,r){let o;return n="string"==typeof n?[n]:n,e.some((e=>{const i=[...n];let a=t["localization-strings"][e];for(;a&&i.length;)a=a[i.shift()];return o=r||"string"==typeof a?a:void 0,o})),o},gt=async(e,t,n)=>{const r=new URL(n||window.location.href.replace(/(index\.html)?#.*$/,""));r.search="",r.pathname=e,r.hash=t?"#/"+t:"";try{return(await ht.resolveRefsAt(r.toString(),{loaderOptions:{processContent(e,t){t(void 0,JSON.parse(e.text||e.body.toString()))}}})).resolved}catch(e){throw pt.alert(e),e}},yt=function({field:e,schemaItems:t,metadataObj:n,getFieldAliasOrName:r,lang:o}){const i=t.findIndex((t=>t.title===e)),a=t[i],s=n.fields[e],u={aliases:null,fieldValueAliasMap:null,rawFieldValueAliasMap:null,fieldName:r(e),fieldSchema:a,fieldSchemaIndex:i,preferAlias:s.prefer_alias,lang:s.lang};let c=s&&s["fieldvalue-aliases"];return c&&(c.localeKey&&(c=vt(o,n,c.localeKey.split("/"),!0)),u.rawFieldValueAliasMap=JSON.parse(JSON.stringify(c)),u.aliases=[],a.enum&&a.enum.length?a.enum.forEach((t=>{u.aliases.push(vt(o,n,["fieldvalue",e,t],!0)),t in c&&"string"==typeof c[t]&&u.aliases.push(...c[t])})):Object.entries(c).forEach((([e,t])=>{Array.isArray(t)||(t=Object.values(t)),u.aliases.push(...t.filter((e=>t.every((t=>t===e||!t.toLowerCase().startsWith(e.toLowerCase()))))).map((t=>t+" ("+e+")")))})),u.fieldValueAliasMap=JSON.parse(JSON.stringify(c))),u},mt=function({metadataObj:e,schemaItems:t,getFieldAliasOrName:n,lang:r,callback:o}){e.table.browse_fields.forEach(((i,a)=>{"string"==typeof i&&(i={set:[i]}),i.name||(i.name=i.set.join(","));const s=i.name,u=i.set,{presort:c}=i,l=u.map((o=>yt({lang:r,field:o,schemaItems:t,metadataObj:e,getFieldAliasOrName:n})));o({setName:s,browseFields:l,i:a,presort:c})}))};class bt{constructor({metadataObj:e}){this.metadataObj=e}getFieldLang(e){const{metadataObj:t}=this,n=t&&t.fields;return n&&n[e]&&n[e].lang}getFieldMatchesLocale({namespace:e,preferredLocale:t,schemaItems:n,pluginsForWork:r}){const{metadataObj:o}=this;return i=>{const a=(({namespace:e,preferredLocale:t})=>{const n=localStorage.getItem(e+"-langCodes"),r=n&&JSON.parse(n)||[t],o=[];return r.forEach((e=>{const t=e.replace(/-.*$/,"");t===e?o.push(e):o.push(e,t)})),o})({namespace:e,preferredLocale:t});if(r.isPluginField({namespace:e,field:i})){let[,,n]=r.getPluginFieldParts({namespace:e,field:i});return"{locale}"===n&&(n=t),!n||a.includes(n)}const s=this.getFieldLang(i),u=o&&o["localization-strings"];return u&&Object.keys(u).some((e=>{const t=u[e]&&u[e].fieldvalue;return t&&t[i]}))||s&&a.includes(s)||n.some((e=>e.title===i&&"string"!==e.type))}}}const wt=e=>e.replace(/\^/g,"^^").replace(/-/g,"^0"),_t=e=>e?e.replace(/(\^+)0/g,((e,t)=>t.length%2?t.slice(1)+"-":e)).replace(/\^\^/g,"^"):e;class xt{constructor({pluginsInWork:e,pluginFieldMappings:t,pluginObjects:n}){this.pluginsInWork=e,this.pluginFieldMappings=t,this.pluginObjects=n}getPluginObject(e){const t=this.pluginsInWork.findIndex((([t])=>t===e));return this.pluginObjects[t]}iterateMappings(e){this.pluginFieldMappings.forEach((({placement:t,"applicable-fields":n},r)=>{const[o,{onByDefault:i,lang:a,meta:s}]=this.pluginsInWork[r],u=this.getPluginObject(o);e({plugin:u,placement:t,applicableFields:n,pluginName:o,pluginLang:a,onByDefaultDefault:i,meta:s})}))}processTargetLanguages(e,t){return!!e&&(Object.entries(e).forEach((([e,{targetLanguage:n,onByDefault:r,meta:o}])=>{Array.isArray(n)?n.forEach((n=>{t({applicableField:e,targetLanguage:n,onByDefault:r,metaApplicableField:o})})):t({applicableField:e,targetLanguage:n,onByDefault:r,metaApplicableField:o})})),!0)}isPluginField({namespace:e,field:t}){return t.startsWith(`${e}-plugin-`)}getPluginFieldParts({namespace:e,field:t}){let n,r,o;return(t=t.replace(`${e}-plugin-`,"")).includes("-")?[n,r,o]=t.split("-"):n=t,[n,r,o].map(_t)}}const St=async function({lang:e,fallbackLanguages:t,work:n,files:r,allowPlugins:o,basePath:i,languages:a,preferredLocale:s}){const u=await h(r),c=u["localization-strings"],l=await me({messageStyle:"plainNested",locales:e,defaultLocales:t,localeStringFinder({locales:e,defaultLocales:t}){const n=[...e,...t].find((e=>e in c));return{locale:n,strings:{head:{},body:c[n]}}}});let f;const p=u.groups.find((e=>(f=e.files.find((t=>n===l(["workNames",e.id,t.name]))),Boolean(f)))),d=u.groups.map((e=>({name:l(e.name.localeKey),workNames:e.files.map((t=>l(["workNames",e.id,t.name]))),shortcuts:e.files.map((e=>e.shortcut))}))),v=function(e,t,n){const r=(e.baseDirectory||"")+(t.baseDirectory||"")+"/",o=(e.schemaBaseDirectory||"")+(t.schemaBaseDirectory||"")+"/",i=(e.metadataBaseDirectory||"")+(t.metadataBaseDirectory||"")+"/";return{file:r+n.file.$ref,schemaFile:n.schemaFile?o+n.schemaFile:"",metadataFile:n.metadataFile?i+n.metadataFile:""}}(u,p,f),{file:g}=v;let{schemaFile:y,metadataFile:m}=v,b="",w="";y||(y=g,b="schema"),m||(m=g,w="metadata");let _,x,S,k,j=[];if(o){const e=u["plugin-field-mapping"][p.id][f.name];e&&(S=Object.keys(e),x=Object.entries(u.plugins).filter((([e])=>S.includes(e))),j=x.map((([t])=>e[t])),k=x.map((([,e])=>e.path)),_=x)}const O=await gt(m,w,i),E=function(t){const n=O.fields&&O.fields[t];let r,o;return n&&(o=n.alias),o?"string"==typeof o?r=o:(o=o.localeKey,r=vt(e,O,o.split("/"))):(r=n.name,"object"==typeof r&&(r=r.localeKey,r=vt(e,O,r.split("/")))),r},A=j,P="undefined"==typeof process?location.href.slice(0,location.href.lastIndexOf("/")+1):process.cwd()+"/",[I,N]=await Promise.all([gt(y,b,i),_?Promise.all(k.map((e=>import(P+e)))):null]),T=new xt({pluginsInWork:x,pluginFieldMappings:A,pluginObjects:N}),D=I.items.items,C=D.map((({title:e})=>({field:e,fieldAliasOrName:E(e)||e}))),F=new bt({metadataObj:O});if(a&&T){console.log("pluginsForWork",T);const{lang:e,namespace:t}=this;T.iterateMappings((({plugin:n,pluginName:r,pluginLang:o,onByDefaultDefault:i,placement:u,applicableFields:c,meta:f})=>{const p=({applicableField:n,targetLanguage:c,onByDefault:p,metaApplicableField:d}={})=>{const h=T.getPluginObject(r)||{},v=F.getFieldLang(n);h.getTargetLanguage&&(c=h.getTargetLanguage({applicableField:n,targetLanguage:c,pluginLang:o,applicableFieldLang:v}));const g=(({pluginName:e,applicableField:t,targetLanguage:n})=>wt(e)+(t?"-"+wt(t):"-")+(n?"-"+wt(n):""))({pluginName:r,applicableField:n,targetLanguage:c||o||v});"{locale}"===c&&(c=s);const y=vt(e,O,["fieldnames",n]),m=h.getFieldAliasOrName?h.getFieldAliasOrName({locales:e,workI18n:l,targetLanguage:c,applicableField:n,applicableFieldI18N:y,meta:f,metaApplicableField:d,targetLanguageI18N:a.getLanguageFromCode(c)}):a.getFieldNameFromPluginNameAndLocales({pluginName:r,locales:e,workI18n:l,targetLanguage:c,applicableFieldI18N:y,meta:f,metaApplicableField:d});C.splice("end"===u?Number.POSITIVE_INFINITY:u,0,{field:`${t}-plugin-${g}`,fieldAliasOrName:m,onByDefault:"boolean"==typeof p?p:i||!1,applicableField:n,metaApplicableField:d,fieldLang:c})};T.processTargetLanguages(c,p)||p()}))}return{fileData:f,workI18n:l,getFieldAliasOrName:E,metadataObj:O,schemaObj:I,schemaItems:D,fieldInfo:C,pluginsForWork:T,groupsToWorks:d,metadata:F}},kt=({r:e,logger:t})=>{e.addEventListener("updatefound",(t=>{console.log("update found",t);const n=e.installing;n.addEventListener("statechange",(async()=>{const{state:e}=n;switch(e){case"installing":console.log("Installing new worker");break;case"installed":console.log("Installation status",e),await pt.alert("\nA new version of this offlinable app has been downloaded.\n\nIf you have work to complete in this tab, you can dismiss\nthis dialog now and continue working with the old version.\n\nHowever, when you are finished, you should close this tab\nand any other old tabs for this site in order to be able to\nbegin using the new version.\n");break;case"redundant":console.log("Installation status",e),await pt.alert("\nThere was an error during installation (to allow offline/speeded\ncache use).\n\nIf you have work to complete in this tab, you can dismiss\nthis dialog now and continue working with the old version.\n\nHowever, when you are finished, you may wish to close this tab\nand any other old tabs for this site in order to try again\nfor offline installation.\n");break;case"activating":console.log("Activating new worker");break;case"activated":console.log("Activated new worker");break;default:throw new Error(`Unknown worker update state: ${e}`)}}))}))},jt=async({r:e,logger:t})=>(console.log("responding to state..."),new Promise((async(n,r)=>{navigator.serviceWorker.addEventListener("message",(({data:n})=>{const{message:r,type:o,name:i,errorType:a}=n;switch(console.log("msg1",r,e),o){case"log":return void t.addLogEntry({text:r});case"beginInstall":return void t.addLogEntry({text:"Install: Begun..."});case"finishedInstall":return void t.addLogEntry({text:"Install: Finished..."});case"beginActivate":return t.addLogEntry({text:"Activate: Caching finished"}),void t.addLogEntry({text:"Activate: Begin database resources storage..."});case"finishedActivate":return t.addLogEntry({text:"Activate: Finished..."}),void location.reload();case"error":t.addLogEntry({text:r+("dbError"===a?`Database error ${i}`:"")+"; trying again..."});break;default:console.error("Unexpected type",o)}}));const o=e.installing||e.waiting||e.active;console.log("has worker?",o),o&&"redundant"===o.state?(await pt.alert('\nThere was likely an error installing. Click "ok" to try again.\n(Error code: Service worker is redundant)\n'),location.reload()):e.installing?console.log("INSTALLING"):e.waiting&&await pt.alert("\nAn update is in progress. After finishing any work\nyou have in them, please close this and any other existing tabs\nrunning this web application and then open the site again.\nPlease note it may take some time to install and may not show\nany indication it is installing.\n",{ok:!1})}))),Ot=e=>e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"";var Et={main({langs:e,languages:t,followParams:n,$p:r}){rt("form",{class:"focus",id:"languageSelectionContainer"},[["select",{name:"lang",size:e.length,$on:{click(){const e=this.options[this.selectedIndex];n("#languageSelectionContainer",(()=>{r.set("lang",e.value,!0)}))}}},e.map((({code:e})=>["option",{value:e},[t.getLanguageFromCode(e)]]))]],ze("#main")),history.state&&"object"==typeof history.state&&Te(document.querySelector("#languageSelectionContainer"),history.state)}};var At=Object.freeze({__proto__:null,main:({groups:e,workI18n:t,getNextAlias:n,$p:r,followParams:o,worksToOffline:i})=>{const a=rt("form",{id:"workSelect",class:"focus",$on:{submit(e){e.preventDefault()}}},[["button",{style:"float: right;",$on:{click(){i()}}},["Choose works to take offline"]],["br",{style:"clear: right;"}],...e.map(((e,i)=>["div",[i>0?["br","br","br"]:"",["div",[t(e.directions.localeKey)]],["br"],["select",{class:"file",name:"work"+i,dataset:{name:e.name.localeKey},$on:{change({target:{value:e}}){o("#workSelect",(()=>{r.set("work",e)}))}}},[["option",{value:""},["--"]],...e.files.map((({name:r})=>["option",{value:t(["workNames",e.id,r])},[n()]]))]]]]))],ze("#main"));return history.state&&"object"==typeof history.state&&Te(document.querySelector("#workSelect"),history.state),a},children:({groups:e,l:t,workI18n:n,getNextAlias:r})=>[["form",{id:"workSelect",class:"focus",$on:{submit(e){e.preventDefault()}}},[["h2",[t("works_to_offline")]],["i",[t("works_to_offline_explanation")]],["div",{style:"height: 300px; overflow: auto;"},e.flatMap(((e,t)=>[t>0?["br","br","br"]:"",["fieldset",{style:"text-align: left;"},[["legend",[n(e.name.localeKey)]],...e.files.map((({name:t})=>["label",[["input",{type:"checkbox",value:n(["workNames",e.id,t])}],r(),["br"]]])).sort(((e,t)=>e[1][1]<t[1][1]?-1:1))]]]))],["br","br"],["button",{$on:{click(){Be("#workSelect input[type=checkbox]").forEach((e=>{e.checked=!0}))}}},[t("check_all")]],["button",{$on:{click(){Be("#workSelect input[type=checkbox]").forEach((e=>{e.checked=!1}))}}},[t("uncheck_all")]]]]],getCheckedWorks:()=>Be("#workSelect input[type=checkbox]:checked").map((({value:e})=>e))});const Pt=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","purple","red","silver","teal","white","yellow"],It=["Helvetica, sans-serif","Verdana, sans-serif","Gill Sans, sans-serif","Avantgarde, sans-serif","Helvetica Narrow, sans-serif","sans-serif","Times, serif","Times New Roman, serif","Palatino, serif","Bookman, serif","New Century Schoolbook, serif","serif","Andale Mono, monospace","Courier New, monospace","Courier, monospace","Lucidatypewriter, monospace","Fixed, monospace","monospace","Comic Sans, Comic Sans MS, cursive","Zapf Chancery, cursive","Coronetscript, cursive","Florence, cursive","Parkavenue, cursive","cursive","Impact, fantasy","Arnoldboecklin, fantasy","Oldtown, fantasy","Blippo, fantasy","Brushstroke, fantasy","fantasy"],Nt=" ".repeat(2),Tt=" ".repeat(3),Dt=()=>({form:ze("form#browse"),random:ze("#rand")||{},checkboxes:Be("input[type=checkbox]")});var Ct={columnsTable:({lDirectional:e,fieldInfo:t,$p:n,lElement:r,lIndexedParam:o,l:i,metadataObj:a,preferredLocale:s,schemaItems:u,fieldMatchesLocale:c})=>["table",{border:"1",cellpadding:"5",align:"center"},[["tr",[["th",[e("fieldno")]],["th",{align:"left",width:"20"},[e("field_enabled")]],["th",[e("field_title")]],["th",[e("fieldinterlin")]],["th",[e("fieldcss")]]]],...t.map(((e,a)=>{const s=a+1,u="checked"+s,c="field"+s,l=n.get(c);return["tr",[["td",[String(s)]],r("check-columns-to-browse","td","title",{},[r("yes","input","value",{class:"fieldSelector",id:u,name:o("checked")+s,checked:n.get(u)!==i("no")&&(n.has(u)||!1!==e.onByDefault),type:"checkbox"})]),r("check-sequence","td","title",{},[["select",{name:o("field")+s,id:c,size:"1"},t.map((({field:e,fieldAliasOrName:t},r)=>["option",{dataset:{name:e},value:t,selected:l&&l===t||r===a&&!n.has(c)},[t]]))]]),["td",[r("interlinear-tips","input","title",{name:o("interlin")+s,value:n.get("interlin"+s)})]],["td",[["input",{name:o("css")+s,value:n.get("css"+s)}]]]]]})),["tr",[["td",{colspan:3},[r("check_all","input","value",{type:"button",$on:{click(){Be(".fieldSelector").forEach((e=>{e.checked=!0}))}}}),r("uncheck_all","input","value",{type:"button",$on:{click(){Be(".fieldSelector").forEach((e=>{e.checked=!1}))}}}),r("checkmark_locale_fields_only","input","value",{type:"button",$on:{click(){t.forEach((({field:e},t)=>{const n=t+1,r=ze("#field"+n).selectedOptions[0].dataset.name;ze("#checked"+n).checked=c(r)}))}}})]]]]]],advancedFormatting:({lDirectional:e,lParam:t,l:n,lOption:r,lElement:o,$p:i,hideFormattingSection:a})=>["td",{id:"advancedformatting",style:{display:a?"none":"block"}},[["h3",[e("advancedformatting")]],["label",[e("textcolor"),Nt,["select",{name:t("colorName")},Pt.map(((e,t)=>{const o={value:n(["param_values","colors",e]),selected:null};return(i.get("colorName")===n(["param_values","colors",e])||1===t&&!i.has("colorName"))&&(o.selected="selected"),r(["param_values","colors",e],o)}))]]],["label",[" ",e("or_entercolor"),Nt,["input",{name:t("color"),type:"text",value:i.get("color")||"#",size:"7",maxlength:"7"}]]],["br"],["br"],["label",[e("backgroundcolor"),Nt,["select",{name:t("bgcolorName")},Pt.map(((e,t)=>{const o={value:n(["param_values","colors",e]),selected:null};return(i.get("bgcolorName")===n(["param_values","colors",e])||14===t&&!i.has("bgcolorName"))&&(o.selected="selected"),r(["param_values","colors",e],o)}))]]],["label",[" ",e("or_entercolor"),Nt,["input",{name:t("bgcolor"),type:"text",value:i.get("bgcolor")||"#",size:"7",maxlength:"7"}]]],["br"],["br"],["label",[e("text_font"),Nt,["select",{name:t("fontSeq"),dir:"ltr"},It.map(((e,t)=>{const n={value:e,selected:null};return(i.get("fontSeq")===e||7===t&&!i.has("fontSeq"))&&(n.selected="selected"),["option",n,[e]]}))]]],["br"],["br"],["label",[e("font_style"),Nt,["select",{name:t("fontstyle")},["italic","normal","oblique"].map(((e,t)=>{const o={value:n(["param_values","fontstyle",e]),selected:null};return(i.get("fontstyle")===n(["param_values","fontstyle",e])||1===t&&!i.has("fontstyle"))&&(o.selected="selected"),r(["param_values","fontstyle",e],o)}))]]],["br"],["div",[e("font_variant"),Tt,["label",[["input",{name:t("fontvariant"),type:"radio",value:n(["param_values","fontvariant","normal"]),checked:i.get("fontvariant")!==e(["param_values","fontvariant","small-caps"])}],e(["param_values","fontvariant","normal"])," "]],["label",[["input",{name:t("fontvariant"),type:"radio",value:n(["param_values","fontvariant","small-caps"]),checked:i.get("fontvariant")===e(["param_values","fontvariant","small-caps"])}],e(["param_values","fontvariant","small-caps"])," "]]]],["br"],["label",[e("font_weight")," (normal, bold, 100-900, etc.):",Nt,["input",{name:t("fontweight"),type:"text",value:i.has("fontweight")?i.get("fontweight"):"normal",size:"7",maxlength:"12"}]]],["br"],["label",[e("font_size")," (14pt, 14px, small, 75%, etc.):",Nt,["input",{name:t("fontsize"),type:"text",value:i.get("fontsize"),size:"7",maxlength:"12"}]]],["br"],["label",{dir:"ltr"},[e("font_stretch")," ",["select",{name:t("fontstretch")},["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"].map((t=>{const n={value:e(["param_values","font-stretch",t]),selected:null};return(i.get("fontstretch")===t||!i.has("fontstretch")&&"normal"===t)&&(n.selected="selected"),["option",n,[e(["param_values","font-stretch",t])]]}))]]],["br"],["br"],["label",[e("letter_spacing")," (normal, .9em, -.05cm): ",["input",{name:t("letterspacing"),type:"text",value:i.has("letterspacing")?i.get("letterspacing"):"normal",size:"7",maxlength:"12"}]]],["br"],["label",[e("line_height")," (normal, 1.5, 22px, 150%): ",["input",{name:t("lineheight"),type:"text",value:i.has("lineheight")?i.get("lineheight"):"normal",size:"7",maxlength:"12"}]]],["br"],["br"],o("tableformatting_tips","h3","title",{},[e("tableformatting")]),["div",[e("header_wstyles"),Nt,...[["yes",e(["param_values","y"])],["no",e(["param_values","n"])],["none",e(["param_values","0"])]].map((([n,r],o,a)=>["label",[["input",{name:t("header"),type:"radio",value:r,checked:i.get("header")===r||!i.has("header")&&1===o}],e(n),o===a.length-1?"":Tt]]))]],["div",[e("footer_wstyles"),Nt,...[["yes",e(["param_values","y"])],["no",e(["param_values","n"])],["none",e(["param_values","0"])]].map((([n,r],o,a)=>["label",[["input",{name:t("footer"),type:"radio",value:r,checked:i.get("footer")===r||!i.has("footer")&&2===o}],e(n),o===a.length-1?"":Tt]]))]],["label",[["input",{name:t("headerfooterfixed"),type:"checkbox",value:n("yes"),checked:i.get("headerfooterfixed")===n("yes")}],Nt,e("headerfooterfixed-wishtoscroll")]],["br"],["div",[e("caption_wstyles"),Nt,...[["yes",e(["param_values","y"])],["no",e(["param_values","n"])],["none",e(["param_values","0"])]].map((([n,r],o,a)=>["label",[["input",{name:t("caption"),type:"radio",value:r,checked:i.get("caption")===r||!i.has("caption")&&2===o}],e(n),o===a.length-1?"":Tt]]))]],["br"],["div",[e("table_wborder"),Nt,["label",[["input",{name:t("border"),type:"radio",value:"1",checked:"0"!==i.get("border")}],e("yes"),Tt]],["label",[["input",{name:t("border"),type:"radio",value:"0",checked:"0"===i.get("border")}],e("no")]]]],["div",[e("interlin_repeat_field_names"),Nt,["label",[["input",{name:t("interlintitle"),type:"radio",value:"1",checked:"0"!==i.get("interlintitle")}],e("yes"),Tt]],["label",[["input",{name:t("interlintitle"),type:"radio",value:"0",checked:"0"===i.get("interlintitle")}],e("no")]]]],["label",[e("interlintitle_css"),Nt,["input",{name:t("interlintitle_css"),type:"text",value:i.get("interlintitle_css")||"",size:"12"}]]],["br"],["br"],o("pageformatting_tips","h3","title",{},[e("pageformatting")]),["label",[e("page_css"),Nt,["textarea",{name:t("pagecss"),title:n("page_css_tips"),value:i.get("pagecss")}]]],["br"],o("outputmode_tips","label","title",{},[e("outputmode"),Nt,["select",{name:t("outputmode")},["table","div"].map((e=>{const t={value:e,selected:null};return i.get("outputmode")===e&&(t.selected="selected"),r(["param_values","outputmode",e],t)}))]])]],getPreferences:({languageParam:e,workI18n:t,paramsSetter:n,replaceHash:r,getFieldAliasOrNames:o,work:i,langs:a,languageI18n:s,l:u,localizeParamNames:c,namespace:l,hideFormattingSection:f,groups:p,preferencesPlugin:d})=>["div",{style:{textAlign:"left"},id:"preferences",hidden:"true"},[["div",{style:"margin-top: 10px;"},[["label",[u("localizeParamNames"),["input",{id:"localizeParamNames",type:"checkbox",checked:c,$on:{change({target:{checked:e}}){localStorage.setItem(l+"-localizeParamNames",e)}}}]]]]],["div",[["label",[u("Hide formatting section"),["input",{id:"hideFormattingSection",type:"checkbox",checked:f,$on:{change({target:{checked:e}}){ze("#advancedformatting").style.display=e?"none":"block",localStorage.setItem(l+"-hideFormattingSection",e)}}}]]]]],["div",[["label",{for:"prefLangs"},[u("Preferred language(s)")]],["br"],["select",{id:"prefLangs",multiple:"multiple",size:a.length,$on:{change(){localStorage.setItem(l+"-langCodes",JSON.stringify([...this.selectedOptions].map((e=>e.value))))}}},a.map((e=>{let t=localStorage.getItem(l+"-langCodes");t=t&&JSON.parse(t);const n={value:e.code,selected:null};return t&&t.includes(e.code)&&(n.selected="selected"),["option",n,[s(e.code)]]}))]]],d?d({$:ze,l:u,jml:rt,paramsSetter:n,getDataForSerializingParamsAsURL:Dt,work:i,replaceHash:r,getFieldAliasOrNames:o}):""]],addBrowseFields({browseFields:e,fieldInfo:t,lDirectional:n,i:r,lIndexedParam:o,$p:i,content:a}){const s=i.get("work");[r>0?[["td",{colspan:12,align:"center"},[["br"],n("or"),["br"],["br"]]]]:"",[...(()=>{const t=t=>e.reduce(((e,{fieldName:n,aliases:a,fieldSchema:{minimum:u,maximum:c}},l)=>{const f=s+"-"+o(t)+(r+1)+"-"+(l+1),p=f;return e["#"].push(["td",[["label",{for:f},[n]]]],["td",[a?["datalist",{id:"dl-"+p},a.map((e=>["option",[e]]))]:"",a?["input",{name:f,id:p,class:"browseField",list:"dl-"+p,value:i.get(f,!0),$on:"start"===t?{change(e){Be("input.browseField").forEach((t=>{t.id.includes(r+1+"-"+(l+1))&&(t.value=e.target.value)}))}}:void 0}]:["input",{name:f,id:p,type:"number",min:u,max:c,value:i.get(f,!0)}],Tt]]),e}),{"#":[]});return[t("start"),["td",[["b",[n("to")]],Tt]],t("end")]})(),["td",[e.length>1?n("versesendingdataoptional"):""]]],[["td",{colspan:4*e.length+2+1,align:"center"},[["table",[["tr",[e.reduce(((e,{fieldName:t,aliases:n,fieldSchema:{minimum:a,maximum:u}},c)=>{const l=s+"-"+o("anchor")+(r+1)+"-"+(c+1),f=l;return e["#"].push(["td",[["label",{for:l},[t]]]],["td",[n?["datalist",{id:"dl-"+f},n.map((e=>["option",[e]]))]:"",n?["input",{name:l,id:f,class:"browseField",list:"dl-"+f,value:i.get(l,!0)}]:["input",{name:l,id:f,type:"number",min:a,max:u,value:i.get(l,!0)}],Nt]]),e}),{"#":[["td",{style:"font-weight: bold; vertical-align: bottom;"},[n("anchored-at")+Tt]]]}),["td",[["label",[n("field")+Nt,["select",{name:o("anchorfield")+(r+1),size:"1"},t.map((({fieldAliasOrName:e})=>i.get(o("anchorfield")+(r+1),!0)===e?["option",{selected:!0},[e]]:["option",[e]]))]]]]]]]]]]]]].forEach((e=>{e&&e.length&&a.push(["tr",e])}))},main({workI18n:e,work:n,languageParam:r,prepareForServiceWorker:o,l:i,namespace:a,heading:s,fallbackDirection:u,languageI18n:c,langs:l,fieldInfo:f,localizeParamNames:p,serializeParamsAsURL:d,paramsSetter:h,replaceHash:v,getFieldAliasOrNames:g,hideFormattingSection:y,$p:m,metadataObj:b,lParam:w,lElement:_,lDirectional:x,lIndexedParam:S,fieldMatchesLocale:k,preferredLocale:j,schemaItems:O,content:E,groups:A,preferencesPlugin:P,isOfflined:I}){const N=({type:e})=>d(t(t({},Dt()),{},{type:e}));rt("div",{class:"focus"},[["div",{style:"float: left;"},[["button",{$on:{click(){const e=ze("#preferences");e.hidden=!e.hidden}}},[i("Preferences")]],Lt.workDisplay.getPreferences({languageParam:r,workI18n:e,paramsSetter:h,replaceHash:v,getFieldAliasOrNames:g,work:n,langs:l,languageI18n:c,l:i,localizeParamNames:p,namespace:a,groups:A,hideFormattingSection:y,preferencesPlugin:P})]],["h2",[s]],["div",{style:"float: right;"},[["label",[["input",{id:"offline-available",type:"checkbox",checked:I,$on:{async click(e){await o(e.target.checked?{works:[n]}:{removals:[n]})}}}],i("offline_available")]]]],["form",{id:"browse",$custom:{$submit(){const e=N({type:"saveSettings"}).replace(/^[^#]*#/,"");console.log("history thisParams",e),history.replaceState(e,document.title,location.href);const t=N({type:"result"});location.href=t}},$on:{keydown({key:e,target:t}){"Enter"===e&&"textarea"!==t.localName.toLowerCase()&&this.$submit()},submit(e){e.preventDefault(),this.$submit()}},name:w("browse")},[["table",{align:"center"},E],["br"],["div",{style:"margin-left: 20px"},[["br"],["br"],["table",{border:"1",align:"center",cellpadding:"5"},[["tr",{valign:"top"},[["td",[Lt.workDisplay.columnsTable({lDirectional:x,fieldInfo:f,$p:m,lElement:_,lIndexedParam:S,l:i,metadataObj:b,preferredLocale:j,schemaItems:O,fieldMatchesLocale:k}),_("save-settings-URL","input","value",{type:"button",$on:{click(){const e=N({type:"saveSettings"});ze("#settings-URL").value=e}}}),["input",{id:"settings-URL"}],["br"],["button",{$on:{async click(e){e.preventDefault();const r=h(t(t({},Dt()),{},{workName:n,type:"startEndResult"})),o=v(r)+`&work=${n}&${n}-startEnd1=%s`;try{await navigator.clipboard.writeText(o)}catch(e){}}}},[i("Copy_shortcut_URL")]]]],Lt.workDisplay.advancedFormatting({lDirectional:x,lParam:w,l:i,lOption:(e,t)=>["option",t,[i(e)]],lElement:_,$p:m,hideFormattingSection:y})]]]]]],["p",{align:"center"},[_("submitgo","input","value",{type:"submit"})]]]]],ze("#main"))}},Ft={caption:({heading:e,ranges:t})=>e+" "+t,startSeparator:({l:e})=>e("colon"),innerBrowseFieldSeparator:({l:e})=>e("comma-space"),ranges:({l:e,startRange:t,endVals:n,rangeNames:r})=>t+"-"+n.join(Lt.resultsDisplayServerOrClient.startSeparator({l:e}))+" ("+r+")",fieldValueAlias:({key:e,value:t})=>t+" ("+e+")",interlinearSegment:({lang:e,dir:t,html:n})=>`<span${e?` lang="${e}"`:""}${t?` dir="${t}"`:""}>${n}</span>`,interlinearTitle:({l:e,val:t})=>`<span class="interlintitle">${t}</span>${e("colon-space")}`,styles({$p:e,$pRaw:t,$pRawEsc:n,$pEscArbitrary:r,escapeQuotedCSS:o,escapeCSS:i,tableWithFixedHeaderAndFooter:a,checkedFieldIndexes:s,hasCaption:u}){const c=e.has("color",!0)&&"#"!==e.get("color",!0)?r("color"):n("colorName"),l=e.has("bgcolor",!0)&&"#"!==e.get("bgcolor",!0)?r("bgcolor"):n("bgcolorName"),f=1+(0+(u?2:0)),p=f+1+"em",d=`100% - ${p} - 2em - 0.5em`;return["style",[(a?`\nhtml, body, #main, #main > div {\n    height: 100%; /* Needed to ensure descendent heights retain 100%; could be avoided if didn't want percent on table height */\n    overflow-y: hidden; /* Not sure why we're getting extra here, but... */\n}\n.anchor-table-header {\n    background-color: ${l||"white"}; /* Header background (not just for div text inside header, but for whole header area) */\n    overflow-x: hidden; /* Not sure why we're getting extra here, but... */\n    position: relative; /* Ensures we are still flowing, but provides anchor for absolutely positioned thead below (absolute positioning positions relative to nearest non-static ancestor; clear demo at https://www.w3schools.com/cssref/playit.asp?filename=playcss_position&preval=fixed ) */\n    padding-top: ${p}; /* Provides space for the header (and caption) (the one that is absolutely positioned below relative to here) */\n    height: 100%; /* Percent of the whole screen taken by the table */\n}\n.anchor-table-body {\n    overflow-y: auto; /* Provides scrollbars when text fills up beyond the height */\n    height: ${`calc(${d})`}; /* If < 100%, the header anchor background color will seep below table */\n}\n\n.caption, .thead .th, .tfoot .th {\n    line-height: 0; /* th div will have own line-height; reducing here avoids fattening it by an inner div */\n    color: transparent; /* Hides the non-div duplicated header text */\n    white-space: nowrap; /* Ensures column header text uses up full width without overlap (esp. wrap no longer seems to work); this must be applied outside of the div */\n    border: none; /* We don't want a border for this invisible section */\n}\ndiv.inner-caption, .thead .th div.th-inner, .tfoot .th div.th-inner { /* divs are used as th is supposedly problematic */\n    position: absolute; /* Puts relative to nearest non-static ancestor (our relative header anchor) */\n    color: initial; /* Header must have an explicit color or it will get transparent container color */\n    line-height: normal; /* Revert ancestor line height of 0 */\n}\n.thead .th div.th-inner {\n    top: ${f}em; /* Ensures our header stays fixed at top outside of normal flow of table */\n}\ndiv.inner-caption {\n    top: 1em;\n}\n.tfoot .th div.th-inner { /* divs are used as th is supposedly problematic */\n    top: ${`calc(${d} + 0.5em)`}; /* Ensures our header stays fixed at top outside of normal flow of table */\n}\n.zupa div.zupa1 {\n    margin: 0 auto !important;\n    width: 0 !important;\n}\n.zupa div.th-inner, .zupa div.inner-caption {\n    width: 100%;\n    margin-left: -50%;\n    text-align: center;\n}\n`:"")+("y"===t("caption")?a?".caption div.inner-caption, ":".caption, ":"")+("y"===t("header")?a?"":".thead .th, ":"")+("y"===t("footer")?a?"":".tfoot .th, ":"")+".tbody td"+` {\n    vertical-align: top;\n    font-style: ${n("fontstyle")};\n    font-variant: ${n("fontvariant")};\n    font-weight: ${r("fontweight")};\n    ${r("fontsize")?`font-size: ${r("fontsize")};`:""}\n    font-family: ${r("fontSeq")};\n\n    font-stretch: ${n("fontstretch")};\n    letter-spacing: ${r("letterspacing")};\n    line-height: ${r("lineheight")};\n    ${c?`color: ${i(c)};`:""}\n    ${l?`background-color: ${i(l)};`:""}\n}\n${i(r("pagecss")||"")}\n`+s.map(((e,n)=>("y"===t("header")?a?`.thead .th:nth-child(${n+1}) div.th-inner, `:`.thead .th:nth-child(${n+1}), `:"")+("y"===t("footer")?a?`.tfoot .th:nth-child(${n+1}) div.th-inner, `:`.tfoot .th:nth-child(${n+1}), `:"")+`.tbody td:nth-child(${n+1}) `+`{\n    ${r("css"+(e+1))}\n}\n`)).join("")+(r("interlintitle_css")?`\n/* http://salzerdesign.com/test/fixedTable.html */\n.interlintitle {\n    ${i(r("interlintitle_css"))}\n}\n`:"")+(l?`\nbody {\n    background-color: ${l};\n}\n`:"")]]},main({tableData:e,$p:n,$pRaw:r,$pRawEsc:o,$pEscArbitrary:i,escapeQuotedCSS:a,escapeCSS:s,escapeHTML:u,l:c,localizedFieldNames:l,fieldLangs:f,fieldDirs:p,caption:d,hasCaption:h,showInterlinTitles:v,determineEnd:g,getCanonicalID:y,canonicalBrowseFieldSetName:m,getCellValue:b,checkedAndInterlinearFieldInfo:w,interlinearSeparator:_="<br /><br />"}){const x={table:[["table",{class:"table",border:r("border")||"0"}],["tr",{class:"tr"}],["td"],["th",{class:"th"}],["caption",{class:"caption"}],["thead",{class:"thead"}],["tbody",{class:"tbody"}],["tfoot",{class:"tfoot"}]],div:[["div",{class:"table",style:"display: table;"}],["div",{class:"tr",style:"display: table-row;"}],["div",{class:"td",style:"display: table-cell;"}],["div",{class:"th",style:"display: table-cell;"}],["div",{class:"caption",style:"display: table-caption;"}],["div",{class:"thead",style:"display: table-header-group;"}],["div",{class:"tbody",style:"display: table-row-group;"}],["div",{class:"tfoot",style:"display: table-footer-group;"}]],"json-array":"json","json-object":"json"},S=n.get("outputmode",!0);switch(S){case"json-object":case"json-array":throw new Error("JSON support is currently not available")}const k=x[Object.prototype.hasOwnProperty.call(x,S)?S:"table"],[j,O,E,A,P,I,N,T]=k,[D,C,F]=w,L="yes"===r("headerfooterfixed"),$=(e,t)=>((e=JSON.parse(JSON.stringify(e))).push(t),e),R=([e,n],r)=>[e,t(t({},n),r)],M={start:!1,end:!1},U=[],{showEmptyInterlinear:z,showTitleOnSingleInterlinear:B}=this,q=(e,t)=>{if(!z&&(t||([...(e=(new DOMParser).parseFromString(e,"text/html").body).querySelectorAll("br")].forEach((e=>{e.remove()})),e=e.innerHTML),!e.trim()))return!0};return e.some(((e,t)=>{const n=g({tr:e,foundState:M});if("boolean"==typeof n)return n;const r=y({tr:e});return U.push($(R(O,{dataset:{row:n,"canonical-type":m,"canonical-id":r}}),C.map(((n,r)=>{const o=F[r],i=o,{tdVal:a,htmlEscaped:s}=b({tr:e,idx:n}),u=i&&o.map((t=>{const{tdVal:n,htmlEscaped:r}=b({tr:e,idx:t});console.log("showEmptyInterlinear",z,r);return q(n,r)?"":Lt.resultsDisplayServerOrClient.interlinearSegment({lang:f[t],dir:p[t],html:(v?Lt.resultsDisplayServerOrClient.interlinearTitle({l:c,val:l[t]}):"")+n})})).filter((e=>""!==e));return R(E,{id:"row"+(t+1)+"col"+(r+1),lang:f[n],dir:p[n],dataset:{col:l[n]},innerHTML:(i&&!q(a,s)&&(B||u.length)?Lt.resultsDisplayServerOrClient.interlinearSegment({lang:f[n],html:(v?Lt.resultsDisplayServerOrClient.interlinearTitle({l:c,val:l[n]}):"")+a}):a)+(o&&u.length?_+u.join(_):"")})})))),!1})),["div",[Lt.resultsDisplayServerOrClient.styles({$p:n,$pRaw:r,$pRawEsc:o,$pEscArbitrary:i,escapeQuotedCSS:a,escapeCSS:s,tableWithFixedHeaderAndFooter:L,checkedFieldIndexes:C,hasCaption:h}),(e=>L?["div",{class:"table-responsive anchor-table-header zupa"},[["div",{class:"table-responsive anchor-table-body"},e]]]:["div",{class:"table-responsive"},e])([$(j,[d?$(P,[d,L?["div",{class:"zupa1"},[["div",{class:"inner-caption"},[["span",[d]]]]]]:""]):"","0"!==r("header")?$(I,[$(O,D.map(((e,t)=>{const n=F[t];return e=u(e)+(n?c("comma-space")+n.map((e=>l[e])).join(c("comma-space")):""),$(A,[e,L?["div",{class:"zupa1"},[["div",{class:"th-inner"},[["span",[e]]]]]]:""])})))]):"",r("footer")&&"0"!==r("footer")?$(T,[$(O,D.map(((e,t)=>{const n=F[t];return e=u(e)+(n?c("comma-space")+n.map((e=>l[e])).join(c("comma-space")):""),$(A,[e,L?["div",{class:"zupa1"},[["div",{class:"th-inner"},[["span",[e]]]]]]:""])})))]):"",$(N,U)])])]]}};const Lt={languageSelect:Et,workSelect:At,workDisplay:Ct,resultsDisplayServerOrClient:Ft,resultsDisplayClient:{anchorRowCol:({anchorRowCol:e})=>ze("#"+e),anchors:({escapedRow:e,escapedCol:t})=>ze('tr[data-row="'+e+'"]'+(t?'> td[data-col="'+t+'"]':"")),main(...e){let t;try{t=Lt.resultsDisplayServerOrClient.main(...e)}catch(e){return"JSON support is currently not available"===e.message?void pt.alert(e.message):void console.error(e)}rt(...t,ze("#main"))}},defaultBody(){for(;at.hasChildNodes();)at.firstChild.remove();return rt("div",{id:"main",role:"main"},at)},permissions:{versionChange(){ze("#versionChange").showModal()},addLogEntry({text:e}){const t=ze("#installationLogContainer");try{t.showModal();ze("#dialogContainer").hidden=!1}catch(e){}ze("#installationLog").append(e+"\n")},exitDialogs(){const e=ze("#dialogContainer");e&&(e.hidden=!0)},dbError({type:e,escapedErrorMessage:t}){e&&rt("span",[e," ",t],ze("#dbError")),ze("#dbError").showModal()},errorRegistering(e){e&&rt("span",[e],ze("#errorRegistering")),ze("#errorRegistering").showModal()},browserNotGrantingPersistence(){ze("#browserNotGrantingPersistence").showModal()},main({siteI18n:e,ok:t,refuse:n,close:r,closeBrowserNotGranting:o}){const i=rt("dialog",{style:"text-align: center; height: 100%",id:"installationLogContainer",class:"focus"},[["p",[e("wait-installing")]],["div",{style:"height: 80%; overflow: auto;"},[["pre",{id:"installationLog"},[]]]]]);let a="";t&&(a=rt("dialog",{id:"willRequestStoragePermissions",$on:{close:r}},[["section",[e("will-request-storage-permissions")]],["br"],["div",{class:"focus"},[["button",{$on:{click:t}},[e("OK")]],["br"],["br"],["button",{$on:{click:n}},[e("refuse-request-storage-permissions")]]]]]));const s=rt("dialog",{id:"errorRegistering"},[["section",[e("errorRegistering")]]]);let u="";o&&(u=rt("dialog",{id:"browserNotGrantingPersistence"},[["section",[e("browser-not-granting-persistence")]],["br"],["div",{class:"focus"},[["button",{$on:{click:o}},[e("OK")]]]]]));const c=rt("dialog",{id:"versionChange"},[["section",[e("versionChange")]]]),l=rt("dialog",{id:"dbError"},[["section",[e("dbError")]]]);return rt("div",{id:"dialogContainer",style:"height: 100%"},[i,a,u,s,c,l],ze("#main")),[i,a,u,s,c,l]}}};function $t(e,t){if(t||!this.localizeParamNames)return e;const n=/\d+(-\d+)?$/,r=e.match(n);return r?this.l10n(["params","indexed",e.replace(n,"")])+r[0]:this.l10n(["params",e])}class Rt{constructor({l10n:e,params:t}={}){this.l10n=e,t||(t=location.hash.slice(1)),"string"==typeof t&&(t=new URLSearchParams(t)),this.params=t}get(e,t){return this.params.get($t.call(this,e,t))}getAll(e,t){return this.params.getAll($t.call(this,e,t))}has(e,t){return this.params.has($t.call(this,e,t))}delete(e,t){return this.params.delete($t.call(this,e,t))}set(e,t,n){return this.params.set($t.call(this,e,n),t)}append(e,t,n){return this.params.append($t.call(this,e,n),t)}toString(){return this.params.toString()}}const Mt=e=>location.href.replace(/#.*$/,"")+"#"+e.toString(),Ut=function({l:e,lParam:t,$p:n}){return function({form:r,random:o={checked:!1},checkboxes:i,type:a,fieldAliasOrNames:s=[],workName:u}){const c=new URLSearchParams(n.params),l=Ae(r,{hash:!0,empty:!0});function f(){let e=1,t=1;for(;c.has(`${u}-start${e}-${t}`,!0);){for(;c.has(`${u}-start${e}-${t}`,!0);)c.delete(`${u}-start${e}-${t}`,!0),c.delete(`${u}-end${e}-${t}`,!0),c.delete(`${u}-anchor${e}-${t}`,!0),t++;t=1,e++}}switch(Object.keys(l).forEach((e=>{c.set(e,l[e])})),c.delete(t("rand")),c.set(t("rand"),o.checked?e("yes"):e("no")),i.forEach((t=>{c.delete(t.name),t.name&&c.set(t.name,t.checked?e("yes"):e("no"))})),a){case"saveSettings":c.delete(t("rand"));break;case"shortcutResult":{c.delete(t("rand"));let n=1;for(;c.has(`anchorfield${n}`,!0);)c.delete(`anchorfield${n}`,!0),n++;for(f(),n=1;c.has(`field${n}`,!0);)c.delete(`field${n}`,!0),c.delete(`checked${n}`,!0),c.delete(`interlin${n}`,!0),c.delete(`css${n}`,!0),n++;s.forEach(((t,n)=>{c.set(`field${n+1}`,t,!0),c.set(`checked${n+1}`,e("yes"),!0),c.set(`interlin${n+1}`,""),c.set(`css${n+1}`,"")})),c.delete("work",!0)}case"startEndResult":case"randomResult":case"result":"startEndResult"===a&&f(),("randomResult"===a||o.checked)&&(c.delete(t("rand")),c.set(t("rand"),e("yes"))),c.set(t("result"),e("yes"));break;default:console.error("Unexpected type",a)}return c}},zt=["workI18n","fileData","metadataObj"];const Bt=e=>new Intl.Locale(e).textInfo.direction,qt=/^.* \((.*?)\)$/,Wt=e=>"string"==typeof e?e.replace(qt,"$1"):e,Vt=async function({l:e,lang:t,fallbackLanguages:n,locales:r,$p:o,skipIndexedDB:i,noIndexedDB:a,prefI18n:s,files:u,allowPlugins:c,langData:l,basePath:f="",dynamicBasePath:p=""}){const d=new dt({langData:l}),h=({schemaItems:e,fieldInfo:n,metadataObj:r,getFieldAliasOrName:o,usePreferAlias:i})=>n.map((({field:n,plugin:a})=>{if(a)return;const{preferAlias:s,fieldValueAliasMap:u}=yt({field:n,schemaItems:e,metadataObj:r,getFieldAliasOrName:o,lang:t});return i?u?(Object.entries(u).forEach((([e,t])=>{Array.isArray(t)?u[e]=t.map((t=>Lt.resultsDisplayServerOrClient.fieldValueAlias({key:e,value:t}))):t&&"object"==typeof t?"string"==typeof s?u[e]=Lt.resultsDisplayServerOrClient.fieldValueAlias({key:e,value:t[s]}):Object.entries(t).forEach((([t,n])=>{u[e][t]=Lt.resultsDisplayServerOrClient.fieldValueAlias({key:e,value:n})})):u[e]=Lt.resultsDisplayServerOrClient.fieldValueAlias({key:e,value:t})})),!1!==s?u:void 0):void 0:!1!==s?u:void 0})),v=(e,t)=>{let n;const i=o.get(e,!0);return function e(t){return Array.isArray(t)?t.some(e):Object.values(t).some(((r,o)=>"string"!=typeof r?e(r):r===i&&(n=Object.keys(t)[o],!0)))}(r),n||t||console.log("Bad param/value",e,"::",i),n},g=Ot,{fileData:y,workI18n:m,getFieldAliasOrName:b,schemaObj:w,metadataObj:_,pluginsForWork:x}=await St({files:u||this.files,allowPlugins:"boolean"==typeof c?c:this.allowPlugins,lang:t,fallbackLanguages:n,work:o.get("work"),basePath:f});console.log("pluginsForWork",x);const S=vt(t,_,"heading"),k=w.items.items,j=[],O=[],E=[];mt({metadataObj:_,schemaItems:k,getFieldAliasOrName:b,lang:t,callback({setName:e,browseFields:t,presort:n}){j.push(e),O.push(n),E.push(t)}});const A=k.map((({title:e,format:t})=>({field:e,fieldAliasOrName:b(e)||e,escapeColumn:"html"!==t,fieldLang:_.fields[e].lang}))),[P]=t,I=new bt({metadataObj:_});if(x){console.log("pluginsForWork",x);const{lang:e}=this;x.iterateMappings((({plugin:t,pluginName:n,pluginLang:r,onByDefaultDefault:o,placement:i,applicableFields:a,meta:s})=>{i="end"===i?Number.POSITIVE_INFINITY:i;const u=({applicableField:t,targetLanguage:a,onByDefault:u,metaApplicableField:c}={})=>{const l=x.getPluginObject(n)||{},f=I.getFieldLang(t);l.getTargetLanguage&&(a=l.getTargetLanguage({applicableField:t,targetLanguage:a,pluginLang:r,applicableFieldLang:f})),"{locale}"===a&&(a=P);const p=vt(e,_,["fieldnames",t]),h=l.getFieldAliasOrName?l.getFieldAliasOrName({locales:e,workI18n:m,targetLanguage:a,applicableField:t,applicableFieldI18N:p,meta:s,metaApplicableField:c,targetLanguageI18N:d.getLanguageFromCode(a)}):d.getFieldNameFromPluginNameAndLocales({pluginName:n,locales:e,workI18n:m,targetLanguage:a,applicableFieldI18N:p,meta:s,metaApplicableField:c});A.splice(i,0,{plugin:l,meta:s,placement:i,fieldAliasOrName:h,escapeColumn:!1!==l.escapeColumn,onByDefault:"boolean"==typeof u?u:o||!1,applicableField:t,metaApplicableField:c,fieldLang:a})};x.processTargetLanguages(a,u)||u()}))}const N=A.map((e=>e.fieldAliasOrName)),T=A.map((e=>e.escapeColumn)),D=A.map((({fieldLang:e})=>e!==P?e:null)),C=h({schemaItems:k,fieldInfo:A,metadataObj:_,getFieldAliasOrName:b,usePreferAlias:!1}),F=h({schemaItems:k,fieldInfo:A,metadataObj:_,getFieldAliasOrName:b,usePreferAlias:!0}),L=o.localizeParamNames=o.has("i18n",!0)?"1"===o.get("i18n",!0):"true"===s||"false"!==s&&this.localizeParamNames,$=L?t=>e(["params",t]):e=>e,R=L?t=>e(["params","indexed",t]):e=>e,M=L?(e,t="")=>o.get($(e)+t,!0):(e,t="")=>o.get(e+t,!0),U=L?(e,t="")=>o.get(o.get("work")+"-"+R(e)+t,!0):(e,t="")=>o.get(o.get("work")+"-"+e+t,!0),z=E.findIndex(((e,t)=>U("startEnd",t+1)));if(-1!==z){const e="-",t=":",n=(U("startEnd",z+1)||"").trim(),[r,i]=n.split(e);if(void 0!==i){const e=r.split(t),n=i.split(t),a=e.length-n.length;a>0?n.unshift(...e.slice(0,a)):a<0&&e.push(...Array.from({length:-a}).fill("1")),console.log("startPartVals",e),console.log("endPartVals",n),e.forEach(((e,t)=>{const r=n[t];o.set(`${o.get("work")}-start${z+1}-${t+1}`,e,!0),o.set(`${o.get("work")}-end${z+1}-${t+1}`,r,!0)}))}}const B=E.findIndex(((e,t)=>U("start",t+1+"-1"))),q=E[B],W=j[B],V=q.map((e=>e.fieldName)),H=E[0],J=j[0],K=H.map((e=>e.fieldName)),G=q.map((e=>e.fieldSchema.type)),X=e=>V.map(((t,n)=>o.get(o.get("work")+"-"+e+(B+1)+"-"+(n+1),!0))),Z=X("start"),Y=X("end"),[Q,ee]=(({starts:t,ends:n,applicableBrowseFieldNames:r,heading:o})=>{let i;const a="0"!==v("caption");if(a){const a=Lt.resultsDisplayServerOrClient.startSeparator({l:e}),s=Lt.resultsDisplayServerOrClient.innerBrowseFieldSeparator({l:e}),u=(()=>{const o=[],i=t.reduce(((e,t,r)=>{const i=e+t;return t===n[r]?i+(r>0?s:" "):(o.push(n[r]),i+a)}),"").slice(0,-a.length),u=r.join(s);return Ot(Lt.resultsDisplayServerOrClient.ranges({l:e,startRange:i,endVals:o,rangeNames:u}))})();i=Lt.resultsDisplayServerOrClient.caption({heading:o,ranges:u})}return[a,i]})({starts:Z,ends:Y,applicableBrowseFieldNames:V,heading:S}),te="1"===v("interlintitle");console.log("rand","yes"===M("rand"));const ne=(e,t)=>{let n;if(/^\d+$/.test(e)||qt.test(e))n=Wt(e);else{const{rawFieldValueAliasMap:r}=q[t];let o;if(r){const t=Object.entries(r);Array.isArray(t[0][1])?t.some((([t,n])=>!!n.includes(e)&&(o=t,!0))):t.some((([t,n])=>!!Object.values(n).includes(e)&&(o=t,!0)))}n=void 0===o?e:o}return"integer"===G[t]?Number.parseInt(n):n},re=y.name,oe=Z.map(ne),ie=Y.map(ne);let ae,se=!1,ue=!0;if(!i&&!a)try{ae=await new Promise(((e,t)=>{const n=this.namespace+"-textbrowser-cache-data";indexedDB.open(n).onsuccess=({target:{result:n}})=>{const r="files-to-cache-"+re;let o;try{o=n.transaction(r)}catch(e){return console.log("err",e),void t(e)}o.objectStore(r).index("browseFields-"+W).getAll(IDBKeyRange.bound(oe,ie)).onsuccess=({target:{result:t}})=>{const n=t.map((e=>e.value));e(n)}}})),ue=!1}catch(e){console.log("err",e)}if(ue){const e=O[B];if(this.noDynamic)({resolved:{data:ae}}=await ht.resolveRefs(y.file)),(({presort:e,tableData:t,applicableBrowseFieldNames:n,localizedFieldNames:r})=>{e&&t.sort(((e,t)=>{let o;return n.some((n=>{const i=r.indexOf(n),a=e[i]<t[i],s=e[i]>t[i];return o=s?1:-1,a||s})),o}))})({presort:e,tableData:ae,applicableBrowseFieldNames:V,localizedFieldNames:N});else{const e=`${p}textbrowser?${o.toString()}`;try{ae=await(await fetch(e)).json()}catch(e){throw"Failed to fetch"===e.message.trim()?pt.alert("Failed to fetch; check if your connection is down. Any works you wish to be available offline must be downloaded ahead of time."):pt.alert(e),e}se=!0}}!se&&x&&(A.forEach((({plugin:e,placement:t},n)=>{e&&ae.forEach(((e,n)=>{e.splice(t,0,null)}))})),A.forEach((({plugin:e,applicableField:t,fieldLang:n,meta:r,metaApplicableField:i},a)=>{if(!e)return;const s=A.findIndex((({field:e})=>e===t));ae.forEach(((u,c)=>{const l=u[s];u[a]=e.getCellData&&e.getCellData({tr:u,tableData:ae,i:c,j:a,applicableField:t,fieldInfo:A,applicableFieldIdx:s,applicableFieldText:l,fieldLang:n,getLangDir:Bt,meta:r,metaApplicableField:i,$p:o,thisObj:this})||l})),console.log("applicableFieldIdx",s)})));const ce=Bt(P),le=D.map((e=>{if(!e)return null;const t=Bt(e);return t!==ce?t:null})),fe={tableData:ae,$p:o,$pRaw:v,$pRawEsc:e=>Ot(v(e)),$pEscArbitrary:e=>Ot(o.get(e,!0)),escapeQuotedCSS:e=>e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),escapeCSS:g,escapeHTML:Ot,l:e,localizedFieldNames:N,fieldLangs:D,fieldDirs:le,caption:ee,hasCaption:Q,showInterlinTitles:te,determineEnd:(({fieldValueAliasMap:e,fieldValueAliasMapPreferred:t,localizedFieldNames:n,applicableBrowseFieldNames:r,startsRaw:o,endsRaw:i})=>({tr:a,foundState:s})=>{const u=[],c=r.map((r=>{const o=n.indexOf(r);return void 0!==e[o]&&null!==e[o]?u.push(t[o][a[o]]):u.push(a[o]),a[o]}));if(!s.start){if(o.some(((e,t)=>e!==c[t])))return!1;s.start=!0}if(i.every(((e,t)=>e===c[t])))s.end=!0;else if(s.end)return!0;return u.join("-")})({applicableBrowseFieldNames:V,fieldValueAliasMap:C,fieldValueAliasMapPreferred:F,localizedFieldNames:N,startsRaw:oe,endsRaw:ie}),canonicalBrowseFieldSetName:J,getCanonicalID:(({fieldValueAliasMap:e,fieldValueAliasMapPreferred:t,localizedFieldNames:n,canonicalBrowseFieldNames:r})=>({tr:o,foundState:i})=>r.map((r=>{const i=n.indexOf(r);return void 0!==e[i]&&null!==e[i]?t[i][o[i]]:o[i]})).join("-"))({canonicalBrowseFieldNames:K,fieldValueAliasMap:C,fieldValueAliasMapPreferred:F,localizedFieldNames:N}),getCellValue:(({fieldValueAliasMapPreferred:t,escapeColumnIndexes:n})=>({tr:r,idx:o})=>{let i=void 0!==t[o]?t[o][r[o]]:r[o];return i&&"object"==typeof i&&(i=Object.values(i)),Array.isArray(i)&&(i=i.join(e("comma-space"))),!n[o]&&this.trustFormatHTML||"string"!=typeof i?{tdVal:i}:{tdVal:Ot(i),htmlEscaped:!0}})({fieldValueAliasMapPreferred:F,escapeColumnIndexes:T,escapeHTML:Ot}),checkedAndInterlinearFieldInfo:(({localizedFieldNames:t})=>{let n,r,i=1,a=[];do{n=o.get("field"+i,!0),r=o.get("checked"+i,!0),i++,!n||r!==e("yes")&&null!==r||a.push(n)}while(n);a=a.filter((e=>t.includes(e)));const s=a.map((e=>t.indexOf(e))),u=s.map(((e,t)=>{const n=o.get("interlin"+(e+1),!0);return n&&n.split(/\s*,\s*/).map((e=>Number.parseInt(e)-1)).filter((e=>!Number.isNaN(e)))}));return[a,s,u]})({localizedFieldNames:N}),interlinearSeparator:this.interlinearSeparator};return{fieldInfo:A,$p:o,applicableBrowseFieldSet:q,fieldValueAliasMapPreferred:F,workI18n:m,lIndexedParam:R,lParamRaw:M,browseFieldSets:E,lang:t,metadataObj:_,fileData:y,templateArgs:fe}};async function Ht({works:e,removals:t}){try{var n,r;Lt.permissions.addLogEntry({text:"Worker registration: Beginning..."});if(!await navigator.storage.persist())return void Lt.permissions.browserNotGrantingPersistence();const o=this.namespace+"-textbrowser-cache-data",i=(null!==(n=null===(r=(await indexedDB.databases()).find((({name:e,version:t})=>e===o)))||void 0===r?void 0:r.version)&&void 0!==n?n:0)+1,a=`${this.serviceWorkerPath}&${new URLSearchParams({dbVersion:i,works:JSON.stringify(null!=e?e:[]),removals:JSON.stringify(null!=t?t:[])})}`;await(async({serviceWorkerPath:e,logger:t})=>{let n;console.log("--ready to register service worker",e);try{n=await navigator.serviceWorker.register(e,{type:"module"})}catch(t){return console.log("serviceWorkerPath",e),void await pt.alert("\nThere was an error during registration (for offline ability).\nPlease refresh the page if you wish to reattempt.\n")}return t.addLogEntry({text:"Worker registration: Complete"}),await jt({r:n,logger:t})})({works:e,serviceWorkerPath:a,logger:Lt.permissions})}catch(e){if(console.log("err",e),e&&"object"==typeof e){const{errorType:t}=e;if("versionchange"===t)return void Lt.permissions.versionChange()}Lt.permissions.errorRegistering(Ot(e&&e.message))}}async function Jt(e,t,n){return await new Promise(((e,r)=>{const[,o,i]=Lt.permissions.main({siteI18n:n,l:t,ok:async()=>{const e=await Notification.requestPermission();o.close(e)},refuse:()=>{o.close()},close:async()=>{try{if(!o.returnValue)return void function(){localStorage.setItem(this.namespace+"-refused","true")}()}catch(e){console.log("err",e),Lt.permissions.errorRegistering(Ot(e&&e.message))}switch(o.returnValue){case"denied":case"default":return void e();case"granted":navigator.serviceWorker.controller&&e();break;default:console.error("Unexpected returnValue",o.returnValue)}},closeBrowserNotGranting:()=>{i.close()}});o.showModal()}))}class Kt{constructor(e){this.site=e.site||"site.json";const t=e.stylesheets||["@builtin"],n=t.indexOf("@builtin");var r,o;-1!==n&&t.splice(n,1,new URL(new URL("assets/index-c987c995.css",import.meta.url).href,import.meta.url).href),this.stylesheets=t,o=e,(r=this).userJSON=o.userJSON||"resources/user.json",r.languages=o.languages||new URL(new URL("assets/languages-fcf1c836.json",import.meta.url).href,import.meta.url).href,r.serviceWorkerPath=o.serviceWorkerPath||`sw.js?${new URLSearchParams({pathToUserJSON:r.userJSON,stylesheets:JSON.stringify(r.stylesheets||[])})}`,r.files=o.files||"files.json",r.namespace=o.namespace||"textbrowser",this.allowPlugins=e.allowPlugins,this.dynamicBasePath=e.dynamicBasePath,this.trustFormatHTML=e.trustFormatHTML,this.requestPersistentStorage=e.requestPersistentStorage,this.localizeParamNames=void 0===e.localizeParamNames||e.localizeParamNames,this.hideFormattingSection=Boolean(e.hideFormattingSection),this.preferencesPlugin=e.preferencesPlugin,this.interlinearSeparator=e.interlinearSeparator,this.showEmptyInterlinear=e.showEmptyInterlinear,this.showTitleOnSingleInterlinear=e.showTitleOnSingleInterlinear,this.noDynamic=e.noDynamic,this.skipIndexedDB=e.skipIndexedDB,this.updates=e.updates,this.version=e.version,this.removals=e.removals}async init(){this._stylesheetElements=await be(this.stylesheets);try{const[e,t]=await h([this.languages,this.site]);this.langData=e,this.siteData=t;const n=this.paramChange();return window.addEventListener("hashchange",(()=>this.paramChange())),n}catch(e){console.log("err",e),pt.alert(e)}}getWorkData(e){try{return St.call(this,t(t({},e),{},{files:this.files,allowPlugins:this.allowPlugins}))}catch(e){console.log("err",e),pt.alert("catch:"+e)}}getDirectionForLanguageCode(e){const t=this.langData.languages,n=t.find((t=>t.code===e));return n&&n.direction||t.find((t=>t.code.startsWith(e+"-")))}getFieldNameAndValueAliases(e){return yt(t(t({},e),{},{lang:this.lang}))}getBrowseFieldData(e){return mt(t(t({},e),{},{lang:this.lang}))}async paramChange(){Lt.defaultBody();const e=this.$p="string"==typeof history.state?new Rt({params:history.state}):new Rt,t=(t,n)=>{const r=document.querySelector(t),o=location.href.replace(/#.*$/,"")+"#"+e.toString();history.replaceState(Ae(r,{hash:!0,empty:!0}),document.title,o),n(),location.hash="#"+e.toString()},n=new dt({langData:this.langData}),{lang:r,langs:o,languageParam:i,fallbackLanguages:a}=n.getLanguageInfo({$p:e});this.lang=r;const[s]=r,u=this.getDirectionForLanguageCode(s);document.documentElement.lang=s,document.dir=u;const c=this.siteData["localization-strings"],l=await me({messageStyle:"plainNested",locales:r,defaultLocales:a,localeStringFinder({locales:e,defaultLocales:t}){const n=[...e,...t].find((e=>e in c));return{locale:n,strings:{head:{},body:c[n]}}}});document.title=l("browser-title");const f=localStorage.getItem(this.namespace+"-refused"),p=await navigator.storage.persisted();localStorage.setItem(this.namespace+"-last-version",this.version);const{removals:d}=this,v=await navigator.serviceWorker.getRegistration(`${this.serviceWorkerPath}&${new URLSearchParams({removals:d})}`),g=e.get("result"),y=async()=>{if(g)return;!(f||navigator.serviceWorker.controller&&p)&&(p?Lt.permissions.main({siteI18n:l}):await Jt.call(this,o,l,l),Lt.permissions.exitDialogs())};if(v){const e=v.installing||v.waiting||v.active;if(!e)return console.error("Unexpected error: worker registration received without a worker."),void await y();Lt.permissions.main({siteI18n:l});setInterval((()=>{v.update()}),36e5),console.log("worker.state",e.state);const t=async()=>{try{return jt({r:v,langs:o,languages:this.languages,logger:Lt.permissions})}catch(e){return console.log("err",e),pt.alert("\n        There was an unexpected error activating the new version;\n        please save any unfinished work, close this tab, and try\n        opening this site again.\n\n        Please contact a service administrator if the problem\n        persists (Error type: worker activation).\n        ")}};switch(e.state){case"installing":t(),kt({r:v,logger:{addLogEntry(e){console.log(e)}}});break;case"installed":await t();break;case"activating":return await pt.alert("\n    Please wait for a short while as we work to update to a new version.\n    "),t(),void navigator.serviceWorker.onmessage({data:"finishActivate"});case"activated":kt({r:v,logger:{addLogEntry(e){console.log(e)}}});break;case"redundant":return void await t();default:console.log("Unexpected worker.state",e.state)}}else await y();if(Lt.permissions.exitDialogs(),!i)return document.title=l("languages-title"),void Lt.languageSelect.main({langs:o,languages:n,followParams:t,$p:e});const m=await async function({$p:e,lang:t,langs:n,langData:r,fallbackLanguages:o,basePath:i=""}){const a=await me({messageStyle:"plainNested",locales:t,defaultLocales:o,localeResolver:(e,t)=>i+r.localeFileBasePath+n.find((e=>e.code===t)).locale.$ref});return e.l10n||(e.l10n=a),a}({$p:e,lang:r,langs:o,langData:this.langData,fallbackLanguages:a});if((()=>{this.l10n=m,e.l10n=m;return e.get("work")?!g&&(this.workDisplay({l:m,prepareForServiceWorker:Ht.bind(this),lang:r,preferredLocale:s,fallbackLanguages:a,languageParam:i,$p:e,languages:n,preferencesPlugin:this.preferencesPlugin}),!0):(async function({files:e,lang:t,namespace:n,fallbackLanguages:r,$p:o,l:i,followParams:a,prepareForServiceWorker:s}){try{const n=await h(e),u=n["localization-strings"],c=await h(n.groups.reduce(((e,t)=>{const r=(n.metadataBaseDirectory||"")+(t.metadataBaseDirectory||"")+"/";return t.files.reduce(((e,t)=>[...e,r+t.metadataFile]),e)}),[])),l=await me({messageStyle:"plainNested",locales:t,defaultLocales:r,localeStringFinder({locales:e,defaultLocales:t}){const n=[...e,...t].find((e=>e in u));return{locale:n,strings:{head:{},body:u[n]}}}});document.title=l("browserfile-workselect");const f=[...c[Symbol.iterator]()],p=[];f.forEach((e=>{p.push(vt(t,e,"alias"))}));let d=0;const v=()=>{const e=p[d++];return d===p.length&&(d=0),e},{groups:g}=n;Lt.workSelect.main({groups:g,workI18n:l,getNextAlias:v,$p:o,followParams:a,async worksToOffline(){pt.makeSubmitDialog({children:Lt.workSelect.children({groups:g,l:i,workI18n:l,getNextAlias:v}),async submit(){const e=Lt.workSelect.getCheckedWorks();await s({works:e})}})}})}catch(e){console.log("Error",e),pt.alert(e)}}({l:m,namespace:this.namespace,files:this.files,lang:r,fallbackLanguages:a,$p:e,followParams:t,prepareForServiceWorker:Ht.bind(this)}),!0)})())return;return await(async()=>{const t=f||!navigator.serviceWorker.controller;return await this.resultsDisplayClient({langData:this.langData,l:m,lang:r,fallbackLanguages:a,locales:m.strings,$p:e,basePath:"",noIndexedDB:t,dynamicBasePath:this.dynamicBasePath,files:this.files,allowPlugins:this.allowPlugins})})()}}Kt.prototype.workDisplay=async function({l:e,languageParam:n,lang:o,preferredLocale:i,languages:a,fallbackLanguages:s,$p:u,prepareForServiceWorker:c}){const{preferencesPlugin:l}=this,f=this.langData.languages,p=u.get("work"),d=this.getDirectionForLanguageCode(s[0]),v=localStorage.getItem(this.namespace+"-localizeParamNames"),g=u.localizeParamNames=u.has("i18n",!0)?"1"===u.get("i18n",!0):"true"===v||"false"!==v&&this.localizeParamNames,y=localStorage.getItem(this.namespace+"-hideFormattingSection"),m=u.has("formatting",!0)?"0"===u.get("formatting",!0):"true"===y||"false"!==y&&this.hideFormattingSection;try{const v=await this.getWorkData({lang:o,fallbackLanguages:s,preferredLocale:i,languages:a,work:p}),{workI18n:y,fileData:b,metadataObj:w}=v,_=r(v,zt);document.title=y("browserfile-workdisplay",{work:b?vt(o,w,"alias"):""}),await async function({workI18n:t,metadataObj:r,getFieldAliasOrName:v,schemaObj:y,schemaItems:b,fieldInfo:w,metadata:_,pluginsForWork:x,groupsToWorks:S}){const k=g?t=>e(["params",t]):e=>e,j=g?t=>e(["params","indexed",t]):e=>e,O=(t,n)=>e(t,n),E=_.getFieldMatchesLocale({namespace:this.namespace,preferredLocale:i,schemaItems:b,pluginsForWork:x}),A=[];this.getBrowseFieldData({metadataObj:r,schemaItems:b,getFieldAliasOrName:v,callback({browseFields:e,i:t}){Lt.workDisplay.addBrowseFields({browseFields:e,fieldInfo:w,lDirectional:O,i:t,lIndexedParam:j,$p:u,content:A})}});const P=function(...e){const t=Ut(...e);return function(...e){const n=t(...e);return Mt(n)}}({l:e,lParam:k,$p:u}),I=Ut({l:e,lParam:k,$p:u}),{groups:N}=await h(this.files),T=vt(o,r,"heading"),D=(()=>{const e=Promise.all(S.map((async({name:e,workNames:t,shortcuts:n})=>({groupName:e,worksToFields:await Promise.all(t.map((async(e,t)=>({workName:e,shortcut:n[t],fieldAliasOrNames:(await this.getWorkData({lang:o,fallbackLanguages:s,preferredLocale:i,languages:a,work:e})).fieldInfo.map((({fieldAliasOrName:e})=>e))}))))}))));return async()=>e})(),C=new Intl.DisplayNames([...o,...s],{type:"language",languageDisplay:"standard"}),F=this.namespace+"-textbrowser-cache-data",L=indexedDB.open(F),$=await new Promise(((e,t)=>{L.onsuccess=({target:{result:t}})=>{const n="files-to-cache-"+p;try{t.transaction(n),e(!0)}catch(t){e(!1)}finally{t.close()}}}));Lt.workDisplay.main({languageParam:n,lang:o,workI18n:t,work:p,prepareForServiceWorker:c,l:e,namespace:this.namespace,groups:N,heading:T,languageI18n:e=>C.of(e),fallbackDirection:d,langs:f,fieldInfo:w,localizeParamNames:g,serializeParamsAsURL:P,paramsSetter:I,replaceHash:Mt,getFieldAliasOrNames:D,hideFormattingSection:m,$p:u,metadataObj:r,lParam:k,lElement:(t,n,r,o,i=[])=>(o[r]=e(t),[n,o,i]),lDirectional:O,lIndexedParam:j,fieldMatchesLocale:E,preferredLocale:i,schemaItems:b,content:A,preferencesPlugin:l,isOfflined:$})}.call(this,t({workI18n:y,metadataObj:w},_))}catch(e){console.log("err",e),pt.alert(e)}},Kt.prototype.resultsDisplayClient=async function(e){const n=await navigator.storage.persisted(),r=this.skipIndexedDB||!n||!navigator.serviceWorker.controller,o=localStorage.getItem(this.namespace+"-localizeParamNames"),{fieldInfo:i,$p:a,browseFieldSets:s,applicableBrowseFieldSet:u,lang:c,metadataObj:l,fileData:f,fieldValueAliasMapPreferred:p,workI18n:d,lIndexedParam:h,lParamRaw:v,templateArgs:g}=await Vt.call(this,t(t({},e),{},{skipIndexedDB:r,prefI18n:o}));document.title=d("browserfile-resultsdisplay",{work:f?vt(c,l,"alias"):""}),Lt.resultsDisplayClient.main(g),(({applicableBrowseFieldSet:e,fieldValueAliasMapPreferred:t,lParamRaw:n,lIndexedParam:r,max:o,$p:i})=>{const a=e.map((e=>e.fieldSchemaIndex)),s=i.get("work");let u;const c=n("anchorrowcol");if(c&&(u=Lt.resultsDisplayClient.anchorRowCol({anchorRowCol:c})),!u){const e=[];let n="";for(let u,c=1;!u&&!e.length;c++)for(let l=1;;l++){const f=s+"-anchor"+c+"-"+l,p=i.get(f,!0);if(!p){(c===o||e.length)&&(u=!0);break}n=i.get(r("anchorfield")+c,!0);const d=a[l-1],h=Wt(p),v=t[d]&&t[d][h];e.push(v||p)}if(e.length){const t=e=>(e||"").replace(/["\\]/g,"\\$&"),r=t(e.join("-")),o=n?t(n):void 0;u=Lt.resultsDisplayClient.anchors({escapedRow:r,escapedCol:o})}}u&&u.scrollIntoView()})({applicableBrowseFieldSet:u,fieldValueAliasMapPreferred:p,lIndexedParam:h,lParamRaw:v,$p:e.$p,max:s.length}),i.forEach((({plugin:e,applicableField:t,meta:n,j:r})=>{e&&e.done&&e.done({$p:a,applicableField:t,meta:n,j:r,thisObj:this})}))};export{Kt as default};
//# sourceMappingURL=index-es.min.js.map
